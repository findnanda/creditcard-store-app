2018-07-19 11:37:37.360  INFO 7482 --- [main] c.s.c.CreditCardStoreApplication         : Starting CreditCardStoreApplication on dev-VirtualBox with PID 7482 (/home/dev/git/cardpaymentservice/paymentapp/target/classes started by dev in /home/dev/git/cardpaymentservice/paymentapp)
2018-07-19 11:37:37.442  INFO 7482 --- [main] c.s.c.CreditCardStoreApplication         : The following profiles are active: local
2018-07-19 11:37:37.726  INFO 7482 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@11d8ae8b: startup date [Thu Jul 19 11:37:37 BST 2018]; root of context hierarchy
2018-07-19 11:37:44.443  INFO 7482 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 9080 (http)
2018-07-19 11:37:44.573  INFO 7482 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-19 11:37:44.578  INFO 7482 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.28
2018-07-19 11:37:44.624  INFO 7482 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib:/usr/lib64:/lib64:/lib:/usr/lib]
2018-07-19 11:37:45.101  INFO 7482 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-19 11:37:45.102  INFO 7482 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 7376 ms
2018-07-19 11:37:45.568  INFO 7482 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-19 11:37:45.584  INFO 7482 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-19 11:37:45.585  INFO 7482 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-19 11:37:45.588  INFO 7482 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-19 11:37:45.589  INFO 7482 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-19 11:37:45.921  INFO 7482 --- [main] c.j.s.embedmongo.EmbeddedMongoBuilder    : Initializing embedded MongoDB instance
2018-07-19 11:37:46.093  INFO 7482 --- [main] d.f.embed.process.store.Downloader       : Extract /home/dev/.embedmongo/linux/mongodb-linux-x86_64-3.6.2.tgz : starting...
2018-07-19 11:37:49.208  INFO 7482 --- [main] d.f.embed.process.store.Downloader       : Extract /home/dev/.embedmongo/linux/mongodb-linux-x86_64-3.6.2.tgz : extract mongodb-linux-x86_64-3.6.2/bin/mongod
2018-07-19 11:37:49.211  INFO 7482 --- [main] d.f.embed.process.store.Downloader       : Extract /home/dev/.embedmongo/linux/mongodb-linux-x86_64-3.6.2.tgz : nothing left
2018-07-19 11:37:49.212  INFO 7482 --- [main] d.f.embed.process.store.Downloader       : Extract /home/dev/.embedmongo/linux/mongodb-linux-x86_64-3.6.2.tgz : finished
2018-07-19 11:37:49.218  INFO 7482 --- [main] c.j.s.embedmongo.EmbeddedMongoBuilder    : Starting embedded MongoDB instance
2018-07-19 11:37:49.605  INFO 7482 --- [main] d.f.embed.process.runtime.Executable     : start de.flapdoodle.embed.mongo.config.MongodConfigBuilder$ImmutableMongodConfig@5a13fcf3
2018-07-19 11:37:50.676  INFO 7482 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:57787], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-19 11:37:51.062  INFO 7482 --- [cluster-ClusterId{value='5b5069fec9ad371d3a788447', description='null'}-localhost:57787] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:1, serverValue:1}] to localhost:57787
2018-07-19 11:37:51.085  INFO 7482 --- [cluster-ClusterId{value='5b5069fec9ad371d3a788447', description='null'}-localhost:57787] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:57787, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 2]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=18236938}
2018-07-19 11:37:52.018  INFO 7482 --- [main] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:2, serverValue:2}] to localhost:57787
2018-07-19 11:37:54.404  INFO 7482 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/service/store/creditcard/add],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.store.creditcard.controller.CreditCardController.add(com.store.creditcard.requestparam.CreditCardRequestParam)
2018-07-19 11:37:54.432  INFO 7482 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/swagger-resources/configuration/ui]}" onto public org.springframework.http.ResponseEntity<springfox.documentation.swagger.web.UiConfiguration> springfox.documentation.swagger.web.ApiResourceController.uiConfiguration()
2018-07-19 11:37:54.439  INFO 7482 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/swagger-resources/configuration/security]}" onto public org.springframework.http.ResponseEntity<springfox.documentation.swagger.web.SecurityConfiguration> springfox.documentation.swagger.web.ApiResourceController.securityConfiguration()
2018-07-19 11:37:54.443  INFO 7482 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/swagger-resources]}" onto public org.springframework.http.ResponseEntity<java.util.List<springfox.documentation.swagger.web.SwaggerResource>> springfox.documentation.swagger.web.ApiResourceController.swaggerResources()
2018-07-19 11:37:54.486  INFO 7482 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-19 11:37:54.490  INFO 7482 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-19 11:37:55.262  INFO 7482 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/service/v2/api-docs] onto method [public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)]
2018-07-19 11:37:56.203  INFO 7482 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : note: noprealloc may hurt performance in many applications
2018-07-19 11:37:56.242  INFO 7482 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T11:37:56.242+0100 I CONTROL  [initandlisten] MongoDB starting : pid=7534 port=60668 dbpath=/tmp/embedmongo-db-7cb7bec7-f778-468d-a3cd-2c61aefc4beb 64-bit host=dev-VirtualBox
2018-07-19 11:37:56.243  INFO 7482 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T11:37:56.243+0100 I CONTROL  [initandlisten] db version v3.2.2
2018-07-19 11:37:56.244  INFO 7482 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T11:37:56.244+0100 I CONTROL  [initandlisten] git version: 6e71d0d568e134c029203593b00a0103e7cdf30b
2018-07-19 11:37:56.245  INFO 7482 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T11:37:56.245+0100 I CONTROL  [initandlisten] allocator: tcmalloc
2018-07-19 11:37:56.247  INFO 7482 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T11:37:56.247+0100 I CONTROL  [initandlisten] modules: none
2018-07-19 11:37:56.247  INFO 7482 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T11:37:56.247+0100 I CONTROL  [initandlisten] build environment:
2018-07-19 11:37:56.247  INFO 7482 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T11:37:56.247+0100 I CONTROL  [initandlisten]     distarch: x86_64
2018-07-19 11:37:56.248  INFO 7482 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T11:37:56.248+0100 I CONTROL  [initandlisten]     target_arch: x86_64
2018-07-19 11:37:56.248  INFO 7482 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T11:37:56.248+0100 I CONTROL  [initandlisten] options: { net: { bindIp: "127.0.0.1", http: { enabled: false }, port: 60668 }, security: { authorization: "disabled" }, storage: { dbPath: "/tmp/embedmongo-db-7cb7bec7-f778-468d-a3cd-2c61aefc4beb", journal: { enabled: false }, mmapv1: { preallocDataFiles: false, smallFiles: true }, syncPeriodSecs: 0.0 } }
2018-07-19 11:37:56.387  INFO 7482 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T11:37:56.387+0100 I STORAGE  [initandlisten] wiredtiger_open config: create,cache_size=1G,session_max=20000,eviction=(threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000),checkpoint=(wait=0,log_size=2GB),statistics_log=(wait=0),,log=(enabled=false),
2018-07-19 11:37:56.497  INFO 7482 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T11:37:56.496+0100 W STORAGE  [initandlisten] Detected configuration for non-active storage engine mmapv1 when current storage engine is wiredTiger
2018-07-19 11:37:56.505  INFO 7482 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T11:37:56.505+0100 I CONTROL  [initandlisten] 
2018-07-19 11:37:56.508  INFO 7482 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T11:37:56.507+0100 I CONTROL  [initandlisten] ** WARNING: /sys/kernel/mm/transparent_hugepage/enabled is 'always'.
2018-07-19 11:37:56.509  INFO 7482 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T11:37:56.508+0100 I CONTROL  [initandlisten] **        We suggest setting it to 'never'
2018-07-19 11:37:56.511  INFO 7482 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T11:37:56.511+0100 I CONTROL  [initandlisten] 
2018-07-19 11:37:56.511  INFO 7482 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T11:37:56.511+0100 I CONTROL  [initandlisten] ** WARNING: /sys/kernel/mm/transparent_hugepage/defrag is 'always'.
2018-07-19 11:37:56.512  INFO 7482 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T11:37:56.511+0100 I CONTROL  [initandlisten] **        We suggest setting it to 'never'
2018-07-19 11:37:56.512  INFO 7482 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T11:37:56.511+0100 I CONTROL  [initandlisten] 
2018-07-19 11:37:56.515  INFO 7482 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T11:37:56.511+0100 I FTDC     [initandlisten] Initializing full-time diagnostic data capture with directory '/tmp/embedmongo-db-7cb7bec7-f778-468d-a3cd-2c61aefc4beb/diagnostic.data'
2018-07-19 11:37:56.521  INFO 7482 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T11:37:56.520+0100 I NETWORK  [HostnameCanonicalizationWorker] Starting hostname canonicalization worker
2018-07-19 11:37:56.545  INFO 7482 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T11:37:56.545+0100 I NETWORK  [initandlisten] waiting for connections on port 60668
2018-07-19 11:37:56.546  INFO 7482 --- [main] d.f.embed.process.runtime.Executable     : start de.flapdoodle.embed.mongo.config.MongodConfigBuilder$ImmutableMongodConfig@6326c5ec
2018-07-19 11:37:56.597  INFO 7482 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:60668], mode=MULTIPLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-19 11:37:56.619  INFO 7482 --- [main] org.mongodb.driver.cluster               : Adding discovered server localhost:60668 to client view of cluster
2018-07-19 11:37:56.639  INFO 7482 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T11:37:56.639+0100 I NETWORK  [initandlisten] connection accepted from 127.0.0.1:39777 #1 (1 connection now open)
2018-07-19 11:37:56.661  INFO 7482 --- [cluster-ClusterId{value='5b506a04c9ad371d3a788448', description='null'}-localhost:60668] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:3, serverValue:1}] to localhost:60668
2018-07-19 11:37:56.669  INFO 7482 --- [cluster-ClusterId{value='5b506a04c9ad371d3a788448', description='null'}-localhost:60668] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:60668, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 2, 2]}, minWireVersion=0, maxWireVersion=4, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=null, roundTripTimeNanos=575818}
2018-07-19 11:37:56.693  INFO 7482 --- [cluster-ClusterId{value='5b506a04c9ad371d3a788448', description='null'}-localhost:60668] org.mongodb.driver.cluster               : Discovered cluster type of STANDALONE
2018-07-19 11:37:57.737  INFO 7482 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@11d8ae8b: startup date [Thu Jul 19 11:37:37 BST 2018]; root of context hierarchy
2018-07-19 11:37:58.102  INFO 7482 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-19 11:37:58.107  INFO 7482 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-19 11:37:58.182  INFO 7482 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in globalExceptionHandler
2018-07-19 11:37:58.371  INFO 7482 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-19 11:37:59.226  INFO 7482 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-19 11:37:59.301  INFO 7482 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2018-07-19 11:37:59.305  INFO 7482 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2018-07-19 11:37:59.468  INFO 7482 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2018-07-19 11:37:59.636  INFO 7482 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2018-07-19 11:38:01.272  INFO 7482 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 9080 (http) with context path ''
2018-07-19 11:38:01.292  INFO 7482 --- [main] c.s.c.CreditCardStoreApplication         : Started CreditCardStoreApplication in 26.009 seconds (JVM running for 28.438)
2018-07-19 11:38:02.538  INFO 7482 --- [http-nio-9080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-19 11:38:02.540  INFO 7482 --- [http-nio-9080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-19 11:38:02.662  INFO 7482 --- [http-nio-9080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 122 ms
2018-07-19 11:38:03.858  INFO 7482 --- [http-nio-9080-exec-1] c.s.c.validator.CreditCardValidatorImpl  : validating card number
2018-07-19 11:38:03.920  INFO 7482 --- [http-nio-9080-exec-1] c.s.c.controller.CreditCardController    : Invoking add card service
2018-07-19 11:38:08.161  INFO 7482 --- [http-nio-9080-exec-2] c.s.c.validator.CreditCardValidatorImpl  : validating card number
2018-07-19 11:38:08.169  INFO 7482 --- [http-nio-9080-exec-2] c.s.c.controller.CreditCardController    : Invoking add card service
2018-07-19 11:38:08.338 ERROR 7482 --- [http-nio-9080-exec-2] c.s.c.exception.GlobalExceptionHandler   : Resource already exists
2018-07-19 12:00:03.926  INFO 7482 --- [Thread-9] ConfigServletWebServerApplicationContext : Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@11d8ae8b: startup date [Thu Jul 19 11:37:37 BST 2018]; root of context hierarchy
2018-07-19 12:00:03.935  INFO 7482 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T12:00:03.935+0100 I NETWORK  [initandlisten] connection accepted from 127.0.0.1:39915 #2 (2 connections now open)
2018-07-19 12:00:03.941  INFO 7482 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T12:00:03.941+0100 I COMMAND  [conn2] terminating, shutdown command received
2018-07-19 12:00:03.942  INFO 7482 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T12:00:03.942+0100 I FTDC     [conn2] Shutting down full-time diagnostic data capture
2018-07-19 12:00:03.944  INFO 7482 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T12:00:03.944+0100 I CONTROL  [conn2] now exiting
2018-07-19 12:00:03.971  INFO 7482 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T12:00:03.971+0100 I NETWORK  [conn2] shutdown: going to close listening sockets...
2018-07-19 12:00:03.971  INFO 7482 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T12:00:03.971+0100 I NETWORK  [conn2] closing listening socket: 5
2018-07-19 12:00:03.972  INFO 7482 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T12:00:03.972+0100 I NETWORK  [conn2] closing listening socket: 6
2018-07-19 12:00:03.972  INFO 7482 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T12:00:03.972+0100 I NETWORK  [conn2] removing socket file: /tmp/mongodb-60668.sock
2018-07-19 12:00:03.972  INFO 7482 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T12:00:03.972+0100 I NETWORK  [conn2] shutdown: going to flush diaglog...
2018-07-19 12:00:03.972  INFO 7482 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T12:00:03.972+0100 I NETWORK  [conn2] shutdown: going to close sockets...
2018-07-19 12:00:03.972  INFO 7482 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T12:00:03.972+0100 I STORAGE  [conn2] WiredTigerKVEngine shutting down
2018-07-19 12:00:03.979  INFO 7482 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T12:00:03.979+0100 I NETWORK  [conn1] end connection 127.0.0.1:39777 (1 connection now open)
2018-07-19 12:00:03.981  INFO 7482 --- [Thread-9] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2018-07-19 12:00:03.981  INFO 7482 --- [Thread-9] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2018-07-19 12:00:04.006  INFO 7482 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T12:00:04.006+0100 I STORAGE  [conn2] shutdown: removing fs lock...
2018-07-19 12:00:04.008  INFO 7482 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T12:00:04.008+0100 I CONTROL  [conn2] dbexit:  rc: 0
2018-07-19 12:00:04.080  WARN 7482 --- [Thread-5] d.f.e.process.runtime.AbstractProcess    : Could not delete pid file: /tmp/extract-a91eb73e-2b2c-4741-8942-78bb9c49c471extractmongod.pid
2018-07-19 12:00:04.116  WARN 7482 --- [Thread-2] d.f.e.process.runtime.AbstractProcess    : Could not delete pid file: /tmp/extract-2c4ebc74-161a-4e06-bdae-6d4ab7be66b9mongod.pid
2018-07-19 12:00:04.116  WARN 7482 --- [Thread-2] d.f.e.p.store.CachingArtifactStore       : Already removed de.flapdoodle.embed.process.extract.ImmutableExtractedFileSet@444cb2e for PRODUCTION:Linux:B64, emergency shutdown?
2018-07-19 13:49:01.981  INFO 11057 --- [main] c.s.c.CreditCardStoreApplication         : Starting CreditCardStoreApplication on dev-VirtualBox with PID 11057 (/home/dev/git/creditcard-store-app/target/classes started by dev in /home/dev/git/creditcard-store-app)
2018-07-19 13:49:01.990  INFO 11057 --- [main] c.s.c.CreditCardStoreApplication         : The following profiles are active: local
2018-07-19 13:49:02.301  INFO 11057 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4bd31064: startup date [Thu Jul 19 13:49:02 BST 2018]; root of context hierarchy
2018-07-19 13:49:09.006  INFO 11057 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 9080 (http)
2018-07-19 13:49:09.154  INFO 11057 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-19 13:49:09.155  INFO 11057 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.28
2018-07-19 13:49:09.205  INFO 11057 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib:/usr/lib64:/lib64:/lib:/usr/lib]
2018-07-19 13:49:09.662  INFO 11057 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-19 13:49:09.664  INFO 11057 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 7362 ms
2018-07-19 13:49:10.111  INFO 11057 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-19 13:49:10.127  INFO 11057 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-19 13:49:10.130  INFO 11057 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-19 13:49:10.131  INFO 11057 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-19 13:49:10.133  INFO 11057 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-19 13:49:10.449  INFO 11057 --- [main] c.j.s.embedmongo.EmbeddedMongoBuilder    : Initializing embedded MongoDB instance
2018-07-19 13:49:10.636  INFO 11057 --- [main] d.f.embed.process.store.Downloader       : Extract /home/dev/.embedmongo/linux/mongodb-linux-x86_64-3.6.2.tgz : starting...
2018-07-19 13:49:13.794  INFO 11057 --- [main] d.f.embed.process.store.Downloader       : Extract /home/dev/.embedmongo/linux/mongodb-linux-x86_64-3.6.2.tgz : extract mongodb-linux-x86_64-3.6.2/bin/mongod
2018-07-19 13:49:13.798  INFO 11057 --- [main] d.f.embed.process.store.Downloader       : Extract /home/dev/.embedmongo/linux/mongodb-linux-x86_64-3.6.2.tgz : nothing left
2018-07-19 13:49:13.799  INFO 11057 --- [main] d.f.embed.process.store.Downloader       : Extract /home/dev/.embedmongo/linux/mongodb-linux-x86_64-3.6.2.tgz : finished
2018-07-19 13:49:13.807  INFO 11057 --- [main] c.j.s.embedmongo.EmbeddedMongoBuilder    : Starting embedded MongoDB instance
2018-07-19 13:49:14.338  INFO 11057 --- [main] d.f.embed.process.runtime.Executable     : start de.flapdoodle.embed.mongo.config.MongodConfigBuilder$ImmutableMongodConfig@343fddd9
2018-07-19 13:49:15.272  INFO 11057 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:50002], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-19 13:49:15.671  INFO 11057 --- [cluster-ClusterId{value='5b5088cbc9ad372b31588f9d', description='null'}-localhost:50002] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:1, serverValue:1}] to localhost:50002
2018-07-19 13:49:15.696  INFO 11057 --- [cluster-ClusterId{value='5b5088cbc9ad372b31588f9d', description='null'}-localhost:50002] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:50002, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 2]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=14309760}
2018-07-19 13:49:16.583  INFO 11057 --- [main] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:2, serverValue:2}] to localhost:50002
2018-07-19 13:49:18.939  INFO 11057 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/service/store/creditcard/add],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.store.creditcard.controller.CreditCardController.add(com.store.creditcard.requestparam.CreditCardRequestParam)
2018-07-19 13:49:18.971  INFO 11057 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/swagger-resources/configuration/ui]}" onto public org.springframework.http.ResponseEntity<springfox.documentation.swagger.web.UiConfiguration> springfox.documentation.swagger.web.ApiResourceController.uiConfiguration()
2018-07-19 13:49:18.974  INFO 11057 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/swagger-resources/configuration/security]}" onto public org.springframework.http.ResponseEntity<springfox.documentation.swagger.web.SecurityConfiguration> springfox.documentation.swagger.web.ApiResourceController.securityConfiguration()
2018-07-19 13:49:18.977  INFO 11057 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/swagger-resources]}" onto public org.springframework.http.ResponseEntity<java.util.List<springfox.documentation.swagger.web.SwaggerResource>> springfox.documentation.swagger.web.ApiResourceController.swaggerResources()
2018-07-19 13:49:19.016  INFO 11057 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-19 13:49:19.020  INFO 11057 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-19 13:49:19.666  INFO 11057 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/service/v2/api-docs] onto method [public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)]
2018-07-19 13:49:20.719  INFO 11057 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : note: noprealloc may hurt performance in many applications
2018-07-19 13:49:20.744  INFO 11057 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T13:49:20.741+0100 I CONTROL  [initandlisten] MongoDB starting : pid=11111 port=57323 dbpath=/tmp/embedmongo-db-26f87f52-153d-4609-bb34-bc89558c3d6e 64-bit host=dev-VirtualBox
2018-07-19 13:49:20.745  INFO 11057 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T13:49:20.744+0100 I CONTROL  [initandlisten] db version v3.2.2
2018-07-19 13:49:20.745  INFO 11057 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T13:49:20.745+0100 I CONTROL  [initandlisten] git version: 6e71d0d568e134c029203593b00a0103e7cdf30b
2018-07-19 13:49:20.746  INFO 11057 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T13:49:20.746+0100 I CONTROL  [initandlisten] allocator: tcmalloc
2018-07-19 13:49:20.748  INFO 11057 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T13:49:20.748+0100 I CONTROL  [initandlisten] modules: none
2018-07-19 13:49:20.748  INFO 11057 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T13:49:20.748+0100 I CONTROL  [initandlisten] build environment:
2018-07-19 13:49:20.749  INFO 11057 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T13:49:20.749+0100 I CONTROL  [initandlisten]     distarch: x86_64
2018-07-19 13:49:20.749  INFO 11057 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T13:49:20.749+0100 I CONTROL  [initandlisten]     target_arch: x86_64
2018-07-19 13:49:20.749  INFO 11057 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T13:49:20.749+0100 I CONTROL  [initandlisten] options: { net: { bindIp: "127.0.0.1", http: { enabled: false }, port: 57323 }, security: { authorization: "disabled" }, storage: { dbPath: "/tmp/embedmongo-db-26f87f52-153d-4609-bb34-bc89558c3d6e", journal: { enabled: false }, mmapv1: { preallocDataFiles: false, smallFiles: true }, syncPeriodSecs: 0.0 } }
2018-07-19 13:49:20.962  INFO 11057 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T13:49:20.962+0100 I STORAGE  [initandlisten] wiredtiger_open config: create,cache_size=1G,session_max=20000,eviction=(threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000),checkpoint=(wait=0,log_size=2GB),statistics_log=(wait=0),,log=(enabled=false),
2018-07-19 13:49:21.150  INFO 11057 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T13:49:21.150+0100 W STORAGE  [initandlisten] Detected configuration for non-active storage engine mmapv1 when current storage engine is wiredTiger
2018-07-19 13:49:21.150  INFO 11057 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T13:49:21.150+0100 I CONTROL  [initandlisten] 
2018-07-19 13:49:21.151  INFO 11057 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T13:49:21.151+0100 I CONTROL  [initandlisten] ** WARNING: /sys/kernel/mm/transparent_hugepage/enabled is 'always'.
2018-07-19 13:49:21.151  INFO 11057 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T13:49:21.151+0100 I CONTROL  [initandlisten] **        We suggest setting it to 'never'
2018-07-19 13:49:21.151  INFO 11057 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T13:49:21.151+0100 I CONTROL  [initandlisten] 
2018-07-19 13:49:21.152  INFO 11057 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T13:49:21.151+0100 I CONTROL  [initandlisten] ** WARNING: /sys/kernel/mm/transparent_hugepage/defrag is 'always'.
2018-07-19 13:49:21.152  INFO 11057 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T13:49:21.151+0100 I CONTROL  [initandlisten] **        We suggest setting it to 'never'
2018-07-19 13:49:21.152  INFO 11057 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T13:49:21.151+0100 I CONTROL  [initandlisten] 
2018-07-19 13:49:21.154  INFO 11057 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T13:49:21.153+0100 I FTDC     [initandlisten] Initializing full-time diagnostic data capture with directory '/tmp/embedmongo-db-26f87f52-153d-4609-bb34-bc89558c3d6e/diagnostic.data'
2018-07-19 13:49:21.169  INFO 11057 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T13:49:21.169+0100 I NETWORK  [HostnameCanonicalizationWorker] Starting hostname canonicalization worker
2018-07-19 13:49:21.187  INFO 11057 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T13:49:21.187+0100 I NETWORK  [initandlisten] waiting for connections on port 57323
2018-07-19 13:49:21.188  INFO 11057 --- [main] d.f.embed.process.runtime.Executable     : start de.flapdoodle.embed.mongo.config.MongodConfigBuilder$ImmutableMongodConfig@29147c12
2018-07-19 13:49:21.226  INFO 11057 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:57323], mode=MULTIPLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-19 13:49:21.237  INFO 11057 --- [main] org.mongodb.driver.cluster               : Adding discovered server localhost:57323 to client view of cluster
2018-07-19 13:49:21.264  INFO 11057 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T13:49:21.264+0100 I NETWORK  [initandlisten] connection accepted from 127.0.0.1:34370 #1 (1 connection now open)
2018-07-19 13:49:21.302  INFO 11057 --- [cluster-ClusterId{value='5b5088d1c9ad372b31588f9e', description='null'}-localhost:57323] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:3, serverValue:1}] to localhost:57323
2018-07-19 13:49:21.316  INFO 11057 --- [cluster-ClusterId{value='5b5088d1c9ad372b31588f9e', description='null'}-localhost:57323] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:57323, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 2, 2]}, minWireVersion=0, maxWireVersion=4, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=null, roundTripTimeNanos=799656}
2018-07-19 13:49:21.334  INFO 11057 --- [cluster-ClusterId{value='5b5088d1c9ad372b31588f9e', description='null'}-localhost:57323] org.mongodb.driver.cluster               : Discovered cluster type of STANDALONE
2018-07-19 13:49:22.398  INFO 11057 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4bd31064: startup date [Thu Jul 19 13:49:02 BST 2018]; root of context hierarchy
2018-07-19 13:49:22.817  INFO 11057 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-19 13:49:22.828  INFO 11057 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-19 13:49:22.911  INFO 11057 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in globalExceptionHandler
2018-07-19 13:49:23.129  INFO 11057 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-19 13:49:24.104  INFO 11057 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-19 13:49:24.153  INFO 11057 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2018-07-19 13:49:24.163  INFO 11057 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2018-07-19 13:49:24.363  INFO 11057 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2018-07-19 13:49:24.558  INFO 11057 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2018-07-19 13:49:25.745  INFO 11057 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 9080 (http) with context path ''
2018-07-19 13:49:25.765  INFO 11057 --- [main] c.s.c.CreditCardStoreApplication         : Started CreditCardStoreApplication in 25.892 seconds (JVM running for 27.771)
2018-07-19 13:51:37.051  INFO 11057 --- [Thread-9] ConfigServletWebServerApplicationContext : Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4bd31064: startup date [Thu Jul 19 13:49:02 BST 2018]; root of context hierarchy
2018-07-19 13:51:37.074  INFO 11057 --- [Thread-9] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2018-07-19 13:51:37.084  INFO 11057 --- [Thread-9] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2018-07-19 13:51:37.089  INFO 11057 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T13:51:37.089+0100 I NETWORK  [conn1] end connection 127.0.0.1:34370 (0 connections now open)
2018-07-19 13:51:37.115  INFO 11057 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T13:51:37.114+0100 I NETWORK  [initandlisten] connection accepted from 127.0.0.1:34372 #2 (1 connection now open)
2018-07-19 13:51:37.136  INFO 11057 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T13:51:37.136+0100 I COMMAND  [conn2] terminating, shutdown command received
2018-07-19 13:51:37.136  INFO 11057 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T13:51:37.136+0100 I FTDC     [conn2] Shutting down full-time diagnostic data capture
2018-07-19 13:51:37.139  INFO 11057 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T13:51:37.139+0100 I CONTROL  [conn2] now exiting
2018-07-19 13:51:37.146  INFO 11057 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T13:51:37.146+0100 I NETWORK  [conn2] shutdown: going to close listening sockets...
2018-07-19 13:51:37.147  INFO 11057 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T13:51:37.147+0100 I NETWORK  [conn2] closing listening socket: 5
2018-07-19 13:51:37.147  INFO 11057 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T13:51:37.147+0100 I NETWORK  [conn2] closing listening socket: 6
2018-07-19 13:51:37.147  INFO 11057 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T13:51:37.147+0100 I NETWORK  [conn2] removing socket file: /tmp/mongodb-57323.sock
2018-07-19 13:51:37.148  INFO 11057 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T13:51:37.148+0100 I NETWORK  [conn2] shutdown: going to flush diaglog...
2018-07-19 13:51:37.151  INFO 11057 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T13:51:37.151+0100 I NETWORK  [conn2] shutdown: going to close sockets...
2018-07-19 13:51:37.151  INFO 11057 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T13:51:37.151+0100 I STORAGE  [conn2] WiredTigerKVEngine shutting down
2018-07-19 13:51:37.177  INFO 11057 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T13:51:37.177+0100 I STORAGE  [conn2] shutdown: removing fs lock...
2018-07-19 13:51:37.180  INFO 11057 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T13:51:37.180+0100 I CONTROL  [conn2] dbexit:  rc: 0
2018-07-19 13:51:37.258  WARN 11057 --- [Thread-5] d.f.e.process.runtime.AbstractProcess    : Could not delete pid file: /tmp/extract-a7f38bc9-5a79-4862-99eb-8c958d7f93ccextractmongod.pid
2018-07-19 13:51:37.301  WARN 11057 --- [Thread-2] d.f.e.process.runtime.AbstractProcess    : Could not delete pid file: /tmp/extract-62bf649b-a2c4-496e-b2e8-64a8a5dd32bfmongod.pid
2018-07-19 13:51:37.302  WARN 11057 --- [Thread-2] d.f.e.p.store.CachingArtifactStore       : Already removed de.flapdoodle.embed.process.extract.ImmutableExtractedFileSet@7d91fbdd for PRODUCTION:Linux:B64, emergency shutdown?
2018-07-19 13:52:39.603  INFO 11198 --- [main] c.s.c.CreditCardStoreApplication         : Starting CreditCardStoreApplication on dev-VirtualBox with PID 11198 (/home/dev/git/creditcard-store-app/target/classes started by dev in /home/dev/git/creditcard-store-app)
2018-07-19 13:52:39.617  INFO 11198 --- [main] c.s.c.CreditCardStoreApplication         : The following profiles are active: local
2018-07-19 13:52:39.923  INFO 11198 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4d518b32: startup date [Thu Jul 19 13:52:39 BST 2018]; root of context hierarchy
2018-07-19 13:52:47.010  INFO 11198 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 9080 (http)
2018-07-19 13:52:47.139  INFO 11198 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-19 13:52:47.151  INFO 11198 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.28
2018-07-19 13:52:47.200  INFO 11198 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib:/usr/lib64:/lib64:/lib:/usr/lib]
2018-07-19 13:52:47.672  INFO 11198 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-19 13:52:47.674  INFO 11198 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 7751 ms
2018-07-19 13:52:48.171  INFO 11198 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-19 13:52:48.190  INFO 11198 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-19 13:52:48.197  INFO 11198 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-19 13:52:48.198  INFO 11198 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-19 13:52:48.200  INFO 11198 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-19 13:52:48.598  INFO 11198 --- [main] c.j.s.embedmongo.EmbeddedMongoBuilder    : Initializing embedded MongoDB instance
2018-07-19 13:52:48.805  INFO 11198 --- [main] d.f.embed.process.store.Downloader       : Extract /home/dev/.embedmongo/linux/mongodb-linux-x86_64-3.6.2.tgz : starting...
2018-07-19 13:52:52.169  INFO 11198 --- [main] d.f.embed.process.store.Downloader       : Extract /home/dev/.embedmongo/linux/mongodb-linux-x86_64-3.6.2.tgz : extract mongodb-linux-x86_64-3.6.2/bin/mongod
2018-07-19 13:52:52.172  INFO 11198 --- [main] d.f.embed.process.store.Downloader       : Extract /home/dev/.embedmongo/linux/mongodb-linux-x86_64-3.6.2.tgz : nothing left
2018-07-19 13:52:52.173  INFO 11198 --- [main] d.f.embed.process.store.Downloader       : Extract /home/dev/.embedmongo/linux/mongodb-linux-x86_64-3.6.2.tgz : finished
2018-07-19 13:52:52.181  INFO 11198 --- [main] c.j.s.embedmongo.EmbeddedMongoBuilder    : Starting embedded MongoDB instance
2018-07-19 13:52:52.586  INFO 11198 --- [main] d.f.embed.process.runtime.Executable     : start de.flapdoodle.embed.mongo.config.MongodConfigBuilder$ImmutableMongodConfig@41ef1ea2
2018-07-19 13:52:53.720  INFO 11198 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:55212], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-19 13:52:54.201  INFO 11198 --- [cluster-ClusterId{value='5b5089a5c9ad372bbe0517f0', description='null'}-localhost:55212] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:1, serverValue:1}] to localhost:55212
2018-07-19 13:52:54.234  INFO 11198 --- [cluster-ClusterId{value='5b5089a5c9ad372bbe0517f0', description='null'}-localhost:55212] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:55212, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 2]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=21175646}
2018-07-19 13:52:55.383  INFO 11198 --- [main] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:2, serverValue:2}] to localhost:55212
2018-07-19 13:52:57.903  INFO 11198 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/service/store/creditcard/add],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.store.creditcard.controller.CreditCardController.add(com.store.creditcard.requestparam.CreditCardRequestParam)
2018-07-19 13:52:57.936  INFO 11198 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/swagger-resources/configuration/ui]}" onto public org.springframework.http.ResponseEntity<springfox.documentation.swagger.web.UiConfiguration> springfox.documentation.swagger.web.ApiResourceController.uiConfiguration()
2018-07-19 13:52:57.940  INFO 11198 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/swagger-resources/configuration/security]}" onto public org.springframework.http.ResponseEntity<springfox.documentation.swagger.web.SecurityConfiguration> springfox.documentation.swagger.web.ApiResourceController.securityConfiguration()
2018-07-19 13:52:57.944  INFO 11198 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/swagger-resources]}" onto public org.springframework.http.ResponseEntity<java.util.List<springfox.documentation.swagger.web.SwaggerResource>> springfox.documentation.swagger.web.ApiResourceController.swaggerResources()
2018-07-19 13:52:57.978  INFO 11198 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-19 13:52:57.984  INFO 11198 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-19 13:52:58.672  INFO 11198 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/service/v2/api-docs] onto method [public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)]
2018-07-19 13:52:59.644  INFO 11198 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : note: noprealloc may hurt performance in many applications
2018-07-19 13:52:59.662  INFO 11198 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T13:52:59.662+0100 I CONTROL  [initandlisten] MongoDB starting : pid=11249 port=43214 dbpath=/tmp/embedmongo-db-4a01563e-6dcf-48b0-b417-ba85090f4605 64-bit host=dev-VirtualBox
2018-07-19 13:52:59.663  INFO 11198 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T13:52:59.663+0100 I CONTROL  [initandlisten] db version v3.2.2
2018-07-19 13:52:59.666  INFO 11198 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T13:52:59.666+0100 I CONTROL  [initandlisten] git version: 6e71d0d568e134c029203593b00a0103e7cdf30b
2018-07-19 13:52:59.667  INFO 11198 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T13:52:59.667+0100 I CONTROL  [initandlisten] allocator: tcmalloc
2018-07-19 13:52:59.668  INFO 11198 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T13:52:59.668+0100 I CONTROL  [initandlisten] modules: none
2018-07-19 13:52:59.669  INFO 11198 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T13:52:59.669+0100 I CONTROL  [initandlisten] build environment:
2018-07-19 13:52:59.669  INFO 11198 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T13:52:59.669+0100 I CONTROL  [initandlisten]     distarch: x86_64
2018-07-19 13:52:59.670  INFO 11198 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T13:52:59.670+0100 I CONTROL  [initandlisten]     target_arch: x86_64
2018-07-19 13:52:59.670  INFO 11198 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T13:52:59.670+0100 I CONTROL  [initandlisten] options: { net: { bindIp: "127.0.0.1", http: { enabled: false }, port: 43214 }, security: { authorization: "disabled" }, storage: { dbPath: "/tmp/embedmongo-db-4a01563e-6dcf-48b0-b417-ba85090f4605", journal: { enabled: false }, mmapv1: { preallocDataFiles: false, smallFiles: true }, syncPeriodSecs: 0.0 } }
2018-07-19 13:52:59.824  INFO 11198 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T13:52:59.823+0100 I STORAGE  [initandlisten] wiredtiger_open config: create,cache_size=1G,session_max=20000,eviction=(threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000),checkpoint=(wait=0,log_size=2GB),statistics_log=(wait=0),,log=(enabled=false),
2018-07-19 13:52:59.952  INFO 11198 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T13:52:59.952+0100 W STORAGE  [initandlisten] Detected configuration for non-active storage engine mmapv1 when current storage engine is wiredTiger
2018-07-19 13:52:59.954  INFO 11198 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T13:52:59.953+0100 I CONTROL  [initandlisten] 
2018-07-19 13:52:59.954  INFO 11198 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T13:52:59.954+0100 I CONTROL  [initandlisten] ** WARNING: /sys/kernel/mm/transparent_hugepage/enabled is 'always'.
2018-07-19 13:52:59.955  INFO 11198 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T13:52:59.955+0100 I CONTROL  [initandlisten] **        We suggest setting it to 'never'
2018-07-19 13:52:59.955  INFO 11198 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T13:52:59.955+0100 I CONTROL  [initandlisten] 
2018-07-19 13:52:59.955  INFO 11198 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T13:52:59.955+0100 I CONTROL  [initandlisten] ** WARNING: /sys/kernel/mm/transparent_hugepage/defrag is 'always'.
2018-07-19 13:52:59.956  INFO 11198 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T13:52:59.956+0100 I CONTROL  [initandlisten] **        We suggest setting it to 'never'
2018-07-19 13:52:59.956  INFO 11198 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T13:52:59.956+0100 I CONTROL  [initandlisten] 
2018-07-19 13:52:59.957  INFO 11198 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T13:52:59.957+0100 I FTDC     [initandlisten] Initializing full-time diagnostic data capture with directory '/tmp/embedmongo-db-4a01563e-6dcf-48b0-b417-ba85090f4605/diagnostic.data'
2018-07-19 13:52:59.965  INFO 11198 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T13:52:59.964+0100 I NETWORK  [HostnameCanonicalizationWorker] Starting hostname canonicalization worker
2018-07-19 13:53:00.052  INFO 11198 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T13:53:00.052+0100 I NETWORK  [initandlisten] waiting for connections on port 43214
2018-07-19 13:53:00.052  INFO 11198 --- [main] d.f.embed.process.runtime.Executable     : start de.flapdoodle.embed.mongo.config.MongodConfigBuilder$ImmutableMongodConfig@33e50ff2
2018-07-19 13:53:00.107  INFO 11198 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:43214], mode=MULTIPLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-19 13:53:00.116  INFO 11198 --- [main] org.mongodb.driver.cluster               : Adding discovered server localhost:43214 to client view of cluster
2018-07-19 13:53:00.139  INFO 11198 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T13:53:00.139+0100 I NETWORK  [initandlisten] connection accepted from 127.0.0.1:53576 #1 (1 connection now open)
2018-07-19 13:53:00.176  INFO 11198 --- [cluster-ClusterId{value='5b5089acc9ad372bbe0517f1', description='null'}-localhost:43214] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:3, serverValue:1}] to localhost:43214
2018-07-19 13:53:00.177  INFO 11198 --- [cluster-ClusterId{value='5b5089acc9ad372bbe0517f1', description='null'}-localhost:43214] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:43214, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 2, 2]}, minWireVersion=0, maxWireVersion=4, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=null, roundTripTimeNanos=985735}
2018-07-19 13:53:00.195  INFO 11198 --- [cluster-ClusterId{value='5b5089acc9ad372bbe0517f1', description='null'}-localhost:43214] org.mongodb.driver.cluster               : Discovered cluster type of STANDALONE
2018-07-19 13:53:01.189  INFO 11198 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4d518b32: startup date [Thu Jul 19 13:52:39 BST 2018]; root of context hierarchy
2018-07-19 13:53:01.666  INFO 11198 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-19 13:53:01.673  INFO 11198 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-19 13:53:01.800  INFO 11198 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in globalExceptionHandler
2018-07-19 13:53:01.970  INFO 11198 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-19 13:53:02.994  INFO 11198 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-19 13:53:03.073  INFO 11198 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2018-07-19 13:53:03.080  INFO 11198 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2018-07-19 13:53:03.251  INFO 11198 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2018-07-19 13:53:03.492  INFO 11198 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2018-07-19 13:53:04.845  INFO 11198 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 9080 (http) with context path ''
2018-07-19 13:53:04.858  INFO 11198 --- [main] c.s.c.CreditCardStoreApplication         : Started CreditCardStoreApplication in 27.379 seconds (JVM running for 29.326)
2018-07-19 13:55:55.695  INFO 11198 --- [http-nio-9080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-19 13:55:55.698  INFO 11198 --- [http-nio-9080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-19 13:55:55.823  INFO 11198 --- [http-nio-9080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 125 ms
2018-07-19 13:55:56.915  INFO 11198 --- [http-nio-9080-exec-1] c.s.c.validator.CreditCardValidatorImpl  : validating card number
2018-07-19 13:55:56.969  INFO 11198 --- [http-nio-9080-exec-1] c.s.c.controller.CreditCardController    : Invoking add card service
2018-07-19 13:55:59.666  INFO 11198 --- [http-nio-9080-exec-2] c.s.c.validator.CreditCardValidatorImpl  : validating card number
2018-07-19 13:55:59.669  INFO 11198 --- [http-nio-9080-exec-2] c.s.c.controller.CreditCardController    : Invoking add card service
2018-07-19 13:55:59.849 ERROR 11198 --- [http-nio-9080-exec-2] c.s.c.exception.GlobalExceptionHandler   : Resource already exists
2018-07-19 13:56:08.291  INFO 11198 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T13:56:08.290+0100 I NETWORK  [initandlisten] connection accepted from 127.0.0.1:53582 #2 (2 connections now open)
2018-07-19 13:56:08.304  INFO 11198 --- [Thread-9] ConfigServletWebServerApplicationContext : Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4d518b32: startup date [Thu Jul 19 13:52:39 BST 2018]; root of context hierarchy
2018-07-19 13:56:08.307  INFO 11198 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T13:56:08.307+0100 I COMMAND  [conn2] terminating, shutdown command received
2018-07-19 13:56:08.307  INFO 11198 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T13:56:08.307+0100 I FTDC     [conn2] Shutting down full-time diagnostic data capture
2018-07-19 13:56:08.308  INFO 11198 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T13:56:08.308+0100 I CONTROL  [conn2] now exiting
2018-07-19 13:56:08.316  INFO 11198 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T13:56:08.316+0100 I NETWORK  [conn2] shutdown: going to close listening sockets...
2018-07-19 13:56:08.317  INFO 11198 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T13:56:08.317+0100 I NETWORK  [conn2] closing listening socket: 5
2018-07-19 13:56:08.317  INFO 11198 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T13:56:08.317+0100 I NETWORK  [conn2] closing listening socket: 6
2018-07-19 13:56:08.318  INFO 11198 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T13:56:08.318+0100 I NETWORK  [conn2] removing socket file: /tmp/mongodb-43214.sock
2018-07-19 13:56:08.318  INFO 11198 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T13:56:08.318+0100 I NETWORK  [conn2] shutdown: going to flush diaglog...
2018-07-19 13:56:08.318  INFO 11198 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T13:56:08.318+0100 I NETWORK  [conn2] shutdown: going to close sockets...
2018-07-19 13:56:08.318  INFO 11198 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T13:56:08.318+0100 I STORAGE  [conn2] WiredTigerKVEngine shutting down
2018-07-19 13:56:08.321  INFO 11198 --- [Thread-9] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2018-07-19 13:56:08.324  INFO 11198 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T13:56:08.324+0100 I NETWORK  [conn1] end connection 127.0.0.1:53576 (1 connection now open)
2018-07-19 13:56:08.322  INFO 11198 --- [Thread-9] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2018-07-19 13:56:08.345  INFO 11198 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T13:56:08.344+0100 I STORAGE  [conn2] shutdown: removing fs lock...
2018-07-19 13:56:08.352  INFO 11198 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T13:56:08.348+0100 I CONTROL  [conn2] dbexit:  rc: 0
2018-07-19 13:56:08.427  WARN 11198 --- [Thread-5] d.f.e.process.runtime.AbstractProcess    : Could not delete pid file: /tmp/extract-c0c5ad12-a840-4a61-87bc-0bb7acfe583bextractmongod.pid
2018-07-19 13:56:08.500  WARN 11198 --- [Thread-2] d.f.e.process.runtime.AbstractProcess    : Could not delete pid file: /tmp/extract-e2278b62-addc-4bbb-aed4-0bacb8a83b3dmongod.pid
2018-07-19 13:56:08.500  WARN 11198 --- [Thread-2] d.f.e.p.store.CachingArtifactStore       : Already removed de.flapdoodle.embed.process.extract.ImmutableExtractedFileSet@6ca8f3fe for PRODUCTION:Linux:B64, emergency shutdown?
2018-07-19 20:00:11.506  INFO 14254 --- [main] c.s.c.CreditCardStoreApplication         : Starting CreditCardStoreApplication on dev-VirtualBox with PID 14254 (/home/dev/git/creditcard-store-app/target/classes started by dev in /home/dev/git/creditcard-store-app)
2018-07-19 20:00:11.570  INFO 14254 --- [main] c.s.c.CreditCardStoreApplication         : The following profiles are active: local
2018-07-19 20:00:11.900  INFO 14254 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4bd31064: startup date [Thu Jul 19 20:00:11 BST 2018]; root of context hierarchy
2018-07-19 20:00:19.794  INFO 14254 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 9080 (http)
2018-07-19 20:00:20.027  INFO 14254 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-19 20:00:20.032  INFO 14254 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.28
2018-07-19 20:00:20.124  INFO 14254 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib:/usr/lib64:/lib64:/lib:/usr/lib]
2018-07-19 20:00:20.777  INFO 14254 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-19 20:00:20.781  INFO 14254 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 8880 ms
2018-07-19 20:00:21.607  INFO 14254 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-19 20:00:21.631  INFO 14254 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-19 20:00:21.640  INFO 14254 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-19 20:00:21.641  INFO 14254 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-19 20:00:21.650  INFO 14254 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-19 20:00:22.104  INFO 14254 --- [main] c.j.s.embedmongo.EmbeddedMongoBuilder    : Initializing embedded MongoDB instance
2018-07-19 20:00:22.284  INFO 14254 --- [main] d.f.embed.process.store.Downloader       : Extract /home/dev/.embedmongo/linux/mongodb-linux-x86_64-3.6.2.tgz : starting...
2018-07-19 20:00:25.766  INFO 14254 --- [main] d.f.embed.process.store.Downloader       : Extract /home/dev/.embedmongo/linux/mongodb-linux-x86_64-3.6.2.tgz : extract mongodb-linux-x86_64-3.6.2/bin/mongod
2018-07-19 20:00:25.768  INFO 14254 --- [main] d.f.embed.process.store.Downloader       : Extract /home/dev/.embedmongo/linux/mongodb-linux-x86_64-3.6.2.tgz : nothing left
2018-07-19 20:00:25.769  INFO 14254 --- [main] d.f.embed.process.store.Downloader       : Extract /home/dev/.embedmongo/linux/mongodb-linux-x86_64-3.6.2.tgz : finished
2018-07-19 20:00:25.780  INFO 14254 --- [main] c.j.s.embedmongo.EmbeddedMongoBuilder    : Starting embedded MongoDB instance
2018-07-19 20:00:26.256  INFO 14254 --- [main] d.f.embed.process.runtime.Executable     : start de.flapdoodle.embed.mongo.config.MongodConfigBuilder$ImmutableMongodConfig@2753316c
2018-07-19 20:00:27.617  INFO 14254 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:49217], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-19 20:00:28.010  INFO 14254 --- [cluster-ClusterId{value='5b50dfcbc9ad3737ae64d286', description='null'}-localhost:49217] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:1, serverValue:1}] to localhost:49217
2018-07-19 20:00:28.036  INFO 14254 --- [cluster-ClusterId{value='5b50dfcbc9ad3737ae64d286', description='null'}-localhost:49217] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:49217, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 2]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=17590317}
2018-07-19 20:00:28.900  INFO 14254 --- [main] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:2, serverValue:2}] to localhost:49217
2018-07-19 20:00:31.225  INFO 14254 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/store/creditcard/{id}/charge],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.store.creditcard.controller.CreditCardController.charge(java.lang.String,java.lang.String,java.lang.String)
2018-07-19 20:00:31.230  INFO 14254 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/store/creditcard/credit],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.store.creditcard.controller.CreditCardController.credit(com.store.creditcard.requestparam.CreditCardRequestParam)
2018-07-19 20:00:31.235  INFO 14254 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/store/creditcard/add],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.store.creditcard.controller.CreditCardController.add(com.store.creditcard.requestparam.CreditCardRequestParam)
2018-07-19 20:00:31.260  INFO 14254 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/swagger-resources/configuration/ui]}" onto public org.springframework.http.ResponseEntity<springfox.documentation.swagger.web.UiConfiguration> springfox.documentation.swagger.web.ApiResourceController.uiConfiguration()
2018-07-19 20:00:31.264  INFO 14254 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/swagger-resources/configuration/security]}" onto public org.springframework.http.ResponseEntity<springfox.documentation.swagger.web.SecurityConfiguration> springfox.documentation.swagger.web.ApiResourceController.securityConfiguration()
2018-07-19 20:00:31.266  INFO 14254 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/swagger-resources]}" onto public org.springframework.http.ResponseEntity<java.util.List<springfox.documentation.swagger.web.SwaggerResource>> springfox.documentation.swagger.web.ApiResourceController.swaggerResources()
2018-07-19 20:00:31.304  INFO 14254 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-19 20:00:31.307  INFO 14254 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-19 20:00:31.983  INFO 14254 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/service/v2/api-docs] onto method [public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)]
2018-07-19 20:00:33.198  INFO 14254 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : note: noprealloc may hurt performance in many applications
2018-07-19 20:00:33.237  INFO 14254 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T20:00:33.236+0100 I CONTROL  [initandlisten] MongoDB starting : pid=14308 port=36216 dbpath=/tmp/embedmongo-db-4da1d032-069f-443f-8a67-3cb58dcc6679 64-bit host=dev-VirtualBox
2018-07-19 20:00:33.240  INFO 14254 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T20:00:33.240+0100 I CONTROL  [initandlisten] db version v3.2.2
2018-07-19 20:00:33.248  INFO 14254 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T20:00:33.248+0100 I CONTROL  [initandlisten] git version: 6e71d0d568e134c029203593b00a0103e7cdf30b
2018-07-19 20:00:33.250  INFO 14254 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T20:00:33.249+0100 I CONTROL  [initandlisten] allocator: tcmalloc
2018-07-19 20:00:33.257  INFO 14254 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T20:00:33.257+0100 I CONTROL  [initandlisten] modules: none
2018-07-19 20:00:33.258  INFO 14254 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T20:00:33.258+0100 I CONTROL  [initandlisten] build environment:
2018-07-19 20:00:33.259  INFO 14254 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T20:00:33.259+0100 I CONTROL  [initandlisten]     distarch: x86_64
2018-07-19 20:00:33.259  INFO 14254 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T20:00:33.259+0100 I CONTROL  [initandlisten]     target_arch: x86_64
2018-07-19 20:00:33.262  INFO 14254 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T20:00:33.260+0100 I CONTROL  [initandlisten] options: { net: { bindIp: "127.0.0.1", http: { enabled: false }, port: 36216 }, security: { authorization: "disabled" }, storage: { dbPath: "/tmp/embedmongo-db-4da1d032-069f-443f-8a67-3cb58dcc6679", journal: { enabled: false }, mmapv1: { preallocDataFiles: false, smallFiles: true }, syncPeriodSecs: 0.0 } }
2018-07-19 20:00:33.473  INFO 14254 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T20:00:33.473+0100 I STORAGE  [initandlisten] wiredtiger_open config: create,cache_size=1G,session_max=20000,eviction=(threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000),checkpoint=(wait=0,log_size=2GB),statistics_log=(wait=0),,log=(enabled=false),
2018-07-19 20:00:33.621  INFO 14254 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T20:00:33.621+0100 W STORAGE  [initandlisten] Detected configuration for non-active storage engine mmapv1 when current storage engine is wiredTiger
2018-07-19 20:00:33.622  INFO 14254 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T20:00:33.622+0100 I CONTROL  [initandlisten] 
2018-07-19 20:00:33.623  INFO 14254 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T20:00:33.623+0100 I CONTROL  [initandlisten] ** WARNING: /sys/kernel/mm/transparent_hugepage/enabled is 'always'.
2018-07-19 20:00:33.627  INFO 14254 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T20:00:33.627+0100 I CONTROL  [initandlisten] **        We suggest setting it to 'never'
2018-07-19 20:00:33.628  INFO 14254 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T20:00:33.628+0100 I CONTROL  [initandlisten] 
2018-07-19 20:00:33.629  INFO 14254 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T20:00:33.629+0100 I CONTROL  [initandlisten] ** WARNING: /sys/kernel/mm/transparent_hugepage/defrag is 'always'.
2018-07-19 20:00:33.629  INFO 14254 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T20:00:33.629+0100 I CONTROL  [initandlisten] **        We suggest setting it to 'never'
2018-07-19 20:00:33.629  INFO 14254 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T20:00:33.629+0100 I CONTROL  [initandlisten] 
2018-07-19 20:00:33.630  INFO 14254 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T20:00:33.630+0100 I FTDC     [initandlisten] Initializing full-time diagnostic data capture with directory '/tmp/embedmongo-db-4da1d032-069f-443f-8a67-3cb58dcc6679/diagnostic.data'
2018-07-19 20:00:33.634  INFO 14254 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T20:00:33.634+0100 I NETWORK  [HostnameCanonicalizationWorker] Starting hostname canonicalization worker
2018-07-19 20:00:33.658  INFO 14254 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T20:00:33.658+0100 I NETWORK  [initandlisten] waiting for connections on port 36216
2018-07-19 20:00:33.659  INFO 14254 --- [main] d.f.embed.process.runtime.Executable     : start de.flapdoodle.embed.mongo.config.MongodConfigBuilder$ImmutableMongodConfig@602298b
2018-07-19 20:00:33.715  INFO 14254 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:36216], mode=MULTIPLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-19 20:00:33.721  INFO 14254 --- [main] org.mongodb.driver.cluster               : Adding discovered server localhost:36216 to client view of cluster
2018-07-19 20:00:33.744  INFO 14254 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T20:00:33.744+0100 I NETWORK  [initandlisten] connection accepted from 127.0.0.1:42357 #1 (1 connection now open)
2018-07-19 20:00:33.775  INFO 14254 --- [cluster-ClusterId{value='5b50dfd1c9ad3737ae64d287', description='null'}-localhost:36216] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:3, serverValue:1}] to localhost:36216
2018-07-19 20:00:33.792  INFO 14254 --- [cluster-ClusterId{value='5b50dfd1c9ad3737ae64d287', description='null'}-localhost:36216] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:36216, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 2, 2]}, minWireVersion=0, maxWireVersion=4, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=null, roundTripTimeNanos=578712}
2018-07-19 20:00:33.792  INFO 14254 --- [cluster-ClusterId{value='5b50dfd1c9ad3737ae64d287', description='null'}-localhost:36216] org.mongodb.driver.cluster               : Discovered cluster type of STANDALONE
2018-07-19 20:00:34.826  INFO 14254 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4bd31064: startup date [Thu Jul 19 20:00:11 BST 2018]; root of context hierarchy
2018-07-19 20:00:35.282  INFO 14254 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-19 20:00:35.283  INFO 14254 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-19 20:00:35.360  INFO 14254 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in globalExceptionHandler
2018-07-19 20:00:35.517  INFO 14254 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-19 20:00:36.375  INFO 14254 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-19 20:00:36.429  INFO 14254 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2018-07-19 20:00:36.432  INFO 14254 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2018-07-19 20:00:36.591  INFO 14254 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2018-07-19 20:00:36.778  INFO 14254 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2018-07-19 20:00:38.301  INFO 14254 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 9080 (http) with context path ''
2018-07-19 20:00:38.327  INFO 14254 --- [main] c.s.c.CreditCardStoreApplication         : Started CreditCardStoreApplication in 29.235 seconds (JVM running for 31.604)
2018-07-19 20:01:09.683  INFO 14254 --- [http-nio-9080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-19 20:01:09.684  INFO 14254 --- [http-nio-9080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-19 20:01:09.808  INFO 14254 --- [http-nio-9080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 120 ms
2018-07-19 20:01:22.380  INFO 14254 --- [http-nio-9080-exec-2] c.s.c.validator.CreditCardValidatorImpl  : validating card number
2018-07-19 20:01:22.437  INFO 14254 --- [http-nio-9080-exec-2] c.s.c.controller.CreditCardController    : Invoking add card
2018-07-19 20:01:32.018  INFO 14254 --- [http-nio-9080-exec-3] c.s.c.validator.CreditCardValidatorImpl  : validating card number
2018-07-19 20:01:32.019  INFO 14254 --- [http-nio-9080-exec-3] c.s.c.controller.CreditCardController    : Invoking add card
2018-07-19 20:01:32.206 ERROR 14254 --- [http-nio-9080-exec-3] c.s.c.exception.GlobalExceptionHandler   : Resource already exists
2018-07-19 20:06:18.847  INFO 14254 --- [http-nio-9080-exec-9] c.s.c.controller.CreditCardController    : Invoking charge card
2018-07-19 20:07:06.446  INFO 14254 --- [Thread-9] ConfigServletWebServerApplicationContext : Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4bd31064: startup date [Thu Jul 19 20:00:11 BST 2018]; root of context hierarchy
2018-07-19 20:07:06.473  INFO 14254 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T20:07:06.473+0100 I NETWORK  [initandlisten] connection accepted from 127.0.0.1:42365 #2 (2 connections now open)
2018-07-19 20:07:06.483  INFO 14254 --- [Thread-9] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2018-07-19 20:07:06.484  INFO 14254 --- [Thread-9] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2018-07-19 20:07:06.485  INFO 14254 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T20:07:06.485+0100 I COMMAND  [conn2] terminating, shutdown command received
2018-07-19 20:07:06.485  INFO 14254 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T20:07:06.485+0100 I FTDC     [conn2] Shutting down full-time diagnostic data capture
2018-07-19 20:07:06.486  INFO 14254 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T20:07:06.486+0100 I CONTROL  [conn2] now exiting
2018-07-19 20:07:06.493  INFO 14254 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T20:07:06.493+0100 I NETWORK  [conn2] shutdown: going to close listening sockets...
2018-07-19 20:07:06.493  INFO 14254 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T20:07:06.493+0100 I NETWORK  [conn2] closing listening socket: 5
2018-07-19 20:07:06.494  INFO 14254 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T20:07:06.493+0100 I NETWORK  [conn2] closing listening socket: 6
2018-07-19 20:07:06.494  INFO 14254 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T20:07:06.494+0100 I NETWORK  [conn2] removing socket file: /tmp/mongodb-36216.sock
2018-07-19 20:07:06.494  INFO 14254 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T20:07:06.494+0100 I NETWORK  [conn2] shutdown: going to flush diaglog...
2018-07-19 20:07:06.494  INFO 14254 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T20:07:06.494+0100 I NETWORK  [conn2] shutdown: going to close sockets...
2018-07-19 20:07:06.494  INFO 14254 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T20:07:06.494+0100 I STORAGE  [conn2] WiredTigerKVEngine shutting down
2018-07-19 20:07:06.497  INFO 14254 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T20:07:06.497+0100 I NETWORK  [conn1] end connection 127.0.0.1:42357 (1 connection now open)
2018-07-19 20:07:06.543  INFO 14254 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T20:07:06.543+0100 I STORAGE  [conn2] shutdown: removing fs lock...
2018-07-19 20:07:06.544  INFO 14254 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T20:07:06.544+0100 I CONTROL  [conn2] dbexit:  rc: 0
2018-07-19 20:07:06.606  WARN 14254 --- [Thread-5] d.f.e.process.runtime.AbstractProcess    : Could not delete pid file: /tmp/extract-a46f2597-20d8-4d0b-8bed-524bc89dc55eextractmongod.pid
2018-07-19 20:07:06.640  WARN 14254 --- [Thread-2] d.f.e.process.runtime.AbstractProcess    : Could not delete pid file: /tmp/extract-0f01491a-6c49-419f-b750-a36ea57d652amongod.pid
2018-07-19 20:07:06.640  WARN 14254 --- [Thread-2] d.f.e.p.store.CachingArtifactStore       : Already removed de.flapdoodle.embed.process.extract.ImmutableExtractedFileSet@476f9e4c for PRODUCTION:Linux:B64, emergency shutdown?
2018-07-19 20:07:32.756  INFO 14402 --- [main] c.s.c.CreditCardStoreApplication         : Starting CreditCardStoreApplication on dev-VirtualBox with PID 14402 (/home/dev/git/creditcard-store-app/target/classes started by dev in /home/dev/git/creditcard-store-app)
2018-07-19 20:07:32.781  INFO 14402 --- [main] c.s.c.CreditCardStoreApplication         : The following profiles are active: local
2018-07-19 20:07:33.298  INFO 14402 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@23aa363a: startup date [Thu Jul 19 20:07:33 BST 2018]; root of context hierarchy
2018-07-19 20:07:46.577  INFO 14402 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 9080 (http)
2018-07-19 20:07:46.847  INFO 14402 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-19 20:07:46.856  INFO 14402 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.28
2018-07-19 20:07:46.941  INFO 14402 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib:/usr/lib64:/lib64:/lib:/usr/lib]
2018-07-19 20:07:47.758  INFO 14402 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-19 20:07:47.761  INFO 14402 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 14463 ms
2018-07-19 20:07:48.656  INFO 14402 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-19 20:07:48.679  INFO 14402 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-19 20:07:48.686  INFO 14402 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-19 20:07:48.688  INFO 14402 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-19 20:07:48.692  INFO 14402 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-19 20:07:49.413  INFO 14402 --- [main] c.j.s.embedmongo.EmbeddedMongoBuilder    : Initializing embedded MongoDB instance
2018-07-19 20:07:49.814  INFO 14402 --- [main] d.f.embed.process.store.Downloader       : Extract /home/dev/.embedmongo/linux/mongodb-linux-x86_64-3.6.2.tgz : starting...
2018-07-19 20:07:55.768  INFO 14402 --- [main] d.f.embed.process.store.Downloader       : Extract /home/dev/.embedmongo/linux/mongodb-linux-x86_64-3.6.2.tgz : extract mongodb-linux-x86_64-3.6.2/bin/mongod
2018-07-19 20:07:55.770  INFO 14402 --- [main] d.f.embed.process.store.Downloader       : Extract /home/dev/.embedmongo/linux/mongodb-linux-x86_64-3.6.2.tgz : nothing left
2018-07-19 20:07:55.772  INFO 14402 --- [main] d.f.embed.process.store.Downloader       : Extract /home/dev/.embedmongo/linux/mongodb-linux-x86_64-3.6.2.tgz : finished
2018-07-19 20:07:55.774  INFO 14402 --- [main] c.j.s.embedmongo.EmbeddedMongoBuilder    : Starting embedded MongoDB instance
2018-07-19 20:07:56.388  INFO 14402 --- [main] d.f.embed.process.runtime.Executable     : start de.flapdoodle.embed.mongo.config.MongodConfigBuilder$ImmutableMongodConfig@5a1dddba
2018-07-19 20:07:57.821  INFO 14402 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:32790], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-19 20:07:58.496  INFO 14402 --- [cluster-ClusterId{value='5b50e18dc9ad373842fbe08a', description='null'}-localhost:32790] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:1, serverValue:1}] to localhost:32790
2018-07-19 20:07:58.530  INFO 14402 --- [cluster-ClusterId{value='5b50e18dc9ad373842fbe08a', description='null'}-localhost:32790] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:32790, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 2]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=26928642}
2018-07-19 20:08:00.088  INFO 14402 --- [main] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:2, serverValue:2}] to localhost:32790
2018-07-19 20:08:04.028  INFO 14402 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/store/creditcard/{id}/charge],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.store.creditcard.controller.CreditCardController.charge(java.lang.String,java.lang.String,java.lang.String)
2018-07-19 20:08:04.031  INFO 14402 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/store/creditcard/credit],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.store.creditcard.controller.CreditCardController.credit(com.store.creditcard.requestparam.CreditCardRequestParam)
2018-07-19 20:08:04.040  INFO 14402 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/store/creditcard/add],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.store.creditcard.controller.CreditCardController.add(com.store.creditcard.requestparam.CreditCardRequestParam)
2018-07-19 20:08:04.077  INFO 14402 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/swagger-resources/configuration/ui]}" onto public org.springframework.http.ResponseEntity<springfox.documentation.swagger.web.UiConfiguration> springfox.documentation.swagger.web.ApiResourceController.uiConfiguration()
2018-07-19 20:08:04.097  INFO 14402 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/swagger-resources]}" onto public org.springframework.http.ResponseEntity<java.util.List<springfox.documentation.swagger.web.SwaggerResource>> springfox.documentation.swagger.web.ApiResourceController.swaggerResources()
2018-07-19 20:08:04.098  INFO 14402 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/swagger-resources/configuration/security]}" onto public org.springframework.http.ResponseEntity<springfox.documentation.swagger.web.SecurityConfiguration> springfox.documentation.swagger.web.ApiResourceController.securityConfiguration()
2018-07-19 20:08:04.170  INFO 14402 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-19 20:08:04.171  INFO 14402 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-19 20:08:05.418  INFO 14402 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/service/v2/api-docs] onto method [public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)]
2018-07-19 20:08:07.445  INFO 14402 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : note: noprealloc may hurt performance in many applications
2018-07-19 20:08:07.459  INFO 14402 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T20:08:07.459+0100 I CONTROL  [initandlisten] MongoDB starting : pid=14468 port=44863 dbpath=/tmp/embedmongo-db-fd48b81f-715a-495e-a2fb-7e14bbbcfc93 64-bit host=dev-VirtualBox
2018-07-19 20:08:07.489  INFO 14402 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T20:08:07.489+0100 I CONTROL  [initandlisten] db version v3.2.2
2018-07-19 20:08:07.492  INFO 14402 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T20:08:07.491+0100 I CONTROL  [initandlisten] git version: 6e71d0d568e134c029203593b00a0103e7cdf30b
2018-07-19 20:08:07.493  INFO 14402 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T20:08:07.493+0100 I CONTROL  [initandlisten] allocator: tcmalloc
2018-07-19 20:08:07.493  INFO 14402 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T20:08:07.493+0100 I CONTROL  [initandlisten] modules: none
2018-07-19 20:08:07.494  INFO 14402 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T20:08:07.493+0100 I CONTROL  [initandlisten] build environment:
2018-07-19 20:08:07.495  INFO 14402 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T20:08:07.495+0100 I CONTROL  [initandlisten]     distarch: x86_64
2018-07-19 20:08:07.496  INFO 14402 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T20:08:07.495+0100 I CONTROL  [initandlisten]     target_arch: x86_64
2018-07-19 20:08:07.497  INFO 14402 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T20:08:07.495+0100 I CONTROL  [initandlisten] options: { net: { bindIp: "127.0.0.1", http: { enabled: false }, port: 44863 }, security: { authorization: "disabled" }, storage: { dbPath: "/tmp/embedmongo-db-fd48b81f-715a-495e-a2fb-7e14bbbcfc93", journal: { enabled: false }, mmapv1: { preallocDataFiles: false, smallFiles: true }, syncPeriodSecs: 0.0 } }
2018-07-19 20:08:07.754  INFO 14402 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T20:08:07.754+0100 I STORAGE  [initandlisten] wiredtiger_open config: create,cache_size=1G,session_max=20000,eviction=(threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000),checkpoint=(wait=0,log_size=2GB),statistics_log=(wait=0),,log=(enabled=false),
2018-07-19 20:08:07.925  INFO 14402 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T20:08:07.925+0100 W STORAGE  [initandlisten] Detected configuration for non-active storage engine mmapv1 when current storage engine is wiredTiger
2018-07-19 20:08:07.938  INFO 14402 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T20:08:07.937+0100 I CONTROL  [initandlisten] 
2018-07-19 20:08:07.938  INFO 14402 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T20:08:07.938+0100 I CONTROL  [initandlisten] ** WARNING: /sys/kernel/mm/transparent_hugepage/enabled is 'always'.
2018-07-19 20:08:07.939  INFO 14402 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T20:08:07.938+0100 I CONTROL  [initandlisten] **        We suggest setting it to 'never'
2018-07-19 20:08:07.939  INFO 14402 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T20:08:07.939+0100 I CONTROL  [initandlisten] 
2018-07-19 20:08:07.940  INFO 14402 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T20:08:07.940+0100 I CONTROL  [initandlisten] ** WARNING: /sys/kernel/mm/transparent_hugepage/defrag is 'always'.
2018-07-19 20:08:07.940  INFO 14402 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T20:08:07.940+0100 I CONTROL  [initandlisten] **        We suggest setting it to 'never'
2018-07-19 20:08:07.941  INFO 14402 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T20:08:07.941+0100 I CONTROL  [initandlisten] 
2018-07-19 20:08:07.942  INFO 14402 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T20:08:07.942+0100 I FTDC     [initandlisten] Initializing full-time diagnostic data capture with directory '/tmp/embedmongo-db-fd48b81f-715a-495e-a2fb-7e14bbbcfc93/diagnostic.data'
2018-07-19 20:08:07.946  INFO 14402 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T20:08:07.946+0100 I NETWORK  [HostnameCanonicalizationWorker] Starting hostname canonicalization worker
2018-07-19 20:08:07.973  INFO 14402 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T20:08:07.973+0100 I NETWORK  [initandlisten] waiting for connections on port 44863
2018-07-19 20:08:07.974  INFO 14402 --- [main] d.f.embed.process.runtime.Executable     : start de.flapdoodle.embed.mongo.config.MongodConfigBuilder$ImmutableMongodConfig@173a5fad
2018-07-19 20:08:08.082  INFO 14402 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:44863], mode=MULTIPLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-19 20:08:08.088  INFO 14402 --- [main] org.mongodb.driver.cluster               : Adding discovered server localhost:44863 to client view of cluster
2018-07-19 20:08:08.106  INFO 14402 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T20:08:08.106+0100 I NETWORK  [initandlisten] connection accepted from 127.0.0.1:44654 #1 (1 connection now open)
2018-07-19 20:08:08.131  INFO 14402 --- [cluster-ClusterId{value='5b50e198c9ad373842fbe08b', description='null'}-localhost:44863] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:3, serverValue:1}] to localhost:44863
2018-07-19 20:08:08.153  INFO 14402 --- [cluster-ClusterId{value='5b50e198c9ad373842fbe08b', description='null'}-localhost:44863] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:44863, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 2, 2]}, minWireVersion=0, maxWireVersion=4, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=null, roundTripTimeNanos=9896787}
2018-07-19 20:08:08.156  INFO 14402 --- [cluster-ClusterId{value='5b50e198c9ad373842fbe08b', description='null'}-localhost:44863] org.mongodb.driver.cluster               : Discovered cluster type of STANDALONE
2018-07-19 20:08:10.294  INFO 14402 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@23aa363a: startup date [Thu Jul 19 20:07:33 BST 2018]; root of context hierarchy
2018-07-19 20:08:11.077  INFO 14402 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-19 20:08:11.092  INFO 14402 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-19 20:08:11.236  INFO 14402 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in globalExceptionHandler
2018-07-19 20:08:11.504  INFO 14402 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-19 20:08:14.592  INFO 14402 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-19 20:08:14.716  INFO 14402 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2018-07-19 20:08:14.720  INFO 14402 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2018-07-19 20:08:14.984  INFO 14402 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2018-07-19 20:08:15.280  INFO 14402 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2018-07-19 20:08:17.931  INFO 14402 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 9080 (http) with context path ''
2018-07-19 20:08:17.957  INFO 14402 --- [main] c.s.c.CreditCardStoreApplication         : Started CreditCardStoreApplication in 48.463 seconds (JVM running for 52.404)
2018-07-19 20:08:49.404  INFO 14402 --- [http-nio-9080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-19 20:08:49.405  INFO 14402 --- [http-nio-9080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-19 20:08:49.621  INFO 14402 --- [http-nio-9080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 203 ms
2018-07-19 20:08:50.036  INFO 14402 --- [http-nio-9080-exec-1] c.s.c.controller.CreditCardController    : Invoking charge card
2018-07-19 20:09:50.765 ERROR 14402 --- [http-nio-9080-exec-1] c.s.c.exception.GlobalExceptionHandler   : Resource already exists
2018-07-19 20:15:24.938  INFO 14402 --- [http-nio-9080-exec-2] c.s.c.validator.CreditCardValidatorImpl  : validating card number
2018-07-19 20:15:25.006  INFO 14402 --- [http-nio-9080-exec-2] c.s.c.controller.CreditCardController    : Invoking add card
2018-07-19 20:15:33.058  INFO 14402 --- [http-nio-9080-exec-3] c.s.c.validator.CreditCardValidatorImpl  : validating card number
2018-07-19 20:15:33.079  INFO 14402 --- [http-nio-9080-exec-3] c.s.c.controller.CreditCardController    : Invoking add card
2018-07-19 20:15:33.320 ERROR 14402 --- [http-nio-9080-exec-3] c.s.c.exception.GlobalExceptionHandler   : Resource already exists
2018-07-19 20:15:50.233  INFO 14402 --- [http-nio-9080-exec-5] c.s.c.controller.CreditCardController    : Invoking charge card
2018-07-19 20:16:55.718 ERROR 14402 --- [http-nio-9080-exec-5] c.s.c.exception.GlobalExceptionHandler   : Resource not found
2018-07-19 20:17:08.148  INFO 14402 --- [http-nio-9080-exec-7] c.s.c.controller.CreditCardController    : Invoking charge card
2018-07-19 20:19:43.289  INFO 14402 --- [http-nio-9080-exec-8] c.s.c.controller.CreditCardController    : Invoking charge card
2018-07-19 21:09:10.164  INFO 15346 --- [main] c.s.c.CreditCardStoreApplication         : Starting CreditCardStoreApplication on dev-VirtualBox with PID 15346 (/home/dev/git/creditcard-store-app/target/classes started by dev in /home/dev/git/creditcard-store-app)
2018-07-19 21:09:10.183  INFO 15346 --- [main] c.s.c.CreditCardStoreApplication         : The following profiles are active: local
2018-07-19 21:09:10.636  INFO 15346 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4bd31064: startup date [Thu Jul 19 21:09:10 BST 2018]; root of context hierarchy
2018-07-19 21:09:17.834  INFO 15346 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2018-07-19 21:09:18.055  INFO 15346 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-19 21:09:18.057  INFO 15346 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.28
2018-07-19 21:09:18.123  INFO 15346 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib:/usr/lib64:/lib64:/lib:/usr/lib]
2018-07-19 21:09:18.720  INFO 15346 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-19 21:09:18.726  INFO 15346 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 8090 ms
2018-07-19 21:09:19.315  INFO 15346 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-19 21:09:19.334  INFO 15346 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-19 21:09:19.337  INFO 15346 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-19 21:09:19.338  INFO 15346 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-19 21:09:19.343  INFO 15346 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-19 21:09:20.634  INFO 15346 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : note: noprealloc may hurt performance in many applications
2018-07-19 21:09:20.686  INFO 15346 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:09:20.673+0100 I CONTROL  [initandlisten] MongoDB starting : pid=15373 port=36880 dbpath=/tmp/embedmongo-db-3c6525e1-8e8d-4eaa-abef-1a3cd561e543 64-bit host=dev-VirtualBox
2018-07-19 21:09:20.688  INFO 15346 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:09:20.688+0100 I CONTROL  [initandlisten] db version v3.2.2
2018-07-19 21:09:20.688  INFO 15346 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:09:20.688+0100 I CONTROL  [initandlisten] git version: 6e71d0d568e134c029203593b00a0103e7cdf30b
2018-07-19 21:09:20.689  INFO 15346 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:09:20.689+0100 I CONTROL  [initandlisten] allocator: tcmalloc
2018-07-19 21:09:20.689  INFO 15346 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:09:20.689+0100 I CONTROL  [initandlisten] modules: none
2018-07-19 21:09:20.689  INFO 15346 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:09:20.689+0100 I CONTROL  [initandlisten] build environment:
2018-07-19 21:09:20.690  INFO 15346 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:09:20.689+0100 I CONTROL  [initandlisten]     distarch: x86_64
2018-07-19 21:09:20.690  INFO 15346 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:09:20.690+0100 I CONTROL  [initandlisten]     target_arch: x86_64
2018-07-19 21:09:20.690  INFO 15346 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:09:20.690+0100 I CONTROL  [initandlisten] options: { net: { bindIp: "127.0.0.1", http: { enabled: false }, port: 36880 }, security: { authorization: "disabled" }, storage: { dbPath: "/tmp/embedmongo-db-3c6525e1-8e8d-4eaa-abef-1a3cd561e543", journal: { enabled: false }, mmapv1: { preallocDataFiles: false, smallFiles: true }, syncPeriodSecs: 0.0 } }
2018-07-19 21:09:20.826  INFO 15346 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:09:20.826+0100 I STORAGE  [initandlisten] wiredtiger_open config: create,cache_size=1G,session_max=20000,eviction=(threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000),checkpoint=(wait=0,log_size=2GB),statistics_log=(wait=0),,log=(enabled=false),
2018-07-19 21:09:20.996  INFO 15346 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:09:20.996+0100 W STORAGE  [initandlisten] Detected configuration for non-active storage engine mmapv1 when current storage engine is wiredTiger
2018-07-19 21:09:20.997  INFO 15346 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:09:20.997+0100 I CONTROL  [initandlisten] 
2018-07-19 21:09:20.998  INFO 15346 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:09:20.998+0100 I CONTROL  [initandlisten] ** WARNING: /sys/kernel/mm/transparent_hugepage/enabled is 'always'.
2018-07-19 21:09:21.005  INFO 15346 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:09:21.005+0100 I CONTROL  [initandlisten] **        We suggest setting it to 'never'
2018-07-19 21:09:21.006  INFO 15346 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:09:21.006+0100 I CONTROL  [initandlisten] 
2018-07-19 21:09:21.006  INFO 15346 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:09:21.006+0100 I CONTROL  [initandlisten] ** WARNING: /sys/kernel/mm/transparent_hugepage/defrag is 'always'.
2018-07-19 21:09:21.007  INFO 15346 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:09:21.007+0100 I CONTROL  [initandlisten] **        We suggest setting it to 'never'
2018-07-19 21:09:21.007  INFO 15346 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:09:21.007+0100 I CONTROL  [initandlisten] 
2018-07-19 21:09:21.012  INFO 15346 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:09:21.012+0100 I FTDC     [initandlisten] Initializing full-time diagnostic data capture with directory '/tmp/embedmongo-db-3c6525e1-8e8d-4eaa-abef-1a3cd561e543/diagnostic.data'
2018-07-19 21:09:21.016  INFO 15346 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:09:21.016+0100 I NETWORK  [HostnameCanonicalizationWorker] Starting hostname canonicalization worker
2018-07-19 21:09:21.036  INFO 15346 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:09:21.036+0100 I NETWORK  [initandlisten] waiting for connections on port 36880
2018-07-19 21:09:21.037  INFO 15346 --- [main] d.f.embed.process.runtime.Executable     : start de.flapdoodle.embed.mongo.config.MongodConfigBuilder$ImmutableMongodConfig@1a2bcd56
2018-07-19 21:09:22.204  INFO 15346 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:36880], mode=MULTIPLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-19 21:09:22.205  INFO 15346 --- [main] org.mongodb.driver.cluster               : Adding discovered server localhost:36880 to client view of cluster
2018-07-19 21:09:22.494  INFO 15346 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:09:22.493+0100 I NETWORK  [initandlisten] connection accepted from 127.0.0.1:60494 #1 (1 connection now open)
2018-07-19 21:09:22.672  INFO 15346 --- [cluster-ClusterId{value='5b50eff2c9ad373bf2b1586b', description='null'}-localhost:36880] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:1, serverValue:1}] to localhost:36880
2018-07-19 21:09:22.694  INFO 15346 --- [cluster-ClusterId{value='5b50eff2c9ad373bf2b1586b', description='null'}-localhost:36880] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:36880, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 2, 2]}, minWireVersion=0, maxWireVersion=4, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=null, roundTripTimeNanos=13913839}
2018-07-19 21:09:22.703  INFO 15346 --- [cluster-ClusterId{value='5b50eff2c9ad373bf2b1586b', description='null'}-localhost:36880] org.mongodb.driver.cluster               : Discovered cluster type of STANDALONE
2018-07-19 21:09:23.973  INFO 15346 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:09:23.973+0100 I NETWORK  [initandlisten] connection accepted from 127.0.0.1:60495 #2 (2 connections now open)
2018-07-19 21:09:23.992  INFO 15346 --- [main] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:2, serverValue:2}] to localhost:36880
2018-07-19 21:09:24.050  INFO 15346 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:09:24.050+0100 I INDEX    [conn2] build index on: test.creditCard properties: { v: 1, unique: true, key: { creditCardNumber: 1 }, name: "creditCardNumber", ns: "test.creditCard" }
2018-07-19 21:09:24.051  INFO 15346 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:09:24.051+0100 I INDEX    [conn2] 	 building index using bulk method
2018-07-19 21:09:24.053  INFO 15346 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:09:24.053+0100 I INDEX    [conn2] build index done.  scanned 0 total records. 0 secs
2018-07-19 21:09:25.925  INFO 15346 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4bd31064: startup date [Thu Jul 19 21:09:10 BST 2018]; root of context hierarchy
2018-07-19 21:09:26.331  INFO 15346 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/store/creditcard/{id}/charge],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.store.creditcard.controller.CreditCardController.charge(java.lang.String,java.lang.String,java.lang.String)
2018-07-19 21:09:26.340  INFO 15346 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/store/creditcard/{id}/credit],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.store.creditcard.controller.CreditCardController.credit(com.store.creditcard.request.CreditCardRequestParam)
2018-07-19 21:09:26.342  INFO 15346 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/store/creditcard/add],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.store.creditcard.controller.CreditCardController.add(com.store.creditcard.request.CreditCardRequestParam)
2018-07-19 21:09:26.378  INFO 15346 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-19 21:09:26.382  INFO 15346 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-19 21:09:26.581  INFO 15346 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-19 21:09:26.585  INFO 15346 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-19 21:09:26.659  INFO 15346 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in globalExceptionHandler
2018-07-19 21:09:26.801  INFO 15346 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-19 21:09:27.574  INFO 15346 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-19 21:09:27.823  INFO 15346 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2018-07-19 21:09:27.832  INFO 15346 --- [main] c.s.c.CreditCardStoreApplication         : Started CreditCardStoreApplication in 20.287 seconds (JVM running for 22.972)
2018-07-19 21:10:44.154  INFO 15346 --- [Thread-5] ConfigServletWebServerApplicationContext : Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4bd31064: startup date [Thu Jul 19 21:09:10 BST 2018]; root of context hierarchy
2018-07-19 21:10:44.170  INFO 15346 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:10:44.169+0100 I NETWORK  [initandlisten] connection accepted from 127.0.0.1:60506 #3 (3 connections now open)
2018-07-19 21:10:44.177  INFO 15346 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:10:44.177+0100 I COMMAND  [conn3] terminating, shutdown command received
2018-07-19 21:10:44.171  INFO 15346 --- [Thread-5] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2018-07-19 21:10:44.179  INFO 15346 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:10:44.179+0100 I FTDC     [conn3] Shutting down full-time diagnostic data capture
2018-07-19 21:10:44.182  INFO 15346 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:10:44.182+0100 I CONTROL  [conn3] now exiting
2018-07-19 21:10:44.186  INFO 15346 --- [Thread-5] org.mongodb.driver.connection            : Closed connection [connectionId{localValue:2, serverValue:2}] to localhost:36880 because the pool has been closed.
2018-07-19 21:10:44.192  INFO 15346 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:10:44.186+0100 I NETWORK  [conn3] shutdown: going to close listening sockets...
2018-07-19 21:10:44.192  INFO 15346 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:10:44.186+0100 I NETWORK  [conn3] closing listening socket: 5
2018-07-19 21:10:44.192  INFO 15346 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:10:44.186+0100 I NETWORK  [conn3] closing listening socket: 6
2018-07-19 21:10:44.193  INFO 15346 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:10:44.187+0100 I NETWORK  [conn3] removing socket file: /tmp/mongodb-36880.sock
2018-07-19 21:10:44.193  INFO 15346 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:10:44.187+0100 I NETWORK  [conn3] shutdown: going to flush diaglog...
2018-07-19 21:10:44.193  INFO 15346 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:10:44.187+0100 I NETWORK  [conn3] shutdown: going to close sockets...
2018-07-19 21:10:44.193  INFO 15346 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:10:44.187+0100 I STORAGE  [conn3] WiredTigerKVEngine shutting down
2018-07-19 21:10:44.196  INFO 15346 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:10:44.195+0100 I NETWORK  [conn2] end connection 127.0.0.1:60495 (2 connections now open)
2018-07-19 21:10:44.203  INFO 15346 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:10:44.200+0100 I NETWORK  [conn1] end connection 127.0.0.1:60494 (1 connection now open)
2018-07-19 21:10:44.209  INFO 15346 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:10:44.208+0100 I STORAGE  [conn3] shutdown: removing fs lock...
2018-07-19 21:10:44.210  INFO 15346 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:10:44.210+0100 I CONTROL  [conn3] dbexit:  rc: 0
2018-07-19 21:10:44.324  WARN 15346 --- [Thread-1] d.f.e.process.runtime.AbstractProcess    : Could not delete pid file: /tmp/extract-60fb45f7-13d7-483d-8dff-1ffc30051873extractmongod.pid
2018-07-19 21:36:40.214  INFO 15614 --- [main] c.s.c.CreditCardStoreApplication         : Starting CreditCardStoreApplication on dev-VirtualBox with PID 15614 (/home/dev/git/creditcard-store-app/target/classes started by dev in /home/dev/git/creditcard-store-app)
2018-07-19 21:36:40.238  INFO 15614 --- [main] c.s.c.CreditCardStoreApplication         : The following profiles are active: local
2018-07-19 21:36:40.600  INFO 15614 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4bd31064: startup date [Thu Jul 19 21:36:40 BST 2018]; root of context hierarchy
2018-07-19 21:36:47.681  INFO 15614 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2018-07-19 21:36:47.887  INFO 15614 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-19 21:36:47.897  INFO 15614 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.28
2018-07-19 21:36:47.972  INFO 15614 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib:/usr/lib64:/lib64:/lib:/usr/lib]
2018-07-19 21:36:48.566  INFO 15614 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-19 21:36:48.573  INFO 15614 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 7972 ms
2018-07-19 21:36:49.143  INFO 15614 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-19 21:36:49.172  INFO 15614 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-19 21:36:49.180  INFO 15614 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-19 21:36:49.180  INFO 15614 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-19 21:36:49.184  INFO 15614 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-19 21:36:50.303  INFO 15614 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : note: noprealloc may hurt performance in many applications
2018-07-19 21:36:50.335  INFO 15614 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:36:50.334+0100 I CONTROL  [initandlisten] MongoDB starting : pid=15639 port=60754 dbpath=/tmp/embedmongo-db-a8c5cc2d-5ab0-428b-9d17-59811e8dd508 64-bit host=dev-VirtualBox
2018-07-19 21:36:50.336  INFO 15614 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:36:50.336+0100 I CONTROL  [initandlisten] db version v3.2.2
2018-07-19 21:36:50.336  INFO 15614 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:36:50.336+0100 I CONTROL  [initandlisten] git version: 6e71d0d568e134c029203593b00a0103e7cdf30b
2018-07-19 21:36:50.338  INFO 15614 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:36:50.338+0100 I CONTROL  [initandlisten] allocator: tcmalloc
2018-07-19 21:36:50.338  INFO 15614 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:36:50.338+0100 I CONTROL  [initandlisten] modules: none
2018-07-19 21:36:50.339  INFO 15614 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:36:50.339+0100 I CONTROL  [initandlisten] build environment:
2018-07-19 21:36:50.339  INFO 15614 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:36:50.339+0100 I CONTROL  [initandlisten]     distarch: x86_64
2018-07-19 21:36:50.339  INFO 15614 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:36:50.339+0100 I CONTROL  [initandlisten]     target_arch: x86_64
2018-07-19 21:36:50.339  INFO 15614 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:36:50.339+0100 I CONTROL  [initandlisten] options: { net: { bindIp: "127.0.0.1", http: { enabled: false }, port: 60754 }, security: { authorization: "disabled" }, storage: { dbPath: "/tmp/embedmongo-db-a8c5cc2d-5ab0-428b-9d17-59811e8dd508", journal: { enabled: false }, mmapv1: { preallocDataFiles: false, smallFiles: true }, syncPeriodSecs: 0.0 } }
2018-07-19 21:36:50.488  INFO 15614 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:36:50.488+0100 I STORAGE  [initandlisten] wiredtiger_open config: create,cache_size=1G,session_max=20000,eviction=(threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000),checkpoint=(wait=0,log_size=2GB),statistics_log=(wait=0),,log=(enabled=false),
2018-07-19 21:36:50.638  INFO 15614 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:36:50.637+0100 W STORAGE  [initandlisten] Detected configuration for non-active storage engine mmapv1 when current storage engine is wiredTiger
2018-07-19 21:36:50.638  INFO 15614 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:36:50.638+0100 I CONTROL  [initandlisten] 
2018-07-19 21:36:50.639  INFO 15614 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:36:50.639+0100 I CONTROL  [initandlisten] ** WARNING: /sys/kernel/mm/transparent_hugepage/enabled is 'always'.
2018-07-19 21:36:50.639  INFO 15614 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:36:50.639+0100 I CONTROL  [initandlisten] **        We suggest setting it to 'never'
2018-07-19 21:36:50.639  INFO 15614 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:36:50.639+0100 I CONTROL  [initandlisten] 
2018-07-19 21:36:50.640  INFO 15614 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:36:50.640+0100 I CONTROL  [initandlisten] ** WARNING: /sys/kernel/mm/transparent_hugepage/defrag is 'always'.
2018-07-19 21:36:50.640  INFO 15614 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:36:50.640+0100 I CONTROL  [initandlisten] **        We suggest setting it to 'never'
2018-07-19 21:36:50.640  INFO 15614 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:36:50.640+0100 I CONTROL  [initandlisten] 
2018-07-19 21:36:50.641  INFO 15614 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:36:50.641+0100 I FTDC     [initandlisten] Initializing full-time diagnostic data capture with directory '/tmp/embedmongo-db-a8c5cc2d-5ab0-428b-9d17-59811e8dd508/diagnostic.data'
2018-07-19 21:36:50.648  INFO 15614 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:36:50.648+0100 I NETWORK  [HostnameCanonicalizationWorker] Starting hostname canonicalization worker
2018-07-19 21:36:50.665  INFO 15614 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:36:50.665+0100 I NETWORK  [initandlisten] waiting for connections on port 60754
2018-07-19 21:36:50.666  INFO 15614 --- [main] d.f.embed.process.runtime.Executable     : start de.flapdoodle.embed.mongo.config.MongodConfigBuilder$ImmutableMongodConfig@59dc36d4
2018-07-19 21:36:51.770  INFO 15614 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:60754], mode=MULTIPLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-19 21:36:51.774  INFO 15614 --- [main] org.mongodb.driver.cluster               : Adding discovered server localhost:60754 to client view of cluster
2018-07-19 21:36:52.032  INFO 15614 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:36:52.032+0100 I NETWORK  [initandlisten] connection accepted from 127.0.0.1:59511 #1 (1 connection now open)
2018-07-19 21:36:52.210  INFO 15614 --- [cluster-ClusterId{value='5b50f663c9ad373cfed58636', description='null'}-localhost:60754] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:1, serverValue:1}] to localhost:60754
2018-07-19 21:36:52.229  INFO 15614 --- [cluster-ClusterId{value='5b50f663c9ad373cfed58636', description='null'}-localhost:60754] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:60754, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 2, 2]}, minWireVersion=0, maxWireVersion=4, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=null, roundTripTimeNanos=12215467}
2018-07-19 21:36:52.244  INFO 15614 --- [cluster-ClusterId{value='5b50f663c9ad373cfed58636', description='null'}-localhost:60754] org.mongodb.driver.cluster               : Discovered cluster type of STANDALONE
2018-07-19 21:36:53.464  INFO 15614 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:36:53.463+0100 I NETWORK  [initandlisten] connection accepted from 127.0.0.1:59512 #2 (2 connections now open)
2018-07-19 21:36:53.481  INFO 15614 --- [main] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:2, serverValue:2}] to localhost:60754
2018-07-19 21:36:53.531  INFO 15614 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:36:53.530+0100 I INDEX    [conn2] build index on: test.creditCard properties: { v: 1, unique: true, key: { creditCardNumber: 1 }, name: "creditCardNumber", ns: "test.creditCard" }
2018-07-19 21:36:53.532  INFO 15614 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:36:53.531+0100 I INDEX    [conn2] 	 building index using bulk method
2018-07-19 21:36:53.533  INFO 15614 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:36:53.533+0100 I INDEX    [conn2] build index done.  scanned 0 total records. 0 secs
2018-07-19 21:36:55.267  INFO 15614 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4bd31064: startup date [Thu Jul 19 21:36:40 BST 2018]; root of context hierarchy
2018-07-19 21:36:55.641  INFO 15614 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/store/creditcard/{id}/charge],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.store.creditcard.controller.CreditCardController.charge(java.lang.String,java.lang.String,java.lang.String)
2018-07-19 21:36:55.653  INFO 15614 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/store/creditcard/{id}/credit],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.store.creditcard.controller.CreditCardController.credit(com.store.creditcard.request.CreditCardRequestParam)
2018-07-19 21:36:55.654  INFO 15614 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/store/creditcard/add],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.store.creditcard.controller.CreditCardController.add(com.store.creditcard.request.CreditCardRequestParam)
2018-07-19 21:36:55.678  INFO 15614 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-19 21:36:55.687  INFO 15614 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-19 21:36:55.869  INFO 15614 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-19 21:36:55.873  INFO 15614 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-19 21:36:55.978  INFO 15614 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in globalExceptionHandler
2018-07-19 21:36:56.131  INFO 15614 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-19 21:36:56.929  INFO 15614 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-19 21:36:57.180  INFO 15614 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2018-07-19 21:36:57.199  INFO 15614 --- [main] c.s.c.CreditCardStoreApplication         : Started CreditCardStoreApplication in 19.544 seconds (JVM running for 22.153)
2018-07-19 21:36:57.798  INFO 15614 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:36:57.798+0100 I NETWORK  [initandlisten] connection accepted from 127.0.0.1:59513 #3 (3 connections now open)
2018-07-19 21:36:57.800  INFO 15614 --- [Thread-5] ConfigServletWebServerApplicationContext : Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4bd31064: startup date [Thu Jul 19 21:36:40 BST 2018]; root of context hierarchy
2018-07-19 21:36:57.843  INFO 15614 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:36:57.843+0100 I COMMAND  [conn3] terminating, shutdown command received
2018-07-19 21:36:57.849  INFO 15614 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:36:57.843+0100 I FTDC     [conn3] Shutting down full-time diagnostic data capture
2018-07-19 21:36:57.852  INFO 15614 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:36:57.851+0100 I CONTROL  [conn3] now exiting
2018-07-19 21:36:57.852  INFO 15614 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:36:57.851+0100 I NETWORK  [conn3] shutdown: going to close listening sockets...
2018-07-19 21:36:57.853  INFO 15614 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:36:57.851+0100 I NETWORK  [conn3] closing listening socket: 5
2018-07-19 21:36:57.858  INFO 15614 --- [Thread-5] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2018-07-19 21:36:57.854  INFO 15614 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:36:57.851+0100 I NETWORK  [conn3] closing listening socket: 6
2018-07-19 21:36:57.874  INFO 15614 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:36:57.851+0100 I NETWORK  [conn3] removing socket file: /tmp/mongodb-60754.sock
2018-07-19 21:36:57.879  INFO 15614 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:36:57.878+0100 I NETWORK  [conn3] shutdown: going to flush diaglog...
2018-07-19 21:36:57.897  INFO 15614 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:36:57.878+0100 I NETWORK  [conn3] shutdown: going to close sockets...
2018-07-19 21:36:57.897  INFO 15614 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:36:57.878+0100 I STORAGE  [conn3] WiredTigerKVEngine shutting down
2018-07-19 21:36:57.903  INFO 15614 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:36:57.889+0100 I NETWORK  [conn2] end connection 127.0.0.1:59512 (2 connections now open)
2018-07-19 21:36:57.904  INFO 15614 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:36:57.889+0100 I NETWORK  [conn1] end connection 127.0.0.1:59511 (2 connections now open)
2018-07-19 21:36:57.904  INFO 15614 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:36:57.897+0100 I STORAGE  [conn3] shutdown: removing fs lock...
2018-07-19 21:36:57.904  INFO 15614 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:36:57.897+0100 I CONTROL  [conn3] dbexit:  rc: 0
2018-07-19 21:36:57.881  INFO 15614 --- [Thread-5] org.mongodb.driver.connection            : Closed connection [connectionId{localValue:2, serverValue:2}] to localhost:60754 because the pool has been closed.
2018-07-19 21:36:58.017  WARN 15614 --- [Thread-1] d.f.e.process.runtime.AbstractProcess    : Could not delete pid file: /tmp/extract-89e8e560-6099-4c15-bd9b-79224354e880extractmongod.pid
2018-07-19 21:39:36.525  INFO 15710 --- [main] c.s.c.CreditCardStoreApplication         : Starting CreditCardStoreApplication on dev-VirtualBox with PID 15710 (/home/dev/git/creditcard-store-app/target/classes started by dev in /home/dev/git/creditcard-store-app)
2018-07-19 21:39:36.540  INFO 15710 --- [main] c.s.c.CreditCardStoreApplication         : The following profiles are active: local
2018-07-19 21:39:36.960  INFO 15710 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4bd31064: startup date [Thu Jul 19 21:39:36 BST 2018]; root of context hierarchy
2018-07-19 21:39:44.418  INFO 15710 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2018-07-19 21:39:44.600  INFO 15710 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-19 21:39:44.604  INFO 15710 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.28
2018-07-19 21:39:44.667  INFO 15710 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib:/usr/lib64:/lib64:/lib:/usr/lib]
2018-07-19 21:39:45.293  INFO 15710 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-19 21:39:45.296  INFO 15710 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 8336 ms
2018-07-19 21:39:45.940  INFO 15710 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-19 21:39:45.960  INFO 15710 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-19 21:39:45.971  INFO 15710 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-19 21:39:45.972  INFO 15710 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-19 21:39:45.975  INFO 15710 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-19 21:39:47.246  INFO 15710 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : note: noprealloc may hurt performance in many applications
2018-07-19 21:39:47.285  INFO 15710 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:39:47.285+0100 I CONTROL  [initandlisten] MongoDB starting : pid=15736 port=50825 dbpath=/tmp/embedmongo-db-876a4ac6-c3f5-4a90-a585-ddc568bffeeb 64-bit host=dev-VirtualBox
2018-07-19 21:39:47.287  INFO 15710 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:39:47.287+0100 I CONTROL  [initandlisten] db version v3.2.2
2018-07-19 21:39:47.288  INFO 15710 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:39:47.288+0100 I CONTROL  [initandlisten] git version: 6e71d0d568e134c029203593b00a0103e7cdf30b
2018-07-19 21:39:47.289  INFO 15710 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:39:47.289+0100 I CONTROL  [initandlisten] allocator: tcmalloc
2018-07-19 21:39:47.290  INFO 15710 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:39:47.290+0100 I CONTROL  [initandlisten] modules: none
2018-07-19 21:39:47.291  INFO 15710 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:39:47.291+0100 I CONTROL  [initandlisten] build environment:
2018-07-19 21:39:47.291  INFO 15710 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:39:47.291+0100 I CONTROL  [initandlisten]     distarch: x86_64
2018-07-19 21:39:47.292  INFO 15710 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:39:47.292+0100 I CONTROL  [initandlisten]     target_arch: x86_64
2018-07-19 21:39:47.292  INFO 15710 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:39:47.292+0100 I CONTROL  [initandlisten] options: { net: { bindIp: "127.0.0.1", http: { enabled: false }, port: 50825 }, security: { authorization: "disabled" }, storage: { dbPath: "/tmp/embedmongo-db-876a4ac6-c3f5-4a90-a585-ddc568bffeeb", journal: { enabled: false }, mmapv1: { preallocDataFiles: false, smallFiles: true }, syncPeriodSecs: 0.0 } }
2018-07-19 21:39:47.443  INFO 15710 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:39:47.443+0100 I STORAGE  [initandlisten] wiredtiger_open config: create,cache_size=1G,session_max=20000,eviction=(threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000),checkpoint=(wait=0,log_size=2GB),statistics_log=(wait=0),,log=(enabled=false),
2018-07-19 21:39:47.676  INFO 15710 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:39:47.676+0100 W STORAGE  [initandlisten] Detected configuration for non-active storage engine mmapv1 when current storage engine is wiredTiger
2018-07-19 21:39:47.678  INFO 15710 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:39:47.677+0100 I CONTROL  [initandlisten] 
2018-07-19 21:39:47.678  INFO 15710 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:39:47.678+0100 I CONTROL  [initandlisten] ** WARNING: /sys/kernel/mm/transparent_hugepage/enabled is 'always'.
2018-07-19 21:39:47.679  INFO 15710 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:39:47.679+0100 I CONTROL  [initandlisten] **        We suggest setting it to 'never'
2018-07-19 21:39:47.679  INFO 15710 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:39:47.679+0100 I CONTROL  [initandlisten] 
2018-07-19 21:39:47.680  INFO 15710 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:39:47.680+0100 I CONTROL  [initandlisten] ** WARNING: /sys/kernel/mm/transparent_hugepage/defrag is 'always'.
2018-07-19 21:39:47.681  INFO 15710 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:39:47.681+0100 I CONTROL  [initandlisten] **        We suggest setting it to 'never'
2018-07-19 21:39:47.681  INFO 15710 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:39:47.681+0100 I CONTROL  [initandlisten] 
2018-07-19 21:39:47.682  INFO 15710 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:39:47.682+0100 I FTDC     [initandlisten] Initializing full-time diagnostic data capture with directory '/tmp/embedmongo-db-876a4ac6-c3f5-4a90-a585-ddc568bffeeb/diagnostic.data'
2018-07-19 21:39:47.688  INFO 15710 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:39:47.688+0100 I NETWORK  [HostnameCanonicalizationWorker] Starting hostname canonicalization worker
2018-07-19 21:39:47.709  INFO 15710 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:39:47.709+0100 I NETWORK  [initandlisten] waiting for connections on port 50825
2018-07-19 21:39:47.710  INFO 15710 --- [main] d.f.embed.process.runtime.Executable     : start de.flapdoodle.embed.mongo.config.MongodConfigBuilder$ImmutableMongodConfig@620c8641
2018-07-19 21:39:48.709  INFO 15710 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:50825], mode=MULTIPLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-19 21:39:48.716  INFO 15710 --- [main] org.mongodb.driver.cluster               : Adding discovered server localhost:50825 to client view of cluster
2018-07-19 21:39:48.939  INFO 15710 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:39:48.939+0100 I NETWORK  [initandlisten] connection accepted from 127.0.0.1:57273 #1 (1 connection now open)
2018-07-19 21:39:49.152  INFO 15710 --- [cluster-ClusterId{value='5b50f714c9ad373d5e7abd98', description='null'}-localhost:50825] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:1, serverValue:1}] to localhost:50825
2018-07-19 21:39:49.195  INFO 15710 --- [cluster-ClusterId{value='5b50f714c9ad373d5e7abd98', description='null'}-localhost:50825] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:50825, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 2, 2]}, minWireVersion=0, maxWireVersion=4, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=null, roundTripTimeNanos=12344773}
2018-07-19 21:39:49.202  INFO 15710 --- [cluster-ClusterId{value='5b50f714c9ad373d5e7abd98', description='null'}-localhost:50825] org.mongodb.driver.cluster               : Discovered cluster type of STANDALONE
2018-07-19 21:39:50.548  INFO 15710 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:39:50.547+0100 I NETWORK  [initandlisten] connection accepted from 127.0.0.1:57274 #2 (2 connections now open)
2018-07-19 21:39:50.568  INFO 15710 --- [main] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:2, serverValue:2}] to localhost:50825
2018-07-19 21:39:50.650  INFO 15710 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:39:50.650+0100 I INDEX    [conn2] build index on: test.creditCard properties: { v: 1, unique: true, key: { creditCardNumber: 1 }, name: "creditCardNumber", ns: "test.creditCard" }
2018-07-19 21:39:50.651  INFO 15710 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:39:50.651+0100 I INDEX    [conn2] 	 building index using bulk method
2018-07-19 21:39:50.653  INFO 15710 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:39:50.652+0100 I INDEX    [conn2] build index done.  scanned 0 total records. 0 secs
2018-07-19 21:39:52.814  INFO 15710 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4bd31064: startup date [Thu Jul 19 21:39:36 BST 2018]; root of context hierarchy
2018-07-19 21:39:53.235  INFO 15710 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/store/creditcard/{id}/charge],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.store.creditcard.controller.CreditCardController.charge(java.lang.String,java.lang.String,java.lang.String)
2018-07-19 21:39:53.243  INFO 15710 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/store/creditcard/{id}/credit],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.store.creditcard.controller.CreditCardController.credit(com.store.creditcard.request.CreditCardRequestParam)
2018-07-19 21:39:53.245  INFO 15710 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/store/creditcard/add],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.store.creditcard.controller.CreditCardController.add(com.store.creditcard.request.CreditCardRequestParam)
2018-07-19 21:39:53.272  INFO 15710 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-19 21:39:53.277  INFO 15710 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-19 21:39:53.494  INFO 15710 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-19 21:39:53.507  INFO 15710 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-19 21:39:53.584  INFO 15710 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in globalExceptionHandler
2018-07-19 21:39:53.737  INFO 15710 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-19 21:39:54.786  INFO 15710 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-19 21:39:55.037  INFO 15710 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2018-07-19 21:39:55.061  INFO 15710 --- [main] c.s.c.CreditCardStoreApplication         : Started CreditCardStoreApplication in 21.825 seconds (JVM running for 24.987)
2018-07-19 21:39:59.797  INFO 15710 --- [Thread-5] ConfigServletWebServerApplicationContext : Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4bd31064: startup date [Thu Jul 19 21:39:36 BST 2018]; root of context hierarchy
2018-07-19 21:39:59.811  INFO 15710 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:39:59.811+0100 I NETWORK  [initandlisten] connection accepted from 127.0.0.1:57275 #3 (3 connections now open)
2018-07-19 21:39:59.812  INFO 15710 --- [Thread-5] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2018-07-19 21:39:59.818  INFO 15710 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:39:59.818+0100 I COMMAND  [conn3] terminating, shutdown command received
2018-07-19 21:39:59.819  INFO 15710 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:39:59.819+0100 I FTDC     [conn3] Shutting down full-time diagnostic data capture
2018-07-19 21:39:59.822  INFO 15710 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:39:59.822+0100 I CONTROL  [conn3] now exiting
2018-07-19 21:39:59.831  INFO 15710 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:39:59.831+0100 I NETWORK  [conn3] shutdown: going to close listening sockets...
2018-07-19 21:39:59.840  INFO 15710 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:39:59.832+0100 I NETWORK  [conn3] closing listening socket: 5
2018-07-19 21:39:59.840  INFO 15710 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:39:59.832+0100 I NETWORK  [conn3] closing listening socket: 6
2018-07-19 21:39:59.840  INFO 15710 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:39:59.832+0100 I NETWORK  [conn3] removing socket file: /tmp/mongodb-50825.sock
2018-07-19 21:39:59.840  INFO 15710 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:39:59.832+0100 I NETWORK  [conn3] shutdown: going to flush diaglog...
2018-07-19 21:39:59.840  INFO 15710 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:39:59.832+0100 I NETWORK  [conn3] shutdown: going to close sockets...
2018-07-19 21:39:59.840  INFO 15710 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:39:59.832+0100 I STORAGE  [conn3] WiredTigerKVEngine shutting down
2018-07-19 21:39:59.840  INFO 15710 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:39:59.838+0100 I NETWORK  [conn2] end connection 127.0.0.1:57274 (2 connections now open)
2018-07-19 21:39:59.841  INFO 15710 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:39:59.839+0100 I NETWORK  [conn1] end connection 127.0.0.1:57273 (2 connections now open)
2018-07-19 21:39:59.830  INFO 15710 --- [Thread-5] org.mongodb.driver.connection            : Closed connection [connectionId{localValue:2, serverValue:2}] to localhost:50825 because the pool has been closed.
2018-07-19 21:39:59.855  INFO 15710 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:39:59.855+0100 I STORAGE  [conn3] shutdown: removing fs lock...
2018-07-19 21:39:59.859  INFO 15710 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:39:59.859+0100 I CONTROL  [conn3] dbexit:  rc: 0
2018-07-19 21:39:59.957  WARN 15710 --- [Thread-1] d.f.e.process.runtime.AbstractProcess    : Could not delete pid file: /tmp/extract-cb240e38-ab16-4ac2-877d-3f2f060d8ea5extractmongod.pid
2018-07-19 21:42:42.761  INFO 15801 --- [main] c.s.c.CreditCardStoreApplication         : Starting CreditCardStoreApplication on dev-VirtualBox with PID 15801 (/home/dev/git/creditcard-store-app/target/classes started by dev in /home/dev/git/creditcard-store-app)
2018-07-19 21:42:42.845  INFO 15801 --- [main] c.s.c.CreditCardStoreApplication         : The following profiles are active: local
2018-07-19 21:42:43.225  INFO 15801 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@20d7d6fb: startup date [Thu Jul 19 21:42:43 BST 2018]; root of context hierarchy
2018-07-19 21:42:52.178  INFO 15801 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2018-07-19 21:42:52.445  INFO 15801 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-19 21:42:52.450  INFO 15801 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.28
2018-07-19 21:42:52.506  INFO 15801 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib:/usr/lib64:/lib64:/lib:/usr/lib]
2018-07-19 21:42:53.294  INFO 15801 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-19 21:42:53.306  INFO 15801 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 10081 ms
2018-07-19 21:42:54.089  INFO 15801 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-19 21:42:54.110  INFO 15801 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-19 21:42:54.123  INFO 15801 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-19 21:42:54.124  INFO 15801 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-19 21:42:54.125  INFO 15801 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-19 21:42:55.481  INFO 15801 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : note: noprealloc may hurt performance in many applications
2018-07-19 21:42:55.529  INFO 15801 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:42:55.529+0100 I CONTROL  [initandlisten] MongoDB starting : pid=15829 port=40569 dbpath=/tmp/embedmongo-db-fb50a6cd-184c-4b68-af1d-a3841b8528e7 64-bit host=dev-VirtualBox
2018-07-19 21:42:55.540  INFO 15801 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:42:55.540+0100 I CONTROL  [initandlisten] db version v3.2.2
2018-07-19 21:42:55.541  INFO 15801 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:42:55.541+0100 I CONTROL  [initandlisten] git version: 6e71d0d568e134c029203593b00a0103e7cdf30b
2018-07-19 21:42:55.542  INFO 15801 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:42:55.542+0100 I CONTROL  [initandlisten] allocator: tcmalloc
2018-07-19 21:42:55.554  INFO 15801 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:42:55.551+0100 I CONTROL  [initandlisten] modules: none
2018-07-19 21:42:55.557  INFO 15801 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:42:55.555+0100 I CONTROL  [initandlisten] build environment:
2018-07-19 21:42:55.558  INFO 15801 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:42:55.555+0100 I CONTROL  [initandlisten]     distarch: x86_64
2018-07-19 21:42:55.559  INFO 15801 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:42:55.555+0100 I CONTROL  [initandlisten]     target_arch: x86_64
2018-07-19 21:42:55.559  INFO 15801 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:42:55.555+0100 I CONTROL  [initandlisten] options: { net: { bindIp: "127.0.0.1", http: { enabled: false }, port: 40569 }, security: { authorization: "disabled" }, storage: { dbPath: "/tmp/embedmongo-db-fb50a6cd-184c-4b68-af1d-a3841b8528e7", journal: { enabled: false }, mmapv1: { preallocDataFiles: false, smallFiles: true }, syncPeriodSecs: 0.0 } }
2018-07-19 21:42:55.720  INFO 15801 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:42:55.720+0100 I STORAGE  [initandlisten] wiredtiger_open config: create,cache_size=1G,session_max=20000,eviction=(threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000),checkpoint=(wait=0,log_size=2GB),statistics_log=(wait=0),,log=(enabled=false),
2018-07-19 21:42:55.922  INFO 15801 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:42:55.921+0100 W STORAGE  [initandlisten] Detected configuration for non-active storage engine mmapv1 when current storage engine is wiredTiger
2018-07-19 21:42:55.935  INFO 15801 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:42:55.935+0100 I CONTROL  [initandlisten] 
2018-07-19 21:42:55.935  INFO 15801 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:42:55.935+0100 I CONTROL  [initandlisten] ** WARNING: /sys/kernel/mm/transparent_hugepage/enabled is 'always'.
2018-07-19 21:42:55.936  INFO 15801 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:42:55.935+0100 I CONTROL  [initandlisten] **        We suggest setting it to 'never'
2018-07-19 21:42:55.936  INFO 15801 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:42:55.936+0100 I CONTROL  [initandlisten] 
2018-07-19 21:42:55.936  INFO 15801 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:42:55.936+0100 I CONTROL  [initandlisten] ** WARNING: /sys/kernel/mm/transparent_hugepage/defrag is 'always'.
2018-07-19 21:42:55.937  INFO 15801 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:42:55.937+0100 I CONTROL  [initandlisten] **        We suggest setting it to 'never'
2018-07-19 21:42:55.937  INFO 15801 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:42:55.937+0100 I CONTROL  [initandlisten] 
2018-07-19 21:42:55.938  INFO 15801 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:42:55.938+0100 I FTDC     [initandlisten] Initializing full-time diagnostic data capture with directory '/tmp/embedmongo-db-fb50a6cd-184c-4b68-af1d-a3841b8528e7/diagnostic.data'
2018-07-19 21:42:55.940  INFO 15801 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:42:55.940+0100 I NETWORK  [HostnameCanonicalizationWorker] Starting hostname canonicalization worker
2018-07-19 21:42:55.963  INFO 15801 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:42:55.963+0100 I NETWORK  [initandlisten] waiting for connections on port 40569
2018-07-19 21:42:55.963  INFO 15801 --- [main] d.f.embed.process.runtime.Executable     : start de.flapdoodle.embed.mongo.config.MongodConfigBuilder$ImmutableMongodConfig@77774571
2018-07-19 21:42:57.294  INFO 15801 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:40569], mode=MULTIPLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-19 21:42:57.297  INFO 15801 --- [main] org.mongodb.driver.cluster               : Adding discovered server localhost:40569 to client view of cluster
2018-07-19 21:42:57.556  INFO 15801 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:42:57.556+0100 I NETWORK  [initandlisten] connection accepted from 127.0.0.1:41686 #1 (1 connection now open)
2018-07-19 21:42:57.751  INFO 15801 --- [cluster-ClusterId{value='5b50f7d1c9ad373db9a0dfa1', description='null'}-localhost:40569] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:1, serverValue:1}] to localhost:40569
2018-07-19 21:42:57.762  INFO 15801 --- [cluster-ClusterId{value='5b50f7d1c9ad373db9a0dfa1', description='null'}-localhost:40569] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:40569, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 2, 2]}, minWireVersion=0, maxWireVersion=4, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=null, roundTripTimeNanos=8916268}
2018-07-19 21:42:57.784  INFO 15801 --- [cluster-ClusterId{value='5b50f7d1c9ad373db9a0dfa1', description='null'}-localhost:40569] org.mongodb.driver.cluster               : Discovered cluster type of STANDALONE
2018-07-19 21:42:59.057  INFO 15801 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:42:59.057+0100 I NETWORK  [initandlisten] connection accepted from 127.0.0.1:41687 #2 (2 connections now open)
2018-07-19 21:42:59.080  INFO 15801 --- [main] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:2, serverValue:2}] to localhost:40569
2018-07-19 21:42:59.136  INFO 15801 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:42:59.136+0100 I INDEX    [conn2] build index on: test.creditCard properties: { v: 1, unique: true, key: { creditCardNumber: 1 }, name: "creditCardNumber", ns: "test.creditCard" }
2018-07-19 21:42:59.139  INFO 15801 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:42:59.139+0100 I INDEX    [conn2] 	 building index using bulk method
2018-07-19 21:42:59.140  INFO 15801 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:42:59.140+0100 I INDEX    [conn2] build index done.  scanned 0 total records. 0 secs
2018-07-19 21:43:01.535  INFO 15801 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@20d7d6fb: startup date [Thu Jul 19 21:42:43 BST 2018]; root of context hierarchy
2018-07-19 21:43:02.262  INFO 15801 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/store/creditcard/{id}/charge],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.store.creditcard.controller.CreditCardController.charge(java.lang.String,java.lang.String,java.lang.String)
2018-07-19 21:43:02.278  INFO 15801 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/store/creditcard/{id}/credit],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.store.creditcard.controller.CreditCardController.credit(com.store.creditcard.request.CreditCardRequestParam)
2018-07-19 21:43:02.284  INFO 15801 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/store/creditcard/add],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.store.creditcard.controller.CreditCardController.add(com.store.creditcard.request.CreditCardRequestParam)
2018-07-19 21:43:02.329  INFO 15801 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-19 21:43:02.339  INFO 15801 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-19 21:43:02.527  INFO 15801 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-19 21:43:02.535  INFO 15801 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-19 21:43:02.610  INFO 15801 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in globalExceptionHandler
2018-07-19 21:43:02.755  INFO 15801 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-19 21:43:03.591  INFO 15801 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-19 21:43:03.820  INFO 15801 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2018-07-19 21:43:03.832  INFO 15801 --- [main] c.s.c.CreditCardStoreApplication         : Started CreditCardStoreApplication in 23.847 seconds (JVM running for 26.933)
2018-07-19 21:43:22.502  INFO 15801 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-19 21:43:22.506  INFO 15801 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-19 21:43:22.621  INFO 15801 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 113 ms
2018-07-19 21:43:24.146  INFO 15801 --- [http-nio-8080-exec-1] c.s.c.r.v.CreditCardValidatorImpl        : validating card number
2018-07-19 21:43:24.181  INFO 15801 --- [http-nio-8080-exec-1] c.s.c.controller.CreditCardController    : add new card
2018-07-19 21:43:30.908  INFO 15801 --- [http-nio-8080-exec-2] c.s.c.r.v.CreditCardValidatorImpl        : validating card number
2018-07-19 21:43:30.909  INFO 15801 --- [http-nio-8080-exec-2] c.s.c.controller.CreditCardController    : add new card
2018-07-19 21:43:31.125 ERROR 15801 --- [http-nio-8080-exec-2] c.s.c.controller.GlobalExceptionHandler  : Resource already exists
2018-07-19 21:43:50.917  INFO 15801 --- [http-nio-8080-exec-4] c.s.c.controller.CreditCardController    : charge card
2018-07-19 21:44:02.225  INFO 15801 --- [http-nio-8080-exec-5] c.s.c.controller.CreditCardController    : charge card
2018-07-19 21:44:07.539  INFO 15801 --- [http-nio-8080-exec-7] c.s.c.controller.CreditCardController    : charge card
2018-07-19 21:44:29.771  INFO 15801 --- [http-nio-8080-exec-9] c.s.c.controller.CreditCardController    : charge card
2018-07-19 21:47:18.443  INFO 15801 --- [http-nio-8080-exec-1] c.s.c.r.v.CreditCardValidatorImpl        : validating card number
2018-07-19 21:48:06.635  INFO 15801 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:48:06.635+0100 I NETWORK  [initandlisten] connection accepted from 127.0.0.1:41768 #3 (3 connections now open)
2018-07-19 21:48:06.641  INFO 15801 --- [Thread-5] ConfigServletWebServerApplicationContext : Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@20d7d6fb: startup date [Thu Jul 19 21:42:43 BST 2018]; root of context hierarchy
2018-07-19 21:48:06.657  INFO 15801 --- [Thread-5] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2018-07-19 21:48:06.658  INFO 15801 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:48:06.658+0100 I COMMAND  [conn3] terminating, shutdown command received
2018-07-19 21:48:06.661  INFO 15801 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:48:06.661+0100 I FTDC     [conn3] Shutting down full-time diagnostic data capture
2018-07-19 21:48:06.684  INFO 15801 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:48:06.684+0100 I CONTROL  [conn3] now exiting
2018-07-19 21:48:06.684  INFO 15801 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:48:06.684+0100 I NETWORK  [conn3] shutdown: going to close listening sockets...
2018-07-19 21:48:06.684  INFO 15801 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:48:06.684+0100 I NETWORK  [conn3] closing listening socket: 5
2018-07-19 21:48:06.685  INFO 15801 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:48:06.685+0100 I NETWORK  [conn3] closing listening socket: 6
2018-07-19 21:48:06.685  INFO 15801 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:48:06.685+0100 I NETWORK  [conn3] removing socket file: /tmp/mongodb-40569.sock
2018-07-19 21:48:06.685  INFO 15801 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:48:06.685+0100 I NETWORK  [conn3] shutdown: going to flush diaglog...
2018-07-19 21:48:06.685  INFO 15801 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:48:06.685+0100 I NETWORK  [conn3] shutdown: going to close sockets...
2018-07-19 21:48:06.685  INFO 15801 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:48:06.685+0100 I STORAGE  [conn3] WiredTigerKVEngine shutting down
2018-07-19 21:48:06.694  INFO 15801 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:48:06.694+0100 I NETWORK  [conn1] end connection 127.0.0.1:41686 (2 connections now open)
2018-07-19 21:48:06.695  INFO 15801 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:48:06.694+0100 I NETWORK  [conn2] end connection 127.0.0.1:41687 (1 connection now open)
2018-07-19 21:48:06.696  INFO 15801 --- [Thread-5] org.mongodb.driver.connection            : Closed connection [connectionId{localValue:2, serverValue:2}] to localhost:40569 because the pool has been closed.
2018-07-19 21:48:06.720  INFO 15801 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:48:06.720+0100 I STORAGE  [conn3] shutdown: removing fs lock...
2018-07-19 21:48:06.724  INFO 15801 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:48:06.724+0100 I CONTROL  [conn3] dbexit:  rc: 0
2018-07-19 21:48:06.820  WARN 15801 --- [Thread-1] d.f.e.process.runtime.AbstractProcess    : Could not delete pid file: /tmp/extract-3387f10d-60f8-45fe-b33b-5b62e655917aextractmongod.pid
2018-07-19 21:49:17.173  INFO 15950 --- [main] c.s.c.CreditCardStoreApplication         : Starting CreditCardStoreApplication on dev-VirtualBox with PID 15950 (/home/dev/git/creditcard-store-app/target/classes started by dev in /home/dev/git/creditcard-store-app)
2018-07-19 21:49:17.189  INFO 15950 --- [main] c.s.c.CreditCardStoreApplication         : The following profiles are active: local
2018-07-19 21:49:17.665  INFO 15950 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@20d7d6fb: startup date [Thu Jul 19 21:49:17 BST 2018]; root of context hierarchy
2018-07-19 21:49:27.041  INFO 15950 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2018-07-19 21:49:27.287  INFO 15950 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-19 21:49:27.297  INFO 15950 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.28
2018-07-19 21:49:27.362  INFO 15950 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib:/usr/lib64:/lib64:/lib:/usr/lib]
2018-07-19 21:49:28.139  INFO 15950 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-19 21:49:28.145  INFO 15950 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 10480 ms
2018-07-19 21:49:28.930  INFO 15950 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-19 21:49:28.975  INFO 15950 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-19 21:49:28.977  INFO 15950 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-19 21:49:28.984  INFO 15950 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-19 21:49:28.986  INFO 15950 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-19 21:49:30.674  INFO 15950 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : note: noprealloc may hurt performance in many applications
2018-07-19 21:49:30.722  INFO 15950 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:49:30.722+0100 I CONTROL  [initandlisten] MongoDB starting : pid=15981 port=53473 dbpath=/tmp/embedmongo-db-7ef91c18-0381-4f4f-950c-1650da8307f7 64-bit host=dev-VirtualBox
2018-07-19 21:49:30.732  INFO 15950 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:49:30.732+0100 I CONTROL  [initandlisten] db version v3.2.2
2018-07-19 21:49:30.733  INFO 15950 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:49:30.733+0100 I CONTROL  [initandlisten] git version: 6e71d0d568e134c029203593b00a0103e7cdf30b
2018-07-19 21:49:30.734  INFO 15950 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:49:30.734+0100 I CONTROL  [initandlisten] allocator: tcmalloc
2018-07-19 21:49:30.734  INFO 15950 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:49:30.734+0100 I CONTROL  [initandlisten] modules: none
2018-07-19 21:49:30.734  INFO 15950 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:49:30.734+0100 I CONTROL  [initandlisten] build environment:
2018-07-19 21:49:30.735  INFO 15950 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:49:30.735+0100 I CONTROL  [initandlisten]     distarch: x86_64
2018-07-19 21:49:30.736  INFO 15950 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:49:30.736+0100 I CONTROL  [initandlisten]     target_arch: x86_64
2018-07-19 21:49:30.737  INFO 15950 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:49:30.737+0100 I CONTROL  [initandlisten] options: { net: { bindIp: "127.0.0.1", http: { enabled: false }, port: 53473 }, security: { authorization: "disabled" }, storage: { dbPath: "/tmp/embedmongo-db-7ef91c18-0381-4f4f-950c-1650da8307f7", journal: { enabled: false }, mmapv1: { preallocDataFiles: false, smallFiles: true }, syncPeriodSecs: 0.0 } }
2018-07-19 21:49:30.931  INFO 15950 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:49:30.931+0100 I STORAGE  [initandlisten] wiredtiger_open config: create,cache_size=1G,session_max=20000,eviction=(threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000),checkpoint=(wait=0,log_size=2GB),statistics_log=(wait=0),,log=(enabled=false),
2018-07-19 21:49:31.074  INFO 15950 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:49:31.074+0100 W STORAGE  [initandlisten] Detected configuration for non-active storage engine mmapv1 when current storage engine is wiredTiger
2018-07-19 21:49:31.076  INFO 15950 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:49:31.075+0100 I CONTROL  [initandlisten] 
2018-07-19 21:49:31.076  INFO 15950 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:49:31.076+0100 I CONTROL  [initandlisten] ** WARNING: /sys/kernel/mm/transparent_hugepage/enabled is 'always'.
2018-07-19 21:49:31.077  INFO 15950 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:49:31.077+0100 I CONTROL  [initandlisten] **        We suggest setting it to 'never'
2018-07-19 21:49:31.079  INFO 15950 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:49:31.079+0100 I CONTROL  [initandlisten] 
2018-07-19 21:49:31.080  INFO 15950 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:49:31.080+0100 I CONTROL  [initandlisten] ** WARNING: /sys/kernel/mm/transparent_hugepage/defrag is 'always'.
2018-07-19 21:49:31.082  INFO 15950 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:49:31.081+0100 I CONTROL  [initandlisten] **        We suggest setting it to 'never'
2018-07-19 21:49:31.083  INFO 15950 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:49:31.081+0100 I CONTROL  [initandlisten] 
2018-07-19 21:49:31.083  INFO 15950 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:49:31.081+0100 I FTDC     [initandlisten] Initializing full-time diagnostic data capture with directory '/tmp/embedmongo-db-7ef91c18-0381-4f4f-950c-1650da8307f7/diagnostic.data'
2018-07-19 21:49:31.087  INFO 15950 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:49:31.086+0100 I NETWORK  [HostnameCanonicalizationWorker] Starting hostname canonicalization worker
2018-07-19 21:49:31.108  INFO 15950 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:49:31.108+0100 I NETWORK  [initandlisten] waiting for connections on port 53473
2018-07-19 21:49:31.109  INFO 15950 --- [main] d.f.embed.process.runtime.Executable     : start de.flapdoodle.embed.mongo.config.MongodConfigBuilder$ImmutableMongodConfig@3ed7821
2018-07-19 21:49:32.701  INFO 15950 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:53473], mode=MULTIPLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-19 21:49:32.713  INFO 15950 --- [main] org.mongodb.driver.cluster               : Adding discovered server localhost:53473 to client view of cluster
2018-07-19 21:49:32.997  INFO 15950 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:49:32.997+0100 I NETWORK  [initandlisten] connection accepted from 127.0.0.1:38297 #1 (1 connection now open)
2018-07-19 21:49:33.197  INFO 15950 --- [cluster-ClusterId{value='5b50f95cc9ad373e4e24016a', description='null'}-localhost:53473] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:1, serverValue:1}] to localhost:53473
2018-07-19 21:49:33.220  INFO 15950 --- [cluster-ClusterId{value='5b50f95cc9ad373e4e24016a', description='null'}-localhost:53473] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:53473, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 2, 2]}, minWireVersion=0, maxWireVersion=4, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=null, roundTripTimeNanos=10807126}
2018-07-19 21:49:33.235  INFO 15950 --- [cluster-ClusterId{value='5b50f95cc9ad373e4e24016a', description='null'}-localhost:53473] org.mongodb.driver.cluster               : Discovered cluster type of STANDALONE
2018-07-19 21:49:34.769  INFO 15950 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:49:34.769+0100 I NETWORK  [initandlisten] connection accepted from 127.0.0.1:38298 #2 (2 connections now open)
2018-07-19 21:49:34.792  INFO 15950 --- [main] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:2, serverValue:2}] to localhost:53473
2018-07-19 21:49:34.872  INFO 15950 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:49:34.869+0100 I INDEX    [conn2] build index on: test.creditCard properties: { v: 1, unique: true, key: { creditCardNumber: 1 }, name: "creditCardNumber", ns: "test.creditCard" }
2018-07-19 21:49:34.884  INFO 15950 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:49:34.883+0100 I INDEX    [conn2] 	 building index using bulk method
2018-07-19 21:49:34.891  INFO 15950 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:49:34.890+0100 I INDEX    [conn2] build index done.  scanned 0 total records. 0 secs
2018-07-19 21:49:37.552  INFO 15950 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@20d7d6fb: startup date [Thu Jul 19 21:49:17 BST 2018]; root of context hierarchy
2018-07-19 21:49:38.055  INFO 15950 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/store/creditcard/{id}/charge],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.store.creditcard.controller.CreditCardController.charge(java.lang.String,java.lang.String,java.lang.String)
2018-07-19 21:49:38.065  INFO 15950 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/store/creditcard/{id}/credit],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.store.creditcard.controller.CreditCardController.credit(com.store.creditcard.request.CreditCardRequestParam)
2018-07-19 21:49:38.065  INFO 15950 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/store/creditcard/add],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.store.creditcard.controller.CreditCardController.add(com.store.creditcard.request.CreditCardRequestParam)
2018-07-19 21:49:38.086  INFO 15950 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-19 21:49:38.101  INFO 15950 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-19 21:49:38.322  INFO 15950 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-19 21:49:38.334  INFO 15950 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-19 21:49:38.429  INFO 15950 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in globalExceptionHandler
2018-07-19 21:49:38.642  INFO 15950 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-19 21:49:39.592  INFO 15950 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-19 21:49:39.911  INFO 15950 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2018-07-19 21:49:39.924  INFO 15950 --- [main] c.s.c.CreditCardStoreApplication         : Started CreditCardStoreApplication in 26.447 seconds (JVM running for 30.055)
2018-07-19 21:49:45.496  INFO 15950 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-19 21:49:45.499  INFO 15950 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-19 21:49:45.647  INFO 15950 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 143 ms
2018-07-19 21:49:47.296 ERROR 15950 --- [http-nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is javax.validation.ConstraintViolationException: charge.amount: must match "^[0-9.][0-9]{2}+$"] with root cause

javax.validation.ConstraintViolationException: charge.amount: must match "^[0-9.][0-9]{2}+$"
	at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:109) ~[spring-context-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689) ~[spring-aop-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at com.store.creditcard.controller.CreditCardController$$EnhancerBySpringCGLIB$$9d9727ec.charge(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:564) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:870) ~[spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:776) ~[spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:978) ~[spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:892) ~[spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:664) ~[tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:855) ~[spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199) ~[tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1135) [na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) [na:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at java.base/java.lang.Thread.run(Thread.java:844) [na:na]

2018-07-19 21:50:08.290 ERROR 15950 --- [http-nio-8080-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is javax.validation.ConstraintViolationException: charge.amount: must match "^[0-9.][0-9]{2}+$"] with root cause

javax.validation.ConstraintViolationException: charge.amount: must match "^[0-9.][0-9]{2}+$"
	at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:109) ~[spring-context-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689) ~[spring-aop-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at com.store.creditcard.controller.CreditCardController$$EnhancerBySpringCGLIB$$9d9727ec.charge(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:564) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:870) ~[spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:776) ~[spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:978) ~[spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:892) ~[spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:664) ~[tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:855) ~[spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199) ~[tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1135) [na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) [na:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at java.base/java.lang.Thread.run(Thread.java:844) [na:na]

2018-07-19 21:57:39.507  INFO 15950 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:57:39.507+0100 I NETWORK  [initandlisten] connection accepted from 127.0.0.1:38301 #3 (3 connections now open)
2018-07-19 21:57:39.515  INFO 15950 --- [Thread-5] ConfigServletWebServerApplicationContext : Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@20d7d6fb: startup date [Thu Jul 19 21:49:17 BST 2018]; root of context hierarchy
2018-07-19 21:57:39.522  INFO 15950 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:57:39.522+0100 I COMMAND  [conn3] terminating, shutdown command received
2018-07-19 21:57:39.523  INFO 15950 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:57:39.523+0100 I FTDC     [conn3] Shutting down full-time diagnostic data capture
2018-07-19 21:57:39.531  INFO 15950 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:57:39.531+0100 I CONTROL  [conn3] now exiting
2018-07-19 21:57:39.534  INFO 15950 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:57:39.534+0100 I NETWORK  [conn3] shutdown: going to close listening sockets...
2018-07-19 21:57:39.535  INFO 15950 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:57:39.535+0100 I NETWORK  [conn3] closing listening socket: 5
2018-07-19 21:57:39.537  INFO 15950 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:57:39.537+0100 I NETWORK  [conn3] closing listening socket: 6
2018-07-19 21:57:39.537  INFO 15950 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:57:39.537+0100 I NETWORK  [conn3] removing socket file: /tmp/mongodb-53473.sock
2018-07-19 21:57:39.537  INFO 15950 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:57:39.537+0100 I NETWORK  [conn3] shutdown: going to flush diaglog...
2018-07-19 21:57:39.547  INFO 15950 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:57:39.547+0100 I NETWORK  [conn3] shutdown: going to close sockets...
2018-07-19 21:57:39.563  INFO 15950 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:57:39.548+0100 I STORAGE  [conn3] WiredTigerKVEngine shutting down
2018-07-19 21:57:39.564  INFO 15950 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:57:39.551+0100 I NETWORK  [conn2] end connection 127.0.0.1:38298 (2 connections now open)
2018-07-19 21:57:39.564  INFO 15950 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:57:39.551+0100 I NETWORK  [conn1] end connection 127.0.0.1:38297 (2 connections now open)
2018-07-19 21:57:39.544  INFO 15950 --- [Thread-5] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2018-07-19 21:57:39.578  INFO 15950 --- [Thread-5] org.mongodb.driver.connection            : Closed connection [connectionId{localValue:2, serverValue:2}] to localhost:53473 because the pool has been closed.
2018-07-19 21:57:39.592  INFO 15950 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:57:39.580+0100 I STORAGE  [conn3] shutdown: removing fs lock...
2018-07-19 21:57:39.593  INFO 15950 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:57:39.580+0100 I CONTROL  [conn3] dbexit:  rc: 0
2018-07-19 21:57:39.670  WARN 15950 --- [Thread-1] d.f.e.process.runtime.AbstractProcess    : Could not delete pid file: /tmp/extract-249d2d65-9bae-4628-a51b-6808b508feecextractmongod.pid
2018-07-19 21:58:06.086  INFO 16190 --- [main] c.s.c.CreditCardStoreApplication         : Starting CreditCardStoreApplication on dev-VirtualBox with PID 16190 (/home/dev/git/creditcard-store-app/target/classes started by dev in /home/dev/git/creditcard-store-app)
2018-07-19 21:58:06.101  INFO 16190 --- [main] c.s.c.CreditCardStoreApplication         : The following profiles are active: local
2018-07-19 21:58:06.482  INFO 16190 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4d518b32: startup date [Thu Jul 19 21:58:06 BST 2018]; root of context hierarchy
2018-07-19 21:58:14.278  INFO 16190 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2018-07-19 21:58:14.505  INFO 16190 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-19 21:58:14.514  INFO 16190 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.28
2018-07-19 21:58:14.593  INFO 16190 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib:/usr/lib64:/lib64:/lib:/usr/lib]
2018-07-19 21:58:15.261  INFO 16190 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-19 21:58:15.264  INFO 16190 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 8782 ms
2018-07-19 21:58:15.979  INFO 16190 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-19 21:58:15.994  INFO 16190 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-19 21:58:16.006  INFO 16190 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-19 21:58:16.008  INFO 16190 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-19 21:58:16.016  INFO 16190 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-19 21:58:17.372  INFO 16190 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : note: noprealloc may hurt performance in many applications
2018-07-19 21:58:17.409  INFO 16190 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:58:17.409+0100 I CONTROL  [initandlisten] MongoDB starting : pid=16217 port=54520 dbpath=/tmp/embedmongo-db-a0a86101-c1b7-4194-933c-c67136fd0844 64-bit host=dev-VirtualBox
2018-07-19 21:58:17.410  INFO 16190 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:58:17.410+0100 I CONTROL  [initandlisten] db version v3.2.2
2018-07-19 21:58:17.410  INFO 16190 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:58:17.410+0100 I CONTROL  [initandlisten] git version: 6e71d0d568e134c029203593b00a0103e7cdf30b
2018-07-19 21:58:17.410  INFO 16190 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:58:17.410+0100 I CONTROL  [initandlisten] allocator: tcmalloc
2018-07-19 21:58:17.410  INFO 16190 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:58:17.410+0100 I CONTROL  [initandlisten] modules: none
2018-07-19 21:58:17.413  INFO 16190 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:58:17.413+0100 I CONTROL  [initandlisten] build environment:
2018-07-19 21:58:17.414  INFO 16190 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:58:17.413+0100 I CONTROL  [initandlisten]     distarch: x86_64
2018-07-19 21:58:17.414  INFO 16190 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:58:17.414+0100 I CONTROL  [initandlisten]     target_arch: x86_64
2018-07-19 21:58:17.415  INFO 16190 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:58:17.415+0100 I CONTROL  [initandlisten] options: { net: { bindIp: "127.0.0.1", http: { enabled: false }, port: 54520 }, security: { authorization: "disabled" }, storage: { dbPath: "/tmp/embedmongo-db-a0a86101-c1b7-4194-933c-c67136fd0844", journal: { enabled: false }, mmapv1: { preallocDataFiles: false, smallFiles: true }, syncPeriodSecs: 0.0 } }
2018-07-19 21:58:17.633  INFO 16190 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:58:17.633+0100 I STORAGE  [initandlisten] wiredtiger_open config: create,cache_size=1G,session_max=20000,eviction=(threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000),checkpoint=(wait=0,log_size=2GB),statistics_log=(wait=0),,log=(enabled=false),
2018-07-19 21:58:17.799  INFO 16190 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:58:17.799+0100 W STORAGE  [initandlisten] Detected configuration for non-active storage engine mmapv1 when current storage engine is wiredTiger
2018-07-19 21:58:17.800  INFO 16190 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:58:17.800+0100 I CONTROL  [initandlisten] 
2018-07-19 21:58:17.803  INFO 16190 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:58:17.803+0100 I CONTROL  [initandlisten] ** WARNING: /sys/kernel/mm/transparent_hugepage/enabled is 'always'.
2018-07-19 21:58:17.804  INFO 16190 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:58:17.804+0100 I CONTROL  [initandlisten] **        We suggest setting it to 'never'
2018-07-19 21:58:17.804  INFO 16190 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:58:17.804+0100 I CONTROL  [initandlisten] 
2018-07-19 21:58:17.805  INFO 16190 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:58:17.804+0100 I CONTROL  [initandlisten] ** WARNING: /sys/kernel/mm/transparent_hugepage/defrag is 'always'.
2018-07-19 21:58:17.805  INFO 16190 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:58:17.805+0100 I CONTROL  [initandlisten] **        We suggest setting it to 'never'
2018-07-19 21:58:17.805  INFO 16190 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:58:17.805+0100 I CONTROL  [initandlisten] 
2018-07-19 21:58:17.806  INFO 16190 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:58:17.806+0100 I FTDC     [initandlisten] Initializing full-time diagnostic data capture with directory '/tmp/embedmongo-db-a0a86101-c1b7-4194-933c-c67136fd0844/diagnostic.data'
2018-07-19 21:58:17.810  INFO 16190 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:58:17.810+0100 I NETWORK  [HostnameCanonicalizationWorker] Starting hostname canonicalization worker
2018-07-19 21:58:17.846  INFO 16190 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:58:17.846+0100 I NETWORK  [initandlisten] waiting for connections on port 54520
2018-07-19 21:58:17.848  INFO 16190 --- [main] d.f.embed.process.runtime.Executable     : start de.flapdoodle.embed.mongo.config.MongodConfigBuilder$ImmutableMongodConfig@59dc36d4
2018-07-19 21:58:19.403  INFO 16190 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:54520], mode=MULTIPLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-19 21:58:19.410  INFO 16190 --- [main] org.mongodb.driver.cluster               : Adding discovered server localhost:54520 to client view of cluster
2018-07-19 21:58:19.708  INFO 16190 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:58:19.708+0100 I NETWORK  [initandlisten] connection accepted from 127.0.0.1:49989 #1 (1 connection now open)
2018-07-19 21:58:19.952  INFO 16190 --- [cluster-ClusterId{value='5b50fb6bc9ad373f3eba1fb0', description='null'}-localhost:54520] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:1, serverValue:1}] to localhost:54520
2018-07-19 21:58:19.977  INFO 16190 --- [cluster-ClusterId{value='5b50fb6bc9ad373f3eba1fb0', description='null'}-localhost:54520] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:54520, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 2, 2]}, minWireVersion=0, maxWireVersion=4, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=null, roundTripTimeNanos=1645962}
2018-07-19 21:58:19.984  INFO 16190 --- [cluster-ClusterId{value='5b50fb6bc9ad373f3eba1fb0', description='null'}-localhost:54520] org.mongodb.driver.cluster               : Discovered cluster type of STANDALONE
2018-07-19 21:58:21.401  INFO 16190 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:58:21.401+0100 I NETWORK  [initandlisten] connection accepted from 127.0.0.1:49990 #2 (2 connections now open)
2018-07-19 21:58:21.424  INFO 16190 --- [main] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:2, serverValue:2}] to localhost:54520
2018-07-19 21:58:21.476  INFO 16190 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:58:21.476+0100 I INDEX    [conn2] build index on: test.creditCard properties: { v: 1, unique: true, key: { creditCardNumber: 1 }, name: "creditCardNumber", ns: "test.creditCard" }
2018-07-19 21:58:21.478  INFO 16190 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:58:21.478+0100 I INDEX    [conn2] 	 building index using bulk method
2018-07-19 21:58:21.480  INFO 16190 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T21:58:21.480+0100 I INDEX    [conn2] build index done.  scanned 0 total records. 0 secs
2018-07-19 21:58:23.616  INFO 16190 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4d518b32: startup date [Thu Jul 19 21:58:06 BST 2018]; root of context hierarchy
2018-07-19 21:58:24.062  INFO 16190 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/store/creditcard/{id}/charge],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.store.creditcard.controller.CreditCardController.charge(java.lang.String,java.lang.String,java.lang.String)
2018-07-19 21:58:24.066  INFO 16190 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/store/creditcard/add],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.store.creditcard.controller.CreditCardController.add(com.store.creditcard.request.CreditCardRequestParam)
2018-07-19 21:58:24.097  INFO 16190 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-19 21:58:24.100  INFO 16190 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-19 21:58:24.313  INFO 16190 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-19 21:58:24.322  INFO 16190 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-19 21:58:24.410  INFO 16190 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in globalExceptionHandler
2018-07-19 21:58:24.630  INFO 16190 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-19 21:58:25.510  INFO 16190 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-19 21:58:25.776  INFO 16190 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2018-07-19 21:58:25.785  INFO 16190 --- [main] c.s.c.CreditCardStoreApplication         : Started CreditCardStoreApplication in 22.666 seconds (JVM running for 25.476)
2018-07-19 21:58:48.623  INFO 16190 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-19 21:58:48.624  INFO 16190 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-19 21:58:48.760  INFO 16190 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 134 ms
2018-07-19 21:58:50.331  INFO 16190 --- [http-nio-8080-exec-1] c.s.c.r.v.CreditCardValidatorImpl        : validating card number
2018-07-19 21:58:50.539  INFO 16190 --- [http-nio-8080-exec-1] c.s.c.r.v.CreditCardValidatorImpl        : validating card number
2018-07-19 21:58:50.594  INFO 16190 --- [http-nio-8080-exec-1] c.s.c.controller.CreditCardController    : add new card
2018-07-19 21:58:57.231  INFO 16190 --- [http-nio-8080-exec-3] c.s.c.r.v.CreditCardValidatorImpl        : validating card number
2018-07-19 21:59:52.018  INFO 16190 --- [http-nio-8080-exec-4] c.s.c.r.v.CreditCardValidatorImpl        : validating card number
2018-07-19 21:59:52.030  INFO 16190 --- [http-nio-8080-exec-4] c.s.c.r.v.CreditCardValidatorImpl        : validating card number
2018-07-19 21:59:52.035  INFO 16190 --- [http-nio-8080-exec-4] c.s.c.controller.CreditCardController    : add new card
2018-07-19 21:59:52.234 ERROR 16190 --- [http-nio-8080-exec-4] c.s.c.controller.GlobalExceptionHandler  : Resource already exists
2018-07-19 22:00:25.616  INFO 16190 --- [http-nio-8080-exec-6] c.s.c.r.v.CreditCardValidatorImpl        : validating card number
2018-07-19 22:00:58.555  INFO 16190 --- [Thread-5] ConfigServletWebServerApplicationContext : Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4d518b32: startup date [Thu Jul 19 21:58:06 BST 2018]; root of context hierarchy
2018-07-19 22:00:58.579  INFO 16190 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:00:58.579+0100 I NETWORK  [initandlisten] connection accepted from 127.0.0.1:49995 #3 (3 connections now open)
2018-07-19 22:00:58.573  INFO 16190 --- [Thread-5] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2018-07-19 22:00:58.585  INFO 16190 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:00:58.585+0100 I COMMAND  [conn3] terminating, shutdown command received
2018-07-19 22:00:58.592  INFO 16190 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:00:58.592+0100 I FTDC     [conn3] Shutting down full-time diagnostic data capture
2018-07-19 22:00:58.594  INFO 16190 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:00:58.594+0100 I CONTROL  [conn3] now exiting
2018-07-19 22:00:58.594  INFO 16190 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:00:58.594+0100 I NETWORK  [conn3] shutdown: going to close listening sockets...
2018-07-19 22:00:58.621  INFO 16190 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:00:58.602+0100 I NETWORK  [conn3] closing listening socket: 5
2018-07-19 22:00:58.621  INFO 16190 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:00:58.602+0100 I NETWORK  [conn3] closing listening socket: 6
2018-07-19 22:00:58.621  INFO 16190 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:00:58.602+0100 I NETWORK  [conn3] removing socket file: /tmp/mongodb-54520.sock
2018-07-19 22:00:58.621  INFO 16190 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:00:58.602+0100 I NETWORK  [conn3] shutdown: going to flush diaglog...
2018-07-19 22:00:58.621  INFO 16190 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:00:58.602+0100 I NETWORK  [conn3] shutdown: going to close sockets...
2018-07-19 22:00:58.621  INFO 16190 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:00:58.602+0100 I STORAGE  [conn3] WiredTigerKVEngine shutting down
2018-07-19 22:00:58.622  INFO 16190 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:00:58.608+0100 I NETWORK  [conn2] end connection 127.0.0.1:49990 (2 connections now open)
2018-07-19 22:00:58.622  INFO 16190 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:00:58.609+0100 I NETWORK  [conn1] end connection 127.0.0.1:49989 (2 connections now open)
2018-07-19 22:00:58.606  INFO 16190 --- [Thread-5] org.mongodb.driver.connection            : Closed connection [connectionId{localValue:2, serverValue:2}] to localhost:54520 because the pool has been closed.
2018-07-19 22:00:58.639  INFO 16190 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:00:58.638+0100 I STORAGE  [conn3] shutdown: removing fs lock...
2018-07-19 22:00:58.644  INFO 16190 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:00:58.644+0100 I CONTROL  [conn3] dbexit:  rc: 0
2018-07-19 22:00:58.726  WARN 16190 --- [Thread-1] d.f.e.process.runtime.AbstractProcess    : Could not delete pid file: /tmp/extract-9d765b37-b1ee-4051-9baa-3eaed0d4f38aextractmongod.pid
2018-07-19 22:01:50.606  INFO 16291 --- [main] c.s.c.CreditCardStoreApplication         : Starting CreditCardStoreApplication on dev-VirtualBox with PID 16291 (/home/dev/git/creditcard-store-app/target/classes started by dev in /home/dev/git/creditcard-store-app)
2018-07-19 22:01:50.743  INFO 16291 --- [main] c.s.c.CreditCardStoreApplication         : The following profiles are active: local
2018-07-19 22:01:51.189  INFO 16291 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4bd31064: startup date [Thu Jul 19 22:01:51 BST 2018]; root of context hierarchy
2018-07-19 22:01:59.412  INFO 16291 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2018-07-19 22:01:59.642  INFO 16291 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-19 22:01:59.650  INFO 16291 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.28
2018-07-19 22:01:59.726  INFO 16291 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib:/usr/lib64:/lib64:/lib:/usr/lib]
2018-07-19 22:02:00.442  INFO 16291 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-19 22:02:00.445  INFO 16291 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 9256 ms
2018-07-19 22:02:01.148  INFO 16291 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-19 22:02:01.165  INFO 16291 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-19 22:02:01.176  INFO 16291 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-19 22:02:01.177  INFO 16291 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-19 22:02:01.181  INFO 16291 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-19 22:02:02.377  INFO 16291 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : note: noprealloc may hurt performance in many applications
2018-07-19 22:02:02.403  INFO 16291 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:02:02.403+0100 I CONTROL  [initandlisten] MongoDB starting : pid=16316 port=33228 dbpath=/tmp/embedmongo-db-2439db5c-8820-4a78-a200-8cb0292185f8 64-bit host=dev-VirtualBox
2018-07-19 22:02:02.409  INFO 16291 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:02:02.408+0100 I CONTROL  [initandlisten] db version v3.2.2
2018-07-19 22:02:02.410  INFO 16291 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:02:02.410+0100 I CONTROL  [initandlisten] git version: 6e71d0d568e134c029203593b00a0103e7cdf30b
2018-07-19 22:02:02.412  INFO 16291 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:02:02.411+0100 I CONTROL  [initandlisten] allocator: tcmalloc
2018-07-19 22:02:02.414  INFO 16291 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:02:02.413+0100 I CONTROL  [initandlisten] modules: none
2018-07-19 22:02:02.415  INFO 16291 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:02:02.414+0100 I CONTROL  [initandlisten] build environment:
2018-07-19 22:02:02.416  INFO 16291 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:02:02.414+0100 I CONTROL  [initandlisten]     distarch: x86_64
2018-07-19 22:02:02.416  INFO 16291 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:02:02.414+0100 I CONTROL  [initandlisten]     target_arch: x86_64
2018-07-19 22:02:02.416  INFO 16291 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:02:02.414+0100 I CONTROL  [initandlisten] options: { net: { bindIp: "127.0.0.1", http: { enabled: false }, port: 33228 }, security: { authorization: "disabled" }, storage: { dbPath: "/tmp/embedmongo-db-2439db5c-8820-4a78-a200-8cb0292185f8", journal: { enabled: false }, mmapv1: { preallocDataFiles: false, smallFiles: true }, syncPeriodSecs: 0.0 } }
2018-07-19 22:02:02.575  INFO 16291 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:02:02.575+0100 I STORAGE  [initandlisten] wiredtiger_open config: create,cache_size=1G,session_max=20000,eviction=(threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000),checkpoint=(wait=0,log_size=2GB),statistics_log=(wait=0),,log=(enabled=false),
2018-07-19 22:02:02.669  INFO 16291 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:02:02.669+0100 W STORAGE  [initandlisten] Detected configuration for non-active storage engine mmapv1 when current storage engine is wiredTiger
2018-07-19 22:02:02.670  INFO 16291 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:02:02.670+0100 I CONTROL  [initandlisten] 
2018-07-19 22:02:02.670  INFO 16291 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:02:02.670+0100 I CONTROL  [initandlisten] ** WARNING: /sys/kernel/mm/transparent_hugepage/enabled is 'always'.
2018-07-19 22:02:02.671  INFO 16291 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:02:02.671+0100 I CONTROL  [initandlisten] **        We suggest setting it to 'never'
2018-07-19 22:02:02.671  INFO 16291 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:02:02.671+0100 I CONTROL  [initandlisten] 
2018-07-19 22:02:02.672  INFO 16291 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:02:02.671+0100 I CONTROL  [initandlisten] ** WARNING: /sys/kernel/mm/transparent_hugepage/defrag is 'always'.
2018-07-19 22:02:02.673  INFO 16291 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:02:02.673+0100 I CONTROL  [initandlisten] **        We suggest setting it to 'never'
2018-07-19 22:02:02.675  INFO 16291 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:02:02.675+0100 I CONTROL  [initandlisten] 
2018-07-19 22:02:02.676  INFO 16291 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:02:02.676+0100 I FTDC     [initandlisten] Initializing full-time diagnostic data capture with directory '/tmp/embedmongo-db-2439db5c-8820-4a78-a200-8cb0292185f8/diagnostic.data'
2018-07-19 22:02:02.689  INFO 16291 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:02:02.689+0100 I NETWORK  [HostnameCanonicalizationWorker] Starting hostname canonicalization worker
2018-07-19 22:02:02.715  INFO 16291 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:02:02.715+0100 I NETWORK  [initandlisten] waiting for connections on port 33228
2018-07-19 22:02:02.716  INFO 16291 --- [main] d.f.embed.process.runtime.Executable     : start de.flapdoodle.embed.mongo.config.MongodConfigBuilder$ImmutableMongodConfig@26cb5207
2018-07-19 22:02:03.843  INFO 16291 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:33228], mode=MULTIPLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-19 22:02:03.844  INFO 16291 --- [main] org.mongodb.driver.cluster               : Adding discovered server localhost:33228 to client view of cluster
2018-07-19 22:02:04.168  INFO 16291 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:02:04.168+0100 I NETWORK  [initandlisten] connection accepted from 127.0.0.1:48377 #1 (1 connection now open)
2018-07-19 22:02:04.406  INFO 16291 --- [cluster-ClusterId{value='5b50fc4bc9ad373fa3f6168f', description='null'}-localhost:33228] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:1, serverValue:1}] to localhost:33228
2018-07-19 22:02:04.426  INFO 16291 --- [cluster-ClusterId{value='5b50fc4bc9ad373fa3f6168f', description='null'}-localhost:33228] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:33228, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 2, 2]}, minWireVersion=0, maxWireVersion=4, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=null, roundTripTimeNanos=998417}
2018-07-19 22:02:04.442  INFO 16291 --- [cluster-ClusterId{value='5b50fc4bc9ad373fa3f6168f', description='null'}-localhost:33228] org.mongodb.driver.cluster               : Discovered cluster type of STANDALONE
2018-07-19 22:02:05.892  INFO 16291 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:02:05.892+0100 I NETWORK  [initandlisten] connection accepted from 127.0.0.1:48378 #2 (2 connections now open)
2018-07-19 22:02:05.913  INFO 16291 --- [main] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:2, serverValue:2}] to localhost:33228
2018-07-19 22:02:05.981  INFO 16291 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:02:05.981+0100 I INDEX    [conn2] build index on: test.creditCard properties: { v: 1, unique: true, key: { creditCardNumber: 1 }, name: "creditCardNumber", ns: "test.creditCard" }
2018-07-19 22:02:05.984  INFO 16291 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:02:05.984+0100 I INDEX    [conn2] 	 building index using bulk method
2018-07-19 22:02:05.985  INFO 16291 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:02:05.985+0100 I INDEX    [conn2] build index done.  scanned 0 total records. 0 secs
2018-07-19 22:02:08.107  INFO 16291 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4bd31064: startup date [Thu Jul 19 22:01:51 BST 2018]; root of context hierarchy
2018-07-19 22:02:08.542  INFO 16291 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/store/creditcard/{id}/charge],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.store.creditcard.controller.CreditCardController.charge(java.lang.String,java.lang.String,java.lang.String)
2018-07-19 22:02:08.549  INFO 16291 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/store/creditcard/add],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.store.creditcard.controller.CreditCardController.add(com.store.creditcard.request.CreditCardRequestParam)
2018-07-19 22:02:08.610  INFO 16291 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-19 22:02:08.613  INFO 16291 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-19 22:02:08.839  INFO 16291 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-19 22:02:08.841  INFO 16291 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-19 22:02:08.921  INFO 16291 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in globalExceptionHandler
2018-07-19 22:02:09.128  INFO 16291 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-19 22:02:09.984  INFO 16291 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-19 22:02:10.234  INFO 16291 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2018-07-19 22:02:10.262  INFO 16291 --- [main] c.s.c.CreditCardStoreApplication         : Started CreditCardStoreApplication in 22.729 seconds (JVM running for 25.474)
2018-07-19 22:02:17.100  INFO 16291 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-19 22:02:17.105  INFO 16291 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-19 22:02:17.268  INFO 16291 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 160 ms
2018-07-19 22:02:19.017  INFO 16291 --- [http-nio-8080-exec-1] c.s.c.controller.CreditCardController    : add new card
2018-07-19 22:02:30.794  INFO 16291 --- [http-nio-8080-exec-2] c.s.c.controller.CreditCardController    : add new card
2018-07-19 22:02:30.971 ERROR 16291 --- [http-nio-8080-exec-2] c.s.c.controller.GlobalExceptionHandler  : Resource already exists
2018-07-19 22:02:41.610  INFO 16291 --- [http-nio-8080-exec-4] c.s.c.controller.CreditCardController    : add new card
2018-07-19 22:04:07.143 ERROR 16291 --- [http-nio-8080-exec-6] c.s.c.controller.GlobalExceptionHandler  : Validation error
2018-07-19 22:04:46.068 ERROR 16291 --- [http-nio-8080-exec-7] c.s.c.controller.GlobalExceptionHandler  : Validation error
2018-07-19 22:04:58.008 ERROR 16291 --- [http-nio-8080-exec-8] c.s.c.controller.GlobalExceptionHandler  : Validation error
2018-07-19 22:05:39.225  INFO 16291 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:05:39.225+0100 I NETWORK  [initandlisten] connection accepted from 127.0.0.1:48437 #3 (3 connections now open)
2018-07-19 22:05:39.229  INFO 16291 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:05:39.229+0100 I COMMAND  [conn3] terminating, shutdown command received
2018-07-19 22:05:39.231  INFO 16291 --- [Thread-5] ConfigServletWebServerApplicationContext : Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4bd31064: startup date [Thu Jul 19 22:01:51 BST 2018]; root of context hierarchy
2018-07-19 22:05:39.240  INFO 16291 --- [Thread-5] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2018-07-19 22:05:39.242  INFO 16291 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:05:39.242+0100 I FTDC     [conn3] Shutting down full-time diagnostic data capture
2018-07-19 22:05:39.248  INFO 16291 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:05:39.248+0100 I CONTROL  [conn3] now exiting
2018-07-19 22:05:39.248  INFO 16291 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:05:39.248+0100 I NETWORK  [conn3] shutdown: going to close listening sockets...
2018-07-19 22:05:39.248  INFO 16291 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:05:39.248+0100 I NETWORK  [conn3] closing listening socket: 5
2018-07-19 22:05:39.249  INFO 16291 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:05:39.249+0100 I NETWORK  [conn3] closing listening socket: 6
2018-07-19 22:05:39.249  INFO 16291 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:05:39.249+0100 I NETWORK  [conn3] removing socket file: /tmp/mongodb-33228.sock
2018-07-19 22:05:39.250  INFO 16291 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:05:39.250+0100 I NETWORK  [conn3] shutdown: going to flush diaglog...
2018-07-19 22:05:39.254  INFO 16291 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:05:39.254+0100 I NETWORK  [conn3] shutdown: going to close sockets...
2018-07-19 22:05:39.255  INFO 16291 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:05:39.255+0100 I STORAGE  [conn3] WiredTigerKVEngine shutting down
2018-07-19 22:05:39.263  INFO 16291 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:05:39.263+0100 I NETWORK  [conn2] end connection 127.0.0.1:48378 (2 connections now open)
2018-07-19 22:05:39.265  INFO 16291 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:05:39.264+0100 I NETWORK  [conn1] end connection 127.0.0.1:48377 (2 connections now open)
2018-07-19 22:05:39.276  INFO 16291 --- [Thread-5] org.mongodb.driver.connection            : Closed connection [connectionId{localValue:2, serverValue:2}] to localhost:33228 because the pool has been closed.
2018-07-19 22:05:39.288  INFO 16291 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:05:39.288+0100 I STORAGE  [conn3] shutdown: removing fs lock...
2018-07-19 22:05:39.288  INFO 16291 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:05:39.288+0100 I CONTROL  [conn3] dbexit:  rc: 0
2018-07-19 22:05:39.384  WARN 16291 --- [Thread-1] d.f.e.process.runtime.AbstractProcess    : Could not delete pid file: /tmp/extract-8a45205e-ca83-4da9-a7c1-57d43102dff2extractmongod.pid
2018-07-19 22:07:07.676  INFO 16420 --- [main] c.s.c.CreditCardStoreApplication         : Starting CreditCardStoreApplication on dev-VirtualBox with PID 16420 (/home/dev/git/creditcard-store-app/target/classes started by dev in /home/dev/git/creditcard-store-app)
2018-07-19 22:07:07.690  INFO 16420 --- [main] c.s.c.CreditCardStoreApplication         : The following profiles are active: local
2018-07-19 22:07:08.110  INFO 16420 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@20d7d6fb: startup date [Thu Jul 19 22:07:08 BST 2018]; root of context hierarchy
2018-07-19 22:07:14.761  INFO 16420 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2018-07-19 22:07:14.934  INFO 16420 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-19 22:07:14.953  INFO 16420 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.28
2018-07-19 22:07:15.042  INFO 16420 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib:/usr/lib64:/lib64:/lib:/usr/lib]
2018-07-19 22:07:15.634  INFO 16420 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-19 22:07:15.636  INFO 16420 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 7526 ms
2018-07-19 22:07:16.213  INFO 16420 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-19 22:07:16.233  INFO 16420 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-19 22:07:16.236  INFO 16420 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-19 22:07:16.237  INFO 16420 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-19 22:07:16.240  INFO 16420 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-19 22:07:17.238  INFO 16420 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : note: noprealloc may hurt performance in many applications
2018-07-19 22:07:17.287  INFO 16420 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:07:17.286+0100 I CONTROL  [initandlisten] MongoDB starting : pid=16448 port=58279 dbpath=/tmp/embedmongo-db-fc908f1f-1a9a-4bb4-87de-93a00d64474b 64-bit host=dev-VirtualBox
2018-07-19 22:07:17.288  INFO 16420 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:07:17.288+0100 I CONTROL  [initandlisten] db version v3.2.2
2018-07-19 22:07:17.289  INFO 16420 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:07:17.289+0100 I CONTROL  [initandlisten] git version: 6e71d0d568e134c029203593b00a0103e7cdf30b
2018-07-19 22:07:17.289  INFO 16420 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:07:17.289+0100 I CONTROL  [initandlisten] allocator: tcmalloc
2018-07-19 22:07:17.289  INFO 16420 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:07:17.289+0100 I CONTROL  [initandlisten] modules: none
2018-07-19 22:07:17.290  INFO 16420 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:07:17.290+0100 I CONTROL  [initandlisten] build environment:
2018-07-19 22:07:17.291  INFO 16420 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:07:17.290+0100 I CONTROL  [initandlisten]     distarch: x86_64
2018-07-19 22:07:17.291  INFO 16420 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:07:17.291+0100 I CONTROL  [initandlisten]     target_arch: x86_64
2018-07-19 22:07:17.291  INFO 16420 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:07:17.291+0100 I CONTROL  [initandlisten] options: { net: { bindIp: "127.0.0.1", http: { enabled: false }, port: 58279 }, security: { authorization: "disabled" }, storage: { dbPath: "/tmp/embedmongo-db-fc908f1f-1a9a-4bb4-87de-93a00d64474b", journal: { enabled: false }, mmapv1: { preallocDataFiles: false, smallFiles: true }, syncPeriodSecs: 0.0 } }
2018-07-19 22:07:17.459  INFO 16420 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:07:17.459+0100 I STORAGE  [initandlisten] wiredtiger_open config: create,cache_size=1G,session_max=20000,eviction=(threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000),checkpoint=(wait=0,log_size=2GB),statistics_log=(wait=0),,log=(enabled=false),
2018-07-19 22:07:17.541  INFO 16420 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:07:17.540+0100 W STORAGE  [initandlisten] Detected configuration for non-active storage engine mmapv1 when current storage engine is wiredTiger
2018-07-19 22:07:17.542  INFO 16420 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:07:17.542+0100 I CONTROL  [initandlisten] 
2018-07-19 22:07:17.547  INFO 16420 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:07:17.547+0100 I CONTROL  [initandlisten] ** WARNING: /sys/kernel/mm/transparent_hugepage/enabled is 'always'.
2018-07-19 22:07:17.548  INFO 16420 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:07:17.548+0100 I CONTROL  [initandlisten] **        We suggest setting it to 'never'
2018-07-19 22:07:17.548  INFO 16420 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:07:17.548+0100 I CONTROL  [initandlisten] 
2018-07-19 22:07:17.548  INFO 16420 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:07:17.548+0100 I CONTROL  [initandlisten] ** WARNING: /sys/kernel/mm/transparent_hugepage/defrag is 'always'.
2018-07-19 22:07:17.549  INFO 16420 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:07:17.549+0100 I CONTROL  [initandlisten] **        We suggest setting it to 'never'
2018-07-19 22:07:17.549  INFO 16420 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:07:17.549+0100 I CONTROL  [initandlisten] 
2018-07-19 22:07:17.550  INFO 16420 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:07:17.550+0100 I FTDC     [initandlisten] Initializing full-time diagnostic data capture with directory '/tmp/embedmongo-db-fc908f1f-1a9a-4bb4-87de-93a00d64474b/diagnostic.data'
2018-07-19 22:07:17.554  INFO 16420 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:07:17.553+0100 I NETWORK  [HostnameCanonicalizationWorker] Starting hostname canonicalization worker
2018-07-19 22:07:17.581  INFO 16420 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:07:17.580+0100 I NETWORK  [initandlisten] waiting for connections on port 58279
2018-07-19 22:07:17.582  INFO 16420 --- [main] d.f.embed.process.runtime.Executable     : start de.flapdoodle.embed.mongo.config.MongodConfigBuilder$ImmutableMongodConfig@4f0f7849
2018-07-19 22:07:18.657  INFO 16420 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:58279], mode=MULTIPLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-19 22:07:18.663  INFO 16420 --- [main] org.mongodb.driver.cluster               : Adding discovered server localhost:58279 to client view of cluster
2018-07-19 22:07:18.887  INFO 16420 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:07:18.887+0100 I NETWORK  [initandlisten] connection accepted from 127.0.0.1:56520 #1 (1 connection now open)
2018-07-19 22:07:19.052  INFO 16420 --- [cluster-ClusterId{value='5b50fd86c9ad37402425e196', description='null'}-localhost:58279] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:1, serverValue:1}] to localhost:58279
2018-07-19 22:07:19.122  INFO 16420 --- [cluster-ClusterId{value='5b50fd86c9ad37402425e196', description='null'}-localhost:58279] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:58279, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 2, 2]}, minWireVersion=0, maxWireVersion=4, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=null, roundTripTimeNanos=17192090}
2018-07-19 22:07:19.128  INFO 16420 --- [cluster-ClusterId{value='5b50fd86c9ad37402425e196', description='null'}-localhost:58279] org.mongodb.driver.cluster               : Discovered cluster type of STANDALONE
2018-07-19 22:07:19.516  INFO 16420 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:07:19.515+0100 I NETWORK  [initandlisten] connection accepted from 127.0.0.1:56521 #2 (2 connections now open)
2018-07-19 22:07:19.524  INFO 16420 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:07:19.524+0100 I COMMAND  [conn2] terminating, shutdown command received
2018-07-19 22:07:19.527  INFO 16420 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:07:19.527+0100 I FTDC     [conn2] Shutting down full-time diagnostic data capture
2018-07-19 22:07:19.529  INFO 16420 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:07:19.529+0100 I CONTROL  [conn2] now exiting
2018-07-19 22:07:19.529  INFO 16420 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:07:19.529+0100 I NETWORK  [conn2] shutdown: going to close listening sockets...
2018-07-19 22:07:19.537  INFO 16420 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:07:19.537+0100 I NETWORK  [conn2] closing listening socket: 5
2018-07-19 22:07:19.538  INFO 16420 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:07:19.538+0100 I NETWORK  [conn2] closing listening socket: 6
2018-07-19 22:07:19.540  INFO 16420 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:07:19.539+0100 I NETWORK  [conn2] removing socket file: /tmp/mongodb-58279.sock
2018-07-19 22:07:19.540  INFO 16420 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:07:19.540+0100 I NETWORK  [conn2] shutdown: going to flush diaglog...
2018-07-19 22:07:19.540  INFO 16420 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:07:19.540+0100 I NETWORK  [conn2] shutdown: going to close sockets...
2018-07-19 22:07:19.542  INFO 16420 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:07:19.540+0100 I STORAGE  [conn2] WiredTigerKVEngine shutting down
2018-07-19 22:07:19.554  INFO 16420 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:07:19.554+0100 I NETWORK  [conn1] end connection 127.0.0.1:56520 (1 connection now open)
2018-07-19 22:07:19.565  INFO 16420 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:07:19.564+0100 I STORAGE  [conn2] shutdown: removing fs lock...
2018-07-19 22:07:19.567  INFO 16420 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:07:19.567+0100 I CONTROL  [conn2] dbexit:  rc: 0
2018-07-19 22:07:19.684  WARN 16420 --- [Thread-1] d.f.e.process.runtime.AbstractProcess    : Could not delete pid file: /tmp/extract-16c28904-2b53-497e-b84b-f087ccc54285extractmongod.pid
2018-07-19 22:07:58.941  INFO 16488 --- [main] c.s.c.CreditCardStoreApplication         : Starting CreditCardStoreApplication on dev-VirtualBox with PID 16488 (/home/dev/git/creditcard-store-app/target/classes started by dev in /home/dev/git/creditcard-store-app)
2018-07-19 22:07:58.962  INFO 16488 --- [main] c.s.c.CreditCardStoreApplication         : The following profiles are active: local
2018-07-19 22:07:59.381  INFO 16488 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4bd31064: startup date [Thu Jul 19 22:07:59 BST 2018]; root of context hierarchy
2018-07-19 22:08:06.577  INFO 16488 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2018-07-19 22:08:06.816  INFO 16488 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-19 22:08:06.818  INFO 16488 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.28
2018-07-19 22:08:06.905  INFO 16488 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib:/usr/lib64:/lib64:/lib:/usr/lib]
2018-07-19 22:08:07.630  INFO 16488 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-19 22:08:07.632  INFO 16488 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 8251 ms
2018-07-19 22:08:08.259  INFO 16488 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-19 22:08:08.286  INFO 16488 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-19 22:08:08.292  INFO 16488 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-19 22:08:08.294  INFO 16488 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-19 22:08:08.296  INFO 16488 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-19 22:08:09.305  INFO 16488 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : note: noprealloc may hurt performance in many applications
2018-07-19 22:08:09.330  INFO 16488 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:08:09.330+0100 I CONTROL  [initandlisten] MongoDB starting : pid=16515 port=50725 dbpath=/tmp/embedmongo-db-8f5cdd27-4a2e-44d0-8185-199344a6cd23 64-bit host=dev-VirtualBox
2018-07-19 22:08:09.346  INFO 16488 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:08:09.346+0100 I CONTROL  [initandlisten] db version v3.2.2
2018-07-19 22:08:09.348  INFO 16488 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:08:09.348+0100 I CONTROL  [initandlisten] git version: 6e71d0d568e134c029203593b00a0103e7cdf30b
2018-07-19 22:08:09.348  INFO 16488 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:08:09.348+0100 I CONTROL  [initandlisten] allocator: tcmalloc
2018-07-19 22:08:09.348  INFO 16488 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:08:09.348+0100 I CONTROL  [initandlisten] modules: none
2018-07-19 22:08:09.349  INFO 16488 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:08:09.349+0100 I CONTROL  [initandlisten] build environment:
2018-07-19 22:08:09.349  INFO 16488 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:08:09.349+0100 I CONTROL  [initandlisten]     distarch: x86_64
2018-07-19 22:08:09.350  INFO 16488 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:08:09.349+0100 I CONTROL  [initandlisten]     target_arch: x86_64
2018-07-19 22:08:09.351  INFO 16488 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:08:09.351+0100 I CONTROL  [initandlisten] options: { net: { bindIp: "127.0.0.1", http: { enabled: false }, port: 50725 }, security: { authorization: "disabled" }, storage: { dbPath: "/tmp/embedmongo-db-8f5cdd27-4a2e-44d0-8185-199344a6cd23", journal: { enabled: false }, mmapv1: { preallocDataFiles: false, smallFiles: true }, syncPeriodSecs: 0.0 } }
2018-07-19 22:08:09.503  INFO 16488 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:08:09.503+0100 I STORAGE  [initandlisten] wiredtiger_open config: create,cache_size=1G,session_max=20000,eviction=(threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000),checkpoint=(wait=0,log_size=2GB),statistics_log=(wait=0),,log=(enabled=false),
2018-07-19 22:08:09.608  INFO 16488 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:08:09.608+0100 W STORAGE  [initandlisten] Detected configuration for non-active storage engine mmapv1 when current storage engine is wiredTiger
2018-07-19 22:08:09.611  INFO 16488 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:08:09.611+0100 I CONTROL  [initandlisten] 
2018-07-19 22:08:09.615  INFO 16488 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:08:09.615+0100 I CONTROL  [initandlisten] ** WARNING: /sys/kernel/mm/transparent_hugepage/enabled is 'always'.
2018-07-19 22:08:09.615  INFO 16488 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:08:09.615+0100 I CONTROL  [initandlisten] **        We suggest setting it to 'never'
2018-07-19 22:08:09.615  INFO 16488 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:08:09.615+0100 I CONTROL  [initandlisten] 
2018-07-19 22:08:09.616  INFO 16488 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:08:09.616+0100 I CONTROL  [initandlisten] ** WARNING: /sys/kernel/mm/transparent_hugepage/defrag is 'always'.
2018-07-19 22:08:09.616  INFO 16488 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:08:09.616+0100 I CONTROL  [initandlisten] **        We suggest setting it to 'never'
2018-07-19 22:08:09.616  INFO 16488 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:08:09.616+0100 I CONTROL  [initandlisten] 
2018-07-19 22:08:09.617  INFO 16488 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:08:09.617+0100 I FTDC     [initandlisten] Initializing full-time diagnostic data capture with directory '/tmp/embedmongo-db-8f5cdd27-4a2e-44d0-8185-199344a6cd23/diagnostic.data'
2018-07-19 22:08:09.621  INFO 16488 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:08:09.621+0100 I NETWORK  [HostnameCanonicalizationWorker] Starting hostname canonicalization worker
2018-07-19 22:08:09.641  INFO 16488 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:08:09.641+0100 I NETWORK  [initandlisten] waiting for connections on port 50725
2018-07-19 22:08:09.642  INFO 16488 --- [main] d.f.embed.process.runtime.Executable     : start de.flapdoodle.embed.mongo.config.MongodConfigBuilder$ImmutableMongodConfig@3ed7821
2018-07-19 22:08:10.825  INFO 16488 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:50725], mode=MULTIPLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-19 22:08:10.833  INFO 16488 --- [main] org.mongodb.driver.cluster               : Adding discovered server localhost:50725 to client view of cluster
2018-07-19 22:08:11.052  INFO 16488 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:08:11.052+0100 I NETWORK  [initandlisten] connection accepted from 127.0.0.1:53700 #1 (1 connection now open)
2018-07-19 22:08:11.239  INFO 16488 --- [cluster-ClusterId{value='5b50fdbac9ad374068e3b3c3', description='null'}-localhost:50725] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:1, serverValue:1}] to localhost:50725
2018-07-19 22:08:11.286  INFO 16488 --- [cluster-ClusterId{value='5b50fdbac9ad374068e3b3c3', description='null'}-localhost:50725] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:50725, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 2, 2]}, minWireVersion=0, maxWireVersion=4, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=null, roundTripTimeNanos=1391164}
2018-07-19 22:08:11.312  INFO 16488 --- [cluster-ClusterId{value='5b50fdbac9ad374068e3b3c3', description='null'}-localhost:50725] org.mongodb.driver.cluster               : Discovered cluster type of STANDALONE
2018-07-19 22:08:12.471  INFO 16488 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:08:12.471+0100 I NETWORK  [initandlisten] connection accepted from 127.0.0.1:53701 #2 (2 connections now open)
2018-07-19 22:08:12.496  INFO 16488 --- [main] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:2, serverValue:2}] to localhost:50725
2018-07-19 22:08:12.549  INFO 16488 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:08:12.549+0100 I INDEX    [conn2] build index on: test.creditCard properties: { v: 1, unique: true, key: { creditCardNumber: 1 }, name: "creditCardNumber", ns: "test.creditCard" }
2018-07-19 22:08:12.551  INFO 16488 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:08:12.550+0100 I INDEX    [conn2] 	 building index using bulk method
2018-07-19 22:08:12.552  INFO 16488 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:08:12.552+0100 I INDEX    [conn2] build index done.  scanned 0 total records. 0 secs
2018-07-19 22:08:14.321  INFO 16488 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4bd31064: startup date [Thu Jul 19 22:07:59 BST 2018]; root of context hierarchy
2018-07-19 22:08:14.674  INFO 16488 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/store/creditcard/{id}/charge],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.store.creditcard.controller.CreditCardController.charge(java.lang.String,java.lang.String,java.lang.String)
2018-07-19 22:08:14.684  INFO 16488 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/store/creditcard/add],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.store.creditcard.controller.CreditCardController.add(com.store.creditcard.request.CreditCardRequestParam)
2018-07-19 22:08:14.701  INFO 16488 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-19 22:08:14.710  INFO 16488 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-19 22:08:14.910  INFO 16488 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-19 22:08:14.911  INFO 16488 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-19 22:08:14.998  INFO 16488 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in globalExceptionHandler
2018-07-19 22:08:15.155  INFO 16488 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-19 22:08:16.055  INFO 16488 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-19 22:08:16.297  INFO 16488 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2018-07-19 22:08:16.316  INFO 16488 --- [main] c.s.c.CreditCardStoreApplication         : Started CreditCardStoreApplication in 19.819 seconds (JVM running for 22.197)
2018-07-19 22:08:31.896  INFO 16488 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-19 22:08:31.897  INFO 16488 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-19 22:08:32.059  INFO 16488 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 157 ms
2018-07-19 22:08:33.596  INFO 16488 --- [http-nio-8080-exec-1] c.s.c.controller.CreditCardController    : add new card
2018-07-19 22:08:37.519  INFO 16488 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:08:37.519+0100 I NETWORK  [initandlisten] connection accepted from 127.0.0.1:53705 #3 (3 connections now open)
2018-07-19 22:08:37.523  INFO 16488 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:08:37.523+0100 I COMMAND  [conn3] terminating, shutdown command received
2018-07-19 22:08:37.530  INFO 16488 --- [Thread-5] ConfigServletWebServerApplicationContext : Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4bd31064: startup date [Thu Jul 19 22:07:59 BST 2018]; root of context hierarchy
2018-07-19 22:08:37.531  INFO 16488 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:08:37.531+0100 I FTDC     [conn3] Shutting down full-time diagnostic data capture
2018-07-19 22:08:37.536  INFO 16488 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:08:37.536+0100 I CONTROL  [conn3] now exiting
2018-07-19 22:08:37.536  INFO 16488 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:08:37.536+0100 I NETWORK  [conn3] shutdown: going to close listening sockets...
2018-07-19 22:08:37.537  INFO 16488 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:08:37.537+0100 I NETWORK  [conn3] closing listening socket: 5
2018-07-19 22:08:37.537  INFO 16488 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:08:37.537+0100 I NETWORK  [conn3] closing listening socket: 6
2018-07-19 22:08:37.538  INFO 16488 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:08:37.538+0100 I NETWORK  [conn3] removing socket file: /tmp/mongodb-50725.sock
2018-07-19 22:08:37.539  INFO 16488 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:08:37.539+0100 I NETWORK  [conn3] shutdown: going to flush diaglog...
2018-07-19 22:08:37.539  INFO 16488 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:08:37.539+0100 I NETWORK  [conn3] shutdown: going to close sockets...
2018-07-19 22:08:37.540  INFO 16488 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:08:37.539+0100 I STORAGE  [conn3] WiredTigerKVEngine shutting down
2018-07-19 22:08:37.546  INFO 16488 --- [Thread-5] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2018-07-19 22:08:37.549  INFO 16488 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:08:37.549+0100 I NETWORK  [conn2] end connection 127.0.0.1:53701 (2 connections now open)
2018-07-19 22:08:37.549  INFO 16488 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:08:37.549+0100 I NETWORK  [conn1] end connection 127.0.0.1:53700 (2 connections now open)
2018-07-19 22:08:37.584  INFO 16488 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:08:37.584+0100 I STORAGE  [conn3] shutdown: removing fs lock...
2018-07-19 22:08:37.586  INFO 16488 --- [Thread-5] org.mongodb.driver.connection            : Closed connection [connectionId{localValue:2, serverValue:2}] to localhost:50725 because the pool has been closed.
2018-07-19 22:08:37.588  INFO 16488 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:08:37.588+0100 I CONTROL  [conn3] dbexit:  rc: 0
2018-07-19 22:08:37.663  WARN 16488 --- [Thread-1] d.f.e.process.runtime.AbstractProcess    : Could not delete pid file: /tmp/extract-11f35218-36d7-447d-849d-bfae0ecd0bbdextractmongod.pid
2018-07-19 22:09:06.452  INFO 16576 --- [main] c.s.c.CreditCardStoreApplication         : Starting CreditCardStoreApplication on dev-VirtualBox with PID 16576 (/home/dev/git/creditcard-store-app/target/classes started by dev in /home/dev/git/creditcard-store-app)
2018-07-19 22:09:06.467  INFO 16576 --- [main] c.s.c.CreditCardStoreApplication         : The following profiles are active: local
2018-07-19 22:09:06.866  INFO 16576 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4bd31064: startup date [Thu Jul 19 22:09:06 BST 2018]; root of context hierarchy
2018-07-19 22:09:14.224  INFO 16576 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2018-07-19 22:09:14.415  INFO 16576 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-19 22:09:14.423  INFO 16576 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.28
2018-07-19 22:09:14.488  INFO 16576 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib:/usr/lib64:/lib64:/lib:/usr/lib]
2018-07-19 22:09:15.081  INFO 16576 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-19 22:09:15.086  INFO 16576 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 8222 ms
2018-07-19 22:09:15.690  INFO 16576 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-19 22:09:15.719  INFO 16576 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-19 22:09:15.727  INFO 16576 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-19 22:09:15.729  INFO 16576 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-19 22:09:15.732  INFO 16576 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-19 22:09:16.780  INFO 16576 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : note: noprealloc may hurt performance in many applications
2018-07-19 22:09:16.818  INFO 16576 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:09:16.817+0100 I CONTROL  [initandlisten] MongoDB starting : pid=16602 port=44380 dbpath=/tmp/embedmongo-db-b09d4daa-a1ec-4d32-8c5f-b63c5607e5cb 64-bit host=dev-VirtualBox
2018-07-19 22:09:16.828  INFO 16576 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:09:16.828+0100 I CONTROL  [initandlisten] db version v3.2.2
2018-07-19 22:09:16.828  INFO 16576 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:09:16.828+0100 I CONTROL  [initandlisten] git version: 6e71d0d568e134c029203593b00a0103e7cdf30b
2018-07-19 22:09:16.829  INFO 16576 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:09:16.829+0100 I CONTROL  [initandlisten] allocator: tcmalloc
2018-07-19 22:09:16.829  INFO 16576 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:09:16.829+0100 I CONTROL  [initandlisten] modules: none
2018-07-19 22:09:16.830  INFO 16576 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:09:16.830+0100 I CONTROL  [initandlisten] build environment:
2018-07-19 22:09:16.831  INFO 16576 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:09:16.830+0100 I CONTROL  [initandlisten]     distarch: x86_64
2018-07-19 22:09:16.831  INFO 16576 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:09:16.831+0100 I CONTROL  [initandlisten]     target_arch: x86_64
2018-07-19 22:09:16.831  INFO 16576 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:09:16.831+0100 I CONTROL  [initandlisten] options: { net: { bindIp: "127.0.0.1", http: { enabled: false }, port: 44380 }, security: { authorization: "disabled" }, storage: { dbPath: "/tmp/embedmongo-db-b09d4daa-a1ec-4d32-8c5f-b63c5607e5cb", journal: { enabled: false }, mmapv1: { preallocDataFiles: false, smallFiles: true }, syncPeriodSecs: 0.0 } }
2018-07-19 22:09:17.014  INFO 16576 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:09:17.009+0100 I STORAGE  [initandlisten] wiredtiger_open config: create,cache_size=1G,session_max=20000,eviction=(threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000),checkpoint=(wait=0,log_size=2GB),statistics_log=(wait=0),,log=(enabled=false),
2018-07-19 22:09:17.093  INFO 16576 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:09:17.093+0100 W STORAGE  [initandlisten] Detected configuration for non-active storage engine mmapv1 when current storage engine is wiredTiger
2018-07-19 22:09:17.094  INFO 16576 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:09:17.094+0100 I CONTROL  [initandlisten] 
2018-07-19 22:09:17.098  INFO 16576 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:09:17.098+0100 I CONTROL  [initandlisten] ** WARNING: /sys/kernel/mm/transparent_hugepage/enabled is 'always'.
2018-07-19 22:09:17.099  INFO 16576 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:09:17.099+0100 I CONTROL  [initandlisten] **        We suggest setting it to 'never'
2018-07-19 22:09:17.100  INFO 16576 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:09:17.100+0100 I CONTROL  [initandlisten] 
2018-07-19 22:09:17.100  INFO 16576 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:09:17.100+0100 I CONTROL  [initandlisten] ** WARNING: /sys/kernel/mm/transparent_hugepage/defrag is 'always'.
2018-07-19 22:09:17.101  INFO 16576 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:09:17.101+0100 I CONTROL  [initandlisten] **        We suggest setting it to 'never'
2018-07-19 22:09:17.101  INFO 16576 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:09:17.101+0100 I CONTROL  [initandlisten] 
2018-07-19 22:09:17.102  INFO 16576 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:09:17.101+0100 I FTDC     [initandlisten] Initializing full-time diagnostic data capture with directory '/tmp/embedmongo-db-b09d4daa-a1ec-4d32-8c5f-b63c5607e5cb/diagnostic.data'
2018-07-19 22:09:17.105  INFO 16576 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:09:17.104+0100 I NETWORK  [HostnameCanonicalizationWorker] Starting hostname canonicalization worker
2018-07-19 22:09:17.133  INFO 16576 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:09:17.133+0100 I NETWORK  [initandlisten] waiting for connections on port 44380
2018-07-19 22:09:17.134  INFO 16576 --- [main] d.f.embed.process.runtime.Executable     : start de.flapdoodle.embed.mongo.config.MongodConfigBuilder$ImmutableMongodConfig@620c8641
2018-07-19 22:09:18.141  INFO 16576 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:44380], mode=MULTIPLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-19 22:09:18.143  INFO 16576 --- [main] org.mongodb.driver.cluster               : Adding discovered server localhost:44380 to client view of cluster
2018-07-19 22:09:18.353  INFO 16576 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:09:18.353+0100 I NETWORK  [initandlisten] connection accepted from 127.0.0.1:52373 #1 (1 connection now open)
2018-07-19 22:09:18.520  INFO 16576 --- [cluster-ClusterId{value='5b50fdfec9ad3740c0836600', description='null'}-localhost:44380] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:1, serverValue:1}] to localhost:44380
2018-07-19 22:09:18.549  INFO 16576 --- [cluster-ClusterId{value='5b50fdfec9ad3740c0836600', description='null'}-localhost:44380] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:44380, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 2, 2]}, minWireVersion=0, maxWireVersion=4, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=null, roundTripTimeNanos=15567455}
2018-07-19 22:09:18.560  INFO 16576 --- [cluster-ClusterId{value='5b50fdfec9ad3740c0836600', description='null'}-localhost:44380] org.mongodb.driver.cluster               : Discovered cluster type of STANDALONE
2018-07-19 22:09:19.703  INFO 16576 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:09:19.703+0100 I NETWORK  [initandlisten] connection accepted from 127.0.0.1:52374 #2 (2 connections now open)
2018-07-19 22:09:19.730  INFO 16576 --- [main] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:2, serverValue:2}] to localhost:44380
2018-07-19 22:09:19.773  INFO 16576 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:09:19.773+0100 I INDEX    [conn2] build index on: test.creditCard properties: { v: 1, unique: true, key: { creditCardNumber: 1 }, name: "creditCardNumber", ns: "test.creditCard" }
2018-07-19 22:09:19.774  INFO 16576 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:09:19.773+0100 I INDEX    [conn2] 	 building index using bulk method
2018-07-19 22:09:19.776  INFO 16576 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:09:19.776+0100 I INDEX    [conn2] build index done.  scanned 0 total records. 0 secs
2018-07-19 22:09:21.632  INFO 16576 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4bd31064: startup date [Thu Jul 19 22:09:06 BST 2018]; root of context hierarchy
2018-07-19 22:09:22.036  INFO 16576 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/store/creditcard/{id}/charge],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.store.creditcard.controller.CreditCardController.charge(java.lang.String,java.lang.String,java.lang.String)
2018-07-19 22:09:22.040  INFO 16576 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/store/creditcard/add],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.store.creditcard.controller.CreditCardController.add(com.store.creditcard.request.CreditCardRequestParam)
2018-07-19 22:09:22.065  INFO 16576 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-19 22:09:22.071  INFO 16576 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-19 22:09:22.255  INFO 16576 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-19 22:09:22.259  INFO 16576 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-19 22:09:22.341  INFO 16576 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in globalExceptionHandler
2018-07-19 22:09:22.498  INFO 16576 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-19 22:09:23.295  INFO 16576 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-19 22:09:23.565  INFO 16576 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2018-07-19 22:09:23.577  INFO 16576 --- [main] c.s.c.CreditCardStoreApplication         : Started CreditCardStoreApplication in 19.982 seconds (JVM running for 22.698)
2018-07-19 22:09:31.245  INFO 16576 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-19 22:09:31.245  INFO 16576 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-19 22:09:31.377  INFO 16576 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 132 ms
2018-07-19 22:09:33.216  INFO 16576 --- [http-nio-8080-exec-1] c.s.c.r.v.CreditCardValidatorImpl        : validating card number
2018-07-19 22:09:40.675  INFO 16576 --- [http-nio-8080-exec-2] c.s.c.r.v.CreditCardValidatorImpl        : validating card number
2018-07-19 22:09:40.820  INFO 16576 --- [http-nio-8080-exec-2] c.s.c.r.v.CreditCardValidatorImpl        : validating card number
2018-07-19 22:09:40.897  INFO 16576 --- [http-nio-8080-exec-2] c.s.c.controller.CreditCardController    : add new card
2018-07-19 22:09:53.729 ERROR 16576 --- [http-nio-8080-exec-4] c.s.c.controller.GlobalExceptionHandler  : Validation error

javax.validation.ConstraintViolationException: charge.amount: must match "^[0-9.][0-9]{2}+$"
	at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:109) ~[spring-context-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689) ~[spring-aop-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at com.store.creditcard.controller.CreditCardController$$EnhancerBySpringCGLIB$$306a0555.charge(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:564) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:870) ~[spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:776) ~[spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:978) [spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:892) [spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:664) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:855) [spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) [spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) [spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) [spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1135) [na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) [na:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at java.base/java.lang.Thread.run(Thread.java:844) [na:na]

2018-07-19 22:11:43.488 ERROR 16576 --- [http-nio-8080-exec-5] c.s.c.controller.GlobalExceptionHandler  : Validation error

javax.validation.ConstraintViolationException: charge.amount: must match "^[0-9.][0-9]{2}+$"
	at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:109) ~[spring-context-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689) ~[spring-aop-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at com.store.creditcard.controller.CreditCardController$$EnhancerBySpringCGLIB$$306a0555.charge(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:564) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:870) ~[spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:776) ~[spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:978) [spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:892) [spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:664) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:855) [spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) [spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) [spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) [spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1135) [na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) [na:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at java.base/java.lang.Thread.run(Thread.java:844) [na:na]

2018-07-19 22:12:23.505 ERROR 16576 --- [http-nio-8080-exec-6] c.s.c.controller.GlobalExceptionHandler  : Validation error

javax.validation.ConstraintViolationException: charge.amount: must match "^[0-9.][0-9]{2}+$"
	at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:109) ~[spring-context-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689) ~[spring-aop-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at com.store.creditcard.controller.CreditCardController$$EnhancerBySpringCGLIB$$306a0555.charge(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:564) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:870) ~[spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:776) ~[spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:978) [spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:892) [spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:664) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:855) [spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) [spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) [spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) [spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1135) [na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) [na:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at java.base/java.lang.Thread.run(Thread.java:844) [na:na]

2018-07-19 22:26:05.023  INFO 16576 --- [Thread-5] ConfigServletWebServerApplicationContext : Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4bd31064: startup date [Thu Jul 19 22:09:06 BST 2018]; root of context hierarchy
2018-07-19 22:26:05.055  INFO 16576 --- [Thread-5] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2018-07-19 22:26:05.057  INFO 16576 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:26:05.056+0100 I NETWORK  [initandlisten] connection accepted from 127.0.0.1:52436 #3 (3 connections now open)
2018-07-19 22:26:05.068  INFO 16576 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:26:05.067+0100 I COMMAND  [conn3] terminating, shutdown command received
2018-07-19 22:26:05.068  INFO 16576 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:26:05.068+0100 I FTDC     [conn3] Shutting down full-time diagnostic data capture
2018-07-19 22:26:05.069  INFO 16576 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:26:05.069+0100 I CONTROL  [conn3] now exiting
2018-07-19 22:26:05.077  INFO 16576 --- [Thread-5] org.mongodb.driver.connection            : Closed connection [connectionId{localValue:2, serverValue:2}] to localhost:44380 because the pool has been closed.
2018-07-19 22:26:05.088  INFO 16576 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:26:05.078+0100 I NETWORK  [conn3] shutdown: going to close listening sockets...
2018-07-19 22:26:05.089  INFO 16576 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:26:05.078+0100 I NETWORK  [conn3] closing listening socket: 5
2018-07-19 22:26:05.089  INFO 16576 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:26:05.078+0100 I NETWORK  [conn3] closing listening socket: 6
2018-07-19 22:26:05.089  INFO 16576 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:26:05.078+0100 I NETWORK  [conn3] removing socket file: /tmp/mongodb-44380.sock
2018-07-19 22:26:05.089  INFO 16576 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:26:05.078+0100 I NETWORK  [conn3] shutdown: going to flush diaglog...
2018-07-19 22:26:05.089  INFO 16576 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:26:05.078+0100 I NETWORK  [conn3] shutdown: going to close sockets...
2018-07-19 22:26:05.089  INFO 16576 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:26:05.078+0100 I STORAGE  [conn3] WiredTigerKVEngine shutting down
2018-07-19 22:26:05.089  INFO 16576 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:26:05.085+0100 I NETWORK  [conn2] end connection 127.0.0.1:52374 (2 connections now open)
2018-07-19 22:26:05.090  INFO 16576 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:26:05.087+0100 I NETWORK  [conn1] end connection 127.0.0.1:52373 (2 connections now open)
2018-07-19 22:26:05.119  INFO 16576 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:26:05.119+0100 I STORAGE  [conn3] shutdown: removing fs lock...
2018-07-19 22:26:05.124  INFO 16576 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:26:05.124+0100 I CONTROL  [conn3] dbexit:  rc: 0
2018-07-19 22:26:05.209  WARN 16576 --- [Thread-1] d.f.e.process.runtime.AbstractProcess    : Could not delete pid file: /tmp/extract-f469d22e-fb56-435b-9818-3af6ce97f63dextractmongod.pid
2018-07-19 22:26:30.051  INFO 16725 --- [main] c.s.c.CreditCardStoreApplication         : Starting CreditCardStoreApplication on dev-VirtualBox with PID 16725 (/home/dev/git/creditcard-store-app/target/classes started by dev in /home/dev/git/creditcard-store-app)
2018-07-19 22:26:30.064  INFO 16725 --- [main] c.s.c.CreditCardStoreApplication         : The following profiles are active: local
2018-07-19 22:26:30.587  INFO 16725 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4bd31064: startup date [Thu Jul 19 22:26:30 BST 2018]; root of context hierarchy
2018-07-19 22:26:38.845  INFO 16725 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2018-07-19 22:26:39.026  INFO 16725 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-19 22:26:39.040  INFO 16725 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.28
2018-07-19 22:26:39.117  INFO 16725 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib:/usr/lib64:/lib64:/lib:/usr/lib]
2018-07-19 22:26:39.733  INFO 16725 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-19 22:26:39.738  INFO 16725 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 9151 ms
2018-07-19 22:26:40.462  INFO 16725 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-19 22:26:40.479  INFO 16725 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-19 22:26:40.486  INFO 16725 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-19 22:26:40.486  INFO 16725 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-19 22:26:40.489  INFO 16725 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-19 22:26:41.779  INFO 16725 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : note: noprealloc may hurt performance in many applications
2018-07-19 22:26:41.838  INFO 16725 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:26:41.837+0100 I CONTROL  [initandlisten] MongoDB starting : pid=16753 port=33233 dbpath=/tmp/embedmongo-db-79d592a2-6cbb-4103-b3fc-dadf904f821e 64-bit host=dev-VirtualBox
2018-07-19 22:26:41.839  INFO 16725 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:26:41.839+0100 I CONTROL  [initandlisten] db version v3.2.2
2018-07-19 22:26:41.845  INFO 16725 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:26:41.845+0100 I CONTROL  [initandlisten] git version: 6e71d0d568e134c029203593b00a0103e7cdf30b
2018-07-19 22:26:41.847  INFO 16725 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:26:41.847+0100 I CONTROL  [initandlisten] allocator: tcmalloc
2018-07-19 22:26:41.850  INFO 16725 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:26:41.850+0100 I CONTROL  [initandlisten] modules: none
2018-07-19 22:26:41.855  INFO 16725 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:26:41.851+0100 I CONTROL  [initandlisten] build environment:
2018-07-19 22:26:41.856  INFO 16725 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:26:41.851+0100 I CONTROL  [initandlisten]     distarch: x86_64
2018-07-19 22:26:41.856  INFO 16725 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:26:41.851+0100 I CONTROL  [initandlisten]     target_arch: x86_64
2018-07-19 22:26:41.856  INFO 16725 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:26:41.851+0100 I CONTROL  [initandlisten] options: { net: { bindIp: "127.0.0.1", http: { enabled: false }, port: 33233 }, security: { authorization: "disabled" }, storage: { dbPath: "/tmp/embedmongo-db-79d592a2-6cbb-4103-b3fc-dadf904f821e", journal: { enabled: false }, mmapv1: { preallocDataFiles: false, smallFiles: true }, syncPeriodSecs: 0.0 } }
2018-07-19 22:26:42.033  INFO 16725 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:26:42.033+0100 I STORAGE  [initandlisten] wiredtiger_open config: create,cache_size=1G,session_max=20000,eviction=(threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000),checkpoint=(wait=0,log_size=2GB),statistics_log=(wait=0),,log=(enabled=false),
2018-07-19 22:26:42.136  INFO 16725 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:26:42.136+0100 W STORAGE  [initandlisten] Detected configuration for non-active storage engine mmapv1 when current storage engine is wiredTiger
2018-07-19 22:26:42.140  INFO 16725 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:26:42.140+0100 I CONTROL  [initandlisten] 
2018-07-19 22:26:42.141  INFO 16725 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:26:42.141+0100 I CONTROL  [initandlisten] ** WARNING: /sys/kernel/mm/transparent_hugepage/enabled is 'always'.
2018-07-19 22:26:42.142  INFO 16725 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:26:42.142+0100 I CONTROL  [initandlisten] **        We suggest setting it to 'never'
2018-07-19 22:26:42.142  INFO 16725 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:26:42.142+0100 I CONTROL  [initandlisten] 
2018-07-19 22:26:42.142  INFO 16725 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:26:42.142+0100 I CONTROL  [initandlisten] ** WARNING: /sys/kernel/mm/transparent_hugepage/defrag is 'always'.
2018-07-19 22:26:42.149  INFO 16725 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:26:42.143+0100 I CONTROL  [initandlisten] **        We suggest setting it to 'never'
2018-07-19 22:26:42.150  INFO 16725 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:26:42.150+0100 I CONTROL  [initandlisten] 
2018-07-19 22:26:42.152  INFO 16725 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:26:42.152+0100 I FTDC     [initandlisten] Initializing full-time diagnostic data capture with directory '/tmp/embedmongo-db-79d592a2-6cbb-4103-b3fc-dadf904f821e/diagnostic.data'
2018-07-19 22:26:42.159  INFO 16725 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:26:42.159+0100 I NETWORK  [HostnameCanonicalizationWorker] Starting hostname canonicalization worker
2018-07-19 22:26:42.183  INFO 16725 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:26:42.183+0100 I NETWORK  [initandlisten] waiting for connections on port 33233
2018-07-19 22:26:42.184  INFO 16725 --- [main] d.f.embed.process.runtime.Executable     : start de.flapdoodle.embed.mongo.config.MongodConfigBuilder$ImmutableMongodConfig@12fcc71f
2018-07-19 22:26:43.305  INFO 16725 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:33233], mode=MULTIPLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-19 22:26:43.312  INFO 16725 --- [main] org.mongodb.driver.cluster               : Adding discovered server localhost:33233 to client view of cluster
2018-07-19 22:26:43.584  INFO 16725 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:26:43.584+0100 I NETWORK  [initandlisten] connection accepted from 127.0.0.1:41319 #1 (1 connection now open)
2018-07-19 22:26:43.760  INFO 16725 --- [cluster-ClusterId{value='5b510213c9ad3741550e0b25', description='null'}-localhost:33233] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:1, serverValue:1}] to localhost:33233
2018-07-19 22:26:43.777  INFO 16725 --- [cluster-ClusterId{value='5b510213c9ad3741550e0b25', description='null'}-localhost:33233] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:33233, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 2, 2]}, minWireVersion=0, maxWireVersion=4, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=null, roundTripTimeNanos=9662408}
2018-07-19 22:26:43.791  INFO 16725 --- [cluster-ClusterId{value='5b510213c9ad3741550e0b25', description='null'}-localhost:33233] org.mongodb.driver.cluster               : Discovered cluster type of STANDALONE
2018-07-19 22:26:45.149  INFO 16725 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:26:45.149+0100 I NETWORK  [initandlisten] connection accepted from 127.0.0.1:41320 #2 (2 connections now open)
2018-07-19 22:26:45.172  INFO 16725 --- [main] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:2, serverValue:2}] to localhost:33233
2018-07-19 22:26:45.228  INFO 16725 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:26:45.228+0100 I INDEX    [conn2] build index on: test.creditCard properties: { v: 1, unique: true, key: { creditCardNumber: 1 }, name: "creditCardNumber", ns: "test.creditCard" }
2018-07-19 22:26:45.229  INFO 16725 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:26:45.229+0100 I INDEX    [conn2] 	 building index using bulk method
2018-07-19 22:26:45.230  INFO 16725 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:26:45.230+0100 I INDEX    [conn2] build index done.  scanned 0 total records. 0 secs
2018-07-19 22:26:47.470  INFO 16725 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4bd31064: startup date [Thu Jul 19 22:26:30 BST 2018]; root of context hierarchy
2018-07-19 22:26:47.865  INFO 16725 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/store/creditcard/{id}/charge],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.store.creditcard.controller.CreditCardController.charge(java.lang.String,java.lang.String,java.lang.String)
2018-07-19 22:26:47.873  INFO 16725 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/store/creditcard/add],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.store.creditcard.controller.CreditCardController.add(com.store.creditcard.request.CreditCardRequestParam)
2018-07-19 22:26:47.893  INFO 16725 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-19 22:26:47.899  INFO 16725 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-19 22:26:48.123  INFO 16725 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-19 22:26:48.129  INFO 16725 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-19 22:26:48.205  INFO 16725 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in globalExceptionHandler
2018-07-19 22:26:48.389  INFO 16725 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-19 22:26:49.232  INFO 16725 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-19 22:26:49.474  INFO 16725 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2018-07-19 22:26:49.505  INFO 16725 --- [main] c.s.c.CreditCardStoreApplication         : Started CreditCardStoreApplication in 22.395 seconds (JVM running for 24.786)
2018-07-19 22:26:54.592  INFO 16725 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-19 22:26:54.593  INFO 16725 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-19 22:26:54.721  INFO 16725 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 128 ms
2018-07-19 22:26:56.440  INFO 16725 --- [http-nio-8080-exec-1] c.s.c.r.v.CreditCardValidatorImpl        : validating card number
2018-07-19 22:26:56.650  INFO 16725 --- [http-nio-8080-exec-1] c.s.c.r.v.CreditCardValidatorImpl        : validating card number
2018-07-19 22:26:56.724  INFO 16725 --- [http-nio-8080-exec-1] c.s.c.controller.CreditCardController    : add new card
2018-07-19 22:27:07.121  INFO 16725 --- [http-nio-8080-exec-2] c.s.c.controller.CreditCardController    : charge card
2018-07-19 22:27:28.239  INFO 16725 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:27:28.239+0100 I NETWORK  [initandlisten] connection accepted from 127.0.0.1:41323 #3 (3 connections now open)
2018-07-19 22:27:28.243  INFO 16725 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:27:28.243+0100 I COMMAND  [conn3] terminating, shutdown command received
2018-07-19 22:27:28.247  INFO 16725 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:27:28.247+0100 I FTDC     [conn3] Shutting down full-time diagnostic data capture
2018-07-19 22:27:28.252  INFO 16725 --- [Thread-5] ConfigServletWebServerApplicationContext : Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4bd31064: startup date [Thu Jul 19 22:26:30 BST 2018]; root of context hierarchy
2018-07-19 22:27:28.253  INFO 16725 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:27:28.253+0100 I CONTROL  [conn3] now exiting
2018-07-19 22:27:28.256  INFO 16725 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:27:28.256+0100 I NETWORK  [conn3] shutdown: going to close listening sockets...
2018-07-19 22:27:28.259  INFO 16725 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:27:28.258+0100 I NETWORK  [conn3] closing listening socket: 5
2018-07-19 22:27:28.260  INFO 16725 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:27:28.260+0100 I NETWORK  [conn3] closing listening socket: 6
2018-07-19 22:27:28.264  INFO 16725 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:27:28.264+0100 I NETWORK  [conn3] removing socket file: /tmp/mongodb-33233.sock
2018-07-19 22:27:28.264  INFO 16725 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:27:28.264+0100 I NETWORK  [conn3] shutdown: going to flush diaglog...
2018-07-19 22:27:28.265  INFO 16725 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:27:28.265+0100 I NETWORK  [conn3] shutdown: going to close sockets...
2018-07-19 22:27:28.265  INFO 16725 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:27:28.265+0100 I STORAGE  [conn3] WiredTigerKVEngine shutting down
2018-07-19 22:27:28.266  INFO 16725 --- [Thread-5] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2018-07-19 22:27:28.270  INFO 16725 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:27:28.270+0100 I NETWORK  [conn2] end connection 127.0.0.1:41320 (2 connections now open)
2018-07-19 22:27:28.271  INFO 16725 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:27:28.271+0100 I NETWORK  [conn1] end connection 127.0.0.1:41319 (2 connections now open)
2018-07-19 22:27:28.298  INFO 16725 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:27:28.298+0100 I STORAGE  [conn3] shutdown: removing fs lock...
2018-07-19 22:27:28.298  INFO 16725 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:27:28.298+0100 I CONTROL  [conn3] dbexit:  rc: 0
2018-07-19 22:27:28.304  INFO 16725 --- [Thread-5] org.mongodb.driver.connection            : Closed connection [connectionId{localValue:2, serverValue:2}] to localhost:33233 because the pool has been closed.
2018-07-19 22:27:28.399  WARN 16725 --- [Thread-1] d.f.e.process.runtime.AbstractProcess    : Could not delete pid file: /tmp/extract-54c1ce04-ae3e-4ea0-80d1-c7c1dba4474cextractmongod.pid
2018-07-19 22:27:48.094  INFO 16806 --- [main] c.s.c.CreditCardStoreApplication         : Starting CreditCardStoreApplication on dev-VirtualBox with PID 16806 (/home/dev/git/creditcard-store-app/target/classes started by dev in /home/dev/git/creditcard-store-app)
2018-07-19 22:27:48.116  INFO 16806 --- [main] c.s.c.CreditCardStoreApplication         : The following profiles are active: local
2018-07-19 22:27:48.474  INFO 16806 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4bd31064: startup date [Thu Jul 19 22:27:48 BST 2018]; root of context hierarchy
2018-07-19 22:27:56.687  INFO 16806 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2018-07-19 22:27:56.890  INFO 16806 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-19 22:27:56.896  INFO 16806 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.28
2018-07-19 22:27:56.966  INFO 16806 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib:/usr/lib64:/lib64:/lib:/usr/lib]
2018-07-19 22:27:57.636  INFO 16806 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-19 22:27:57.640  INFO 16806 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 9166 ms
2018-07-19 22:27:58.218  INFO 16806 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-19 22:27:58.234  INFO 16806 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-19 22:27:58.240  INFO 16806 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-19 22:27:58.243  INFO 16806 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-19 22:27:58.245  INFO 16806 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-19 22:27:59.270  INFO 16806 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : note: noprealloc may hurt performance in many applications
2018-07-19 22:27:59.306  INFO 16806 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:27:59.306+0100 I CONTROL  [initandlisten] MongoDB starting : pid=16834 port=35273 dbpath=/tmp/embedmongo-db-96362400-fda0-4446-a57f-3fe18d7e2448 64-bit host=dev-VirtualBox
2018-07-19 22:27:59.313  INFO 16806 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:27:59.313+0100 I CONTROL  [initandlisten] db version v3.2.2
2018-07-19 22:27:59.314  INFO 16806 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:27:59.314+0100 I CONTROL  [initandlisten] git version: 6e71d0d568e134c029203593b00a0103e7cdf30b
2018-07-19 22:27:59.315  INFO 16806 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:27:59.315+0100 I CONTROL  [initandlisten] allocator: tcmalloc
2018-07-19 22:27:59.315  INFO 16806 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:27:59.315+0100 I CONTROL  [initandlisten] modules: none
2018-07-19 22:27:59.315  INFO 16806 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:27:59.315+0100 I CONTROL  [initandlisten] build environment:
2018-07-19 22:27:59.316  INFO 16806 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:27:59.316+0100 I CONTROL  [initandlisten]     distarch: x86_64
2018-07-19 22:27:59.316  INFO 16806 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:27:59.316+0100 I CONTROL  [initandlisten]     target_arch: x86_64
2018-07-19 22:27:59.316  INFO 16806 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:27:59.316+0100 I CONTROL  [initandlisten] options: { net: { bindIp: "127.0.0.1", http: { enabled: false }, port: 35273 }, security: { authorization: "disabled" }, storage: { dbPath: "/tmp/embedmongo-db-96362400-fda0-4446-a57f-3fe18d7e2448", journal: { enabled: false }, mmapv1: { preallocDataFiles: false, smallFiles: true }, syncPeriodSecs: 0.0 } }
2018-07-19 22:27:59.463  INFO 16806 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:27:59.463+0100 I STORAGE  [initandlisten] wiredtiger_open config: create,cache_size=1G,session_max=20000,eviction=(threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000),checkpoint=(wait=0,log_size=2GB),statistics_log=(wait=0),,log=(enabled=false),
2018-07-19 22:27:59.565  INFO 16806 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:27:59.565+0100 W STORAGE  [initandlisten] Detected configuration for non-active storage engine mmapv1 when current storage engine is wiredTiger
2018-07-19 22:27:59.569  INFO 16806 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:27:59.568+0100 I CONTROL  [initandlisten] 
2018-07-19 22:27:59.572  INFO 16806 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:27:59.572+0100 I CONTROL  [initandlisten] ** WARNING: /sys/kernel/mm/transparent_hugepage/enabled is 'always'.
2018-07-19 22:27:59.573  INFO 16806 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:27:59.573+0100 I CONTROL  [initandlisten] **        We suggest setting it to 'never'
2018-07-19 22:27:59.573  INFO 16806 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:27:59.573+0100 I CONTROL  [initandlisten] 
2018-07-19 22:27:59.573  INFO 16806 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:27:59.573+0100 I CONTROL  [initandlisten] ** WARNING: /sys/kernel/mm/transparent_hugepage/defrag is 'always'.
2018-07-19 22:27:59.574  INFO 16806 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:27:59.573+0100 I CONTROL  [initandlisten] **        We suggest setting it to 'never'
2018-07-19 22:27:59.574  INFO 16806 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:27:59.574+0100 I CONTROL  [initandlisten] 
2018-07-19 22:27:59.576  INFO 16806 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:27:59.575+0100 I FTDC     [initandlisten] Initializing full-time diagnostic data capture with directory '/tmp/embedmongo-db-96362400-fda0-4446-a57f-3fe18d7e2448/diagnostic.data'
2018-07-19 22:27:59.582  INFO 16806 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:27:59.581+0100 I NETWORK  [HostnameCanonicalizationWorker] Starting hostname canonicalization worker
2018-07-19 22:27:59.605  INFO 16806 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:27:59.605+0100 I NETWORK  [initandlisten] waiting for connections on port 35273
2018-07-19 22:27:59.606  INFO 16806 --- [main] d.f.embed.process.runtime.Executable     : start de.flapdoodle.embed.mongo.config.MongodConfigBuilder$ImmutableMongodConfig@18d910b3
2018-07-19 22:28:00.612  INFO 16806 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:35273], mode=MULTIPLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-19 22:28:00.616  INFO 16806 --- [main] org.mongodb.driver.cluster               : Adding discovered server localhost:35273 to client view of cluster
2018-07-19 22:28:00.841  INFO 16806 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:28:00.841+0100 I NETWORK  [initandlisten] connection accepted from 127.0.0.1:48136 #1 (1 connection now open)
2018-07-19 22:28:01.004  INFO 16806 --- [cluster-ClusterId{value='5b510260c9ad3741a67a4ed2', description='null'}-localhost:35273] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:1, serverValue:1}] to localhost:35273
2018-07-19 22:28:01.031  INFO 16806 --- [cluster-ClusterId{value='5b510260c9ad3741a67a4ed2', description='null'}-localhost:35273] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:35273, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 2, 2]}, minWireVersion=0, maxWireVersion=4, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=null, roundTripTimeNanos=12011062}
2018-07-19 22:28:01.044  INFO 16806 --- [cluster-ClusterId{value='5b510260c9ad3741a67a4ed2', description='null'}-localhost:35273] org.mongodb.driver.cluster               : Discovered cluster type of STANDALONE
2018-07-19 22:28:02.155  INFO 16806 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:28:02.155+0100 I NETWORK  [initandlisten] connection accepted from 127.0.0.1:48137 #2 (2 connections now open)
2018-07-19 22:28:02.172  INFO 16806 --- [main] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:2, serverValue:2}] to localhost:35273
2018-07-19 22:28:02.218  INFO 16806 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:28:02.218+0100 I INDEX    [conn2] build index on: test.creditCard properties: { v: 1, unique: true, key: { creditCardNumber: 1 }, name: "creditCardNumber", ns: "test.creditCard" }
2018-07-19 22:28:02.220  INFO 16806 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:28:02.220+0100 I INDEX    [conn2] 	 building index using bulk method
2018-07-19 22:28:02.221  INFO 16806 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:28:02.221+0100 I INDEX    [conn2] build index done.  scanned 0 total records. 0 secs
2018-07-19 22:28:04.072  INFO 16806 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4bd31064: startup date [Thu Jul 19 22:27:48 BST 2018]; root of context hierarchy
2018-07-19 22:28:04.509  INFO 16806 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/store/creditcard/{id}/charge],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.store.creditcard.controller.CreditCardController.charge(java.lang.String,java.lang.String,java.lang.String)
2018-07-19 22:28:04.512  INFO 16806 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/store/creditcard/add],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.store.creditcard.controller.CreditCardController.add(com.store.creditcard.request.CreditCardRequestParam)
2018-07-19 22:28:04.537  INFO 16806 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-19 22:28:04.544  INFO 16806 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-19 22:28:04.742  INFO 16806 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-19 22:28:04.748  INFO 16806 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-19 22:28:04.818  INFO 16806 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in globalExceptionHandler
2018-07-19 22:28:04.970  INFO 16806 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-19 22:28:05.702  INFO 16806 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-19 22:28:05.946  INFO 16806 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2018-07-19 22:28:05.958  INFO 16806 --- [main] c.s.c.CreditCardStoreApplication         : Started CreditCardStoreApplication in 21.099 seconds (JVM running for 24.276)
2018-07-19 22:28:20.500  INFO 16806 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-19 22:28:20.502  INFO 16806 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-19 22:28:20.640  INFO 16806 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 134 ms
2018-07-19 22:28:22.288  INFO 16806 --- [http-nio-8080-exec-1] c.s.c.r.v.CreditCardValidatorImpl        : validating card number
2018-07-19 22:28:22.494  INFO 16806 --- [http-nio-8080-exec-1] c.s.c.r.v.CreditCardValidatorImpl        : validating card number
2018-07-19 22:28:22.556  INFO 16806 --- [http-nio-8080-exec-1] c.s.c.controller.CreditCardController    : add new card
2018-07-19 22:28:36.664  INFO 16806 --- [http-nio-8080-exec-2] c.s.c.controller.CreditCardController    : charge card
2018-07-19 22:28:57.067  INFO 16806 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:28:57.067+0100 I NETWORK  [initandlisten] connection accepted from 127.0.0.1:48140 #3 (3 connections now open)
2018-07-19 22:28:57.068  INFO 16806 --- [Thread-5] ConfigServletWebServerApplicationContext : Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4bd31064: startup date [Thu Jul 19 22:27:48 BST 2018]; root of context hierarchy
2018-07-19 22:28:57.086  INFO 16806 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:28:57.086+0100 I COMMAND  [conn3] terminating, shutdown command received
2018-07-19 22:28:57.090  INFO 16806 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:28:57.090+0100 I FTDC     [conn3] Shutting down full-time diagnostic data capture
2018-07-19 22:28:57.096  INFO 16806 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:28:57.096+0100 I CONTROL  [conn3] now exiting
2018-07-19 22:28:57.104  INFO 16806 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:28:57.102+0100 I NETWORK  [conn3] shutdown: going to close listening sockets...
2018-07-19 22:28:57.104  INFO 16806 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:28:57.103+0100 I NETWORK  [conn3] closing listening socket: 5
2018-07-19 22:28:57.104  INFO 16806 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:28:57.103+0100 I NETWORK  [conn3] closing listening socket: 6
2018-07-19 22:28:57.104  INFO 16806 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:28:57.103+0100 I NETWORK  [conn3] removing socket file: /tmp/mongodb-35273.sock
2018-07-19 22:28:57.104  INFO 16806 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:28:57.103+0100 I NETWORK  [conn3] shutdown: going to flush diaglog...
2018-07-19 22:28:57.105  INFO 16806 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:28:57.103+0100 I NETWORK  [conn3] shutdown: going to close sockets...
2018-07-19 22:28:57.105  INFO 16806 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:28:57.103+0100 I STORAGE  [conn3] WiredTigerKVEngine shutting down
2018-07-19 22:28:57.108  INFO 16806 --- [Thread-5] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2018-07-19 22:28:57.110  INFO 16806 --- [Thread-5] org.mongodb.driver.connection            : Closed connection [connectionId{localValue:2, serverValue:2}] to localhost:35273 because the pool has been closed.
2018-07-19 22:28:57.122  INFO 16806 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:28:57.118+0100 I NETWORK  [conn2] end connection 127.0.0.1:48137 (2 connections now open)
2018-07-19 22:28:57.122  INFO 16806 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:28:57.119+0100 I NETWORK  [conn1] end connection 127.0.0.1:48136 (2 connections now open)
2018-07-19 22:28:57.141  INFO 16806 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:28:57.141+0100 I STORAGE  [conn3] shutdown: removing fs lock...
2018-07-19 22:28:57.143  INFO 16806 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:28:57.143+0100 I CONTROL  [conn3] dbexit:  rc: 0
2018-07-19 22:28:57.239  WARN 16806 --- [Thread-1] d.f.e.process.runtime.AbstractProcess    : Could not delete pid file: /tmp/extract-3034dfb7-64eb-497d-b857-dbe81a6edc43extractmongod.pid
2018-07-19 22:29:11.387  INFO 16885 --- [main] c.s.c.CreditCardStoreApplication         : Starting CreditCardStoreApplication on dev-VirtualBox with PID 16885 (/home/dev/git/creditcard-store-app/target/classes started by dev in /home/dev/git/creditcard-store-app)
2018-07-19 22:29:11.391  INFO 16885 --- [main] c.s.c.CreditCardStoreApplication         : The following profiles are active: local
2018-07-19 22:29:11.807  INFO 16885 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4bd31064: startup date [Thu Jul 19 22:29:11 BST 2018]; root of context hierarchy
2018-07-19 22:29:18.484  INFO 16885 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2018-07-19 22:29:18.687  INFO 16885 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-19 22:29:18.697  INFO 16885 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.28
2018-07-19 22:29:18.770  INFO 16885 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib:/usr/lib64:/lib64:/lib:/usr/lib]
2018-07-19 22:29:19.391  INFO 16885 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-19 22:29:19.392  INFO 16885 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 7585 ms
2018-07-19 22:29:19.955  INFO 16885 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-19 22:29:19.979  INFO 16885 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-19 22:29:19.985  INFO 16885 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-19 22:29:19.986  INFO 16885 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-19 22:29:19.989  INFO 16885 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-19 22:29:20.973  INFO 16885 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : note: noprealloc may hurt performance in many applications
2018-07-19 22:29:21.013  INFO 16885 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:29:21.013+0100 I CONTROL  [initandlisten] MongoDB starting : pid=16912 port=60523 dbpath=/tmp/embedmongo-db-f3313fb0-50eb-4e39-8810-926602f9c8e6 64-bit host=dev-VirtualBox
2018-07-19 22:29:21.022  INFO 16885 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:29:21.022+0100 I CONTROL  [initandlisten] db version v3.2.2
2018-07-19 22:29:21.023  INFO 16885 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:29:21.023+0100 I CONTROL  [initandlisten] git version: 6e71d0d568e134c029203593b00a0103e7cdf30b
2018-07-19 22:29:21.023  INFO 16885 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:29:21.023+0100 I CONTROL  [initandlisten] allocator: tcmalloc
2018-07-19 22:29:21.023  INFO 16885 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:29:21.023+0100 I CONTROL  [initandlisten] modules: none
2018-07-19 22:29:21.024  INFO 16885 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:29:21.024+0100 I CONTROL  [initandlisten] build environment:
2018-07-19 22:29:21.024  INFO 16885 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:29:21.024+0100 I CONTROL  [initandlisten]     distarch: x86_64
2018-07-19 22:29:21.024  INFO 16885 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:29:21.024+0100 I CONTROL  [initandlisten]     target_arch: x86_64
2018-07-19 22:29:21.025  INFO 16885 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:29:21.025+0100 I CONTROL  [initandlisten] options: { net: { bindIp: "127.0.0.1", http: { enabled: false }, port: 60523 }, security: { authorization: "disabled" }, storage: { dbPath: "/tmp/embedmongo-db-f3313fb0-50eb-4e39-8810-926602f9c8e6", journal: { enabled: false }, mmapv1: { preallocDataFiles: false, smallFiles: true }, syncPeriodSecs: 0.0 } }
2018-07-19 22:29:21.180  INFO 16885 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:29:21.180+0100 I STORAGE  [initandlisten] wiredtiger_open config: create,cache_size=1G,session_max=20000,eviction=(threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000),checkpoint=(wait=0,log_size=2GB),statistics_log=(wait=0),,log=(enabled=false),
2018-07-19 22:29:21.277  INFO 16885 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:29:21.277+0100 W STORAGE  [initandlisten] Detected configuration for non-active storage engine mmapv1 when current storage engine is wiredTiger
2018-07-19 22:29:21.278  INFO 16885 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:29:21.278+0100 I CONTROL  [initandlisten] 
2018-07-19 22:29:21.282  INFO 16885 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:29:21.282+0100 I CONTROL  [initandlisten] ** WARNING: /sys/kernel/mm/transparent_hugepage/enabled is 'always'.
2018-07-19 22:29:21.283  INFO 16885 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:29:21.283+0100 I CONTROL  [initandlisten] **        We suggest setting it to 'never'
2018-07-19 22:29:21.284  INFO 16885 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:29:21.283+0100 I CONTROL  [initandlisten] 
2018-07-19 22:29:21.284  INFO 16885 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:29:21.283+0100 I CONTROL  [initandlisten] ** WARNING: /sys/kernel/mm/transparent_hugepage/defrag is 'always'.
2018-07-19 22:29:21.284  INFO 16885 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:29:21.283+0100 I CONTROL  [initandlisten] **        We suggest setting it to 'never'
2018-07-19 22:29:21.284  INFO 16885 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:29:21.283+0100 I CONTROL  [initandlisten] 
2018-07-19 22:29:21.284  INFO 16885 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:29:21.283+0100 I FTDC     [initandlisten] Initializing full-time diagnostic data capture with directory '/tmp/embedmongo-db-f3313fb0-50eb-4e39-8810-926602f9c8e6/diagnostic.data'
2018-07-19 22:29:21.293  INFO 16885 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:29:21.293+0100 I NETWORK  [HostnameCanonicalizationWorker] Starting hostname canonicalization worker
2018-07-19 22:29:21.309  INFO 16885 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:29:21.309+0100 I NETWORK  [initandlisten] waiting for connections on port 60523
2018-07-19 22:29:21.309  INFO 16885 --- [main] d.f.embed.process.runtime.Executable     : start de.flapdoodle.embed.mongo.config.MongodConfigBuilder$ImmutableMongodConfig@1a2bcd56
2018-07-19 22:29:22.293  INFO 16885 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:60523], mode=MULTIPLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-19 22:29:22.295  INFO 16885 --- [main] org.mongodb.driver.cluster               : Adding discovered server localhost:60523 to client view of cluster
2018-07-19 22:29:22.512  INFO 16885 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:29:22.512+0100 I NETWORK  [initandlisten] connection accepted from 127.0.0.1:33015 #1 (1 connection now open)
2018-07-19 22:29:22.688  INFO 16885 --- [cluster-ClusterId{value='5b5102b2c9ad3741f5ccfff9', description='null'}-localhost:60523] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:1, serverValue:1}] to localhost:60523
2018-07-19 22:29:22.738  INFO 16885 --- [cluster-ClusterId{value='5b5102b2c9ad3741f5ccfff9', description='null'}-localhost:60523] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:60523, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 2, 2]}, minWireVersion=0, maxWireVersion=4, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=null, roundTripTimeNanos=41975786}
2018-07-19 22:29:22.741  INFO 16885 --- [cluster-ClusterId{value='5b5102b2c9ad3741f5ccfff9', description='null'}-localhost:60523] org.mongodb.driver.cluster               : Discovered cluster type of STANDALONE
2018-07-19 22:29:23.865  INFO 16885 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:29:23.865+0100 I NETWORK  [initandlisten] connection accepted from 127.0.0.1:33016 #2 (2 connections now open)
2018-07-19 22:29:23.884  INFO 16885 --- [main] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:2, serverValue:2}] to localhost:60523
2018-07-19 22:29:23.932  INFO 16885 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:29:23.931+0100 I INDEX    [conn2] build index on: test.creditCard properties: { v: 1, unique: true, key: { creditCardNumber: 1 }, name: "creditCardNumber", ns: "test.creditCard" }
2018-07-19 22:29:23.936  INFO 16885 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:29:23.936+0100 I INDEX    [conn2] 	 building index using bulk method
2018-07-19 22:29:23.938  INFO 16885 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:29:23.938+0100 I INDEX    [conn2] build index done.  scanned 0 total records. 0 secs
2018-07-19 22:29:25.741  INFO 16885 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4bd31064: startup date [Thu Jul 19 22:29:11 BST 2018]; root of context hierarchy
2018-07-19 22:29:26.097  INFO 16885 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/store/creditcard/{id}/charge],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.store.creditcard.controller.CreditCardController.charge(java.lang.String,java.lang.String,java.lang.String)
2018-07-19 22:29:26.109  INFO 16885 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/store/creditcard/add],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.store.creditcard.controller.CreditCardController.add(com.store.creditcard.request.CreditCardRequestParam)
2018-07-19 22:29:26.130  INFO 16885 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-19 22:29:26.136  INFO 16885 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-19 22:29:26.319  INFO 16885 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-19 22:29:26.326  INFO 16885 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-19 22:29:26.415  INFO 16885 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in globalExceptionHandler
2018-07-19 22:29:26.597  INFO 16885 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-19 22:29:27.303  INFO 16885 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-19 22:29:27.527  INFO 16885 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2018-07-19 22:29:27.545  INFO 16885 --- [main] c.s.c.CreditCardStoreApplication         : Started CreditCardStoreApplication in 18.584 seconds (JVM running for 21.473)
2018-07-19 22:29:38.581  INFO 16885 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-19 22:29:38.583  INFO 16885 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-19 22:29:38.696  INFO 16885 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 111 ms
2018-07-19 22:29:40.297  INFO 16885 --- [http-nio-8080-exec-1] c.s.c.r.v.CreditCardValidatorImpl        : validating card number
2018-07-19 22:29:40.516  INFO 16885 --- [http-nio-8080-exec-1] c.s.c.r.v.CreditCardValidatorImpl        : validating card number
2018-07-19 22:29:40.573  INFO 16885 --- [http-nio-8080-exec-1] c.s.c.controller.CreditCardController    : add new card
2018-07-19 22:29:51.826  INFO 16885 --- [http-nio-8080-exec-2] c.s.c.controller.CreditCardController    : charge card
2018-07-19 22:30:05.374  INFO 16885 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:30:05.374+0100 I NETWORK  [initandlisten] connection accepted from 127.0.0.1:33019 #3 (3 connections now open)
2018-07-19 22:30:05.377  INFO 16885 --- [Thread-5] ConfigServletWebServerApplicationContext : Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4bd31064: startup date [Thu Jul 19 22:29:11 BST 2018]; root of context hierarchy
2018-07-19 22:30:05.387  INFO 16885 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:30:05.387+0100 I COMMAND  [conn3] terminating, shutdown command received
2018-07-19 22:30:05.388  INFO 16885 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:30:05.388+0100 I FTDC     [conn3] Shutting down full-time diagnostic data capture
2018-07-19 22:30:05.392  INFO 16885 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:30:05.392+0100 I CONTROL  [conn3] now exiting
2018-07-19 22:30:05.393  INFO 16885 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:30:05.393+0100 I NETWORK  [conn3] shutdown: going to close listening sockets...
2018-07-19 22:30:05.395  INFO 16885 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:30:05.395+0100 I NETWORK  [conn3] closing listening socket: 5
2018-07-19 22:30:05.398  INFO 16885 --- [Thread-5] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2018-07-19 22:30:05.402  INFO 16885 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:30:05.402+0100 I NETWORK  [conn3] closing listening socket: 6
2018-07-19 22:30:05.404  INFO 16885 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:30:05.404+0100 I NETWORK  [conn3] removing socket file: /tmp/mongodb-60523.sock
2018-07-19 22:30:05.404  INFO 16885 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:30:05.404+0100 I NETWORK  [conn3] shutdown: going to flush diaglog...
2018-07-19 22:30:05.404  INFO 16885 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:30:05.404+0100 I NETWORK  [conn3] shutdown: going to close sockets...
2018-07-19 22:30:05.405  INFO 16885 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:30:05.405+0100 I STORAGE  [conn3] WiredTigerKVEngine shutting down
2018-07-19 22:30:05.411  INFO 16885 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:30:05.411+0100 I NETWORK  [conn2] end connection 127.0.0.1:33016 (2 connections now open)
2018-07-19 22:30:05.412  INFO 16885 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:30:05.412+0100 I NETWORK  [conn1] end connection 127.0.0.1:33015 (2 connections now open)
2018-07-19 22:30:05.426  INFO 16885 --- [Thread-5] org.mongodb.driver.connection            : Closed connection [connectionId{localValue:2, serverValue:2}] to localhost:60523 because the pool has been closed.
2018-07-19 22:30:05.445  INFO 16885 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:30:05.445+0100 I STORAGE  [conn3] shutdown: removing fs lock...
2018-07-19 22:30:05.448  INFO 16885 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:30:05.448+0100 I CONTROL  [conn3] dbexit:  rc: 0
2018-07-19 22:30:05.524  WARN 16885 --- [Thread-1] d.f.e.process.runtime.AbstractProcess    : Could not delete pid file: /tmp/extract-55b41b42-3c9e-498c-8a05-cd636207a4b4extractmongod.pid
2018-07-19 22:30:18.162  INFO 16961 --- [main] c.s.c.CreditCardStoreApplication         : Starting CreditCardStoreApplication on dev-VirtualBox with PID 16961 (/home/dev/git/creditcard-store-app/target/classes started by dev in /home/dev/git/creditcard-store-app)
2018-07-19 22:30:18.231  INFO 16961 --- [main] c.s.c.CreditCardStoreApplication         : The following profiles are active: local
2018-07-19 22:30:18.583  INFO 16961 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4bd31064: startup date [Thu Jul 19 22:30:18 BST 2018]; root of context hierarchy
2018-07-19 22:30:25.213  INFO 16961 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2018-07-19 22:30:25.378  INFO 16961 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-19 22:30:25.395  INFO 16961 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.28
2018-07-19 22:30:25.476  INFO 16961 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib:/usr/lib64:/lib64:/lib:/usr/lib]
2018-07-19 22:30:26.040  INFO 16961 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-19 22:30:26.041  INFO 16961 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 7462 ms
2018-07-19 22:30:26.591  INFO 16961 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-19 22:30:26.606  INFO 16961 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-19 22:30:26.613  INFO 16961 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-19 22:30:26.614  INFO 16961 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-19 22:30:26.616  INFO 16961 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-19 22:30:27.581  INFO 16961 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : note: noprealloc may hurt performance in many applications
2018-07-19 22:30:27.627  INFO 16961 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:30:27.627+0100 I CONTROL  [initandlisten] MongoDB starting : pid=16987 port=60863 dbpath=/tmp/embedmongo-db-e33c6643-c7a3-4456-8f99-15b2f24e4aac 64-bit host=dev-VirtualBox
2018-07-19 22:30:27.629  INFO 16961 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:30:27.629+0100 I CONTROL  [initandlisten] db version v3.2.2
2018-07-19 22:30:27.629  INFO 16961 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:30:27.629+0100 I CONTROL  [initandlisten] git version: 6e71d0d568e134c029203593b00a0103e7cdf30b
2018-07-19 22:30:27.629  INFO 16961 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:30:27.629+0100 I CONTROL  [initandlisten] allocator: tcmalloc
2018-07-19 22:30:27.629  INFO 16961 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:30:27.629+0100 I CONTROL  [initandlisten] modules: none
2018-07-19 22:30:27.630  INFO 16961 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:30:27.630+0100 I CONTROL  [initandlisten] build environment:
2018-07-19 22:30:27.630  INFO 16961 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:30:27.630+0100 I CONTROL  [initandlisten]     distarch: x86_64
2018-07-19 22:30:27.630  INFO 16961 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:30:27.630+0100 I CONTROL  [initandlisten]     target_arch: x86_64
2018-07-19 22:30:27.635  INFO 16961 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:30:27.635+0100 I CONTROL  [initandlisten] options: { net: { bindIp: "127.0.0.1", http: { enabled: false }, port: 60863 }, security: { authorization: "disabled" }, storage: { dbPath: "/tmp/embedmongo-db-e33c6643-c7a3-4456-8f99-15b2f24e4aac", journal: { enabled: false }, mmapv1: { preallocDataFiles: false, smallFiles: true }, syncPeriodSecs: 0.0 } }
2018-07-19 22:30:27.810  INFO 16961 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:30:27.810+0100 I STORAGE  [initandlisten] wiredtiger_open config: create,cache_size=1G,session_max=20000,eviction=(threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000),checkpoint=(wait=0,log_size=2GB),statistics_log=(wait=0),,log=(enabled=false),
2018-07-19 22:30:27.913  INFO 16961 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:30:27.912+0100 W STORAGE  [initandlisten] Detected configuration for non-active storage engine mmapv1 when current storage engine is wiredTiger
2018-07-19 22:30:27.922  INFO 16961 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:30:27.922+0100 I CONTROL  [initandlisten] 
2018-07-19 22:30:27.924  INFO 16961 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:30:27.923+0100 I CONTROL  [initandlisten] ** WARNING: /sys/kernel/mm/transparent_hugepage/enabled is 'always'.
2018-07-19 22:30:27.930  INFO 16961 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:30:27.930+0100 I CONTROL  [initandlisten] **        We suggest setting it to 'never'
2018-07-19 22:30:27.931  INFO 16961 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:30:27.931+0100 I CONTROL  [initandlisten] 
2018-07-19 22:30:27.932  INFO 16961 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:30:27.931+0100 I CONTROL  [initandlisten] ** WARNING: /sys/kernel/mm/transparent_hugepage/defrag is 'always'.
2018-07-19 22:30:27.932  INFO 16961 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:30:27.931+0100 I CONTROL  [initandlisten] **        We suggest setting it to 'never'
2018-07-19 22:30:27.932  INFO 16961 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:30:27.931+0100 I CONTROL  [initandlisten] 
2018-07-19 22:30:27.936  INFO 16961 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:30:27.935+0100 I FTDC     [initandlisten] Initializing full-time diagnostic data capture with directory '/tmp/embedmongo-db-e33c6643-c7a3-4456-8f99-15b2f24e4aac/diagnostic.data'
2018-07-19 22:30:27.941  INFO 16961 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:30:27.941+0100 I NETWORK  [HostnameCanonicalizationWorker] Starting hostname canonicalization worker
2018-07-19 22:30:27.961  INFO 16961 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:30:27.961+0100 I NETWORK  [initandlisten] waiting for connections on port 60863
2018-07-19 22:30:27.962  INFO 16961 --- [main] d.f.embed.process.runtime.Executable     : start de.flapdoodle.embed.mongo.config.MongodConfigBuilder$ImmutableMongodConfig@620c8641
2018-07-19 22:30:28.872  INFO 16961 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:60863], mode=MULTIPLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-19 22:30:28.874  INFO 16961 --- [main] org.mongodb.driver.cluster               : Adding discovered server localhost:60863 to client view of cluster
2018-07-19 22:30:29.109  INFO 16961 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:30:29.109+0100 I NETWORK  [initandlisten] connection accepted from 127.0.0.1:53898 #1 (1 connection now open)
2018-07-19 22:30:29.281  INFO 16961 --- [cluster-ClusterId{value='5b5102f4c9ad3742411193ac', description='null'}-localhost:60863] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:1, serverValue:1}] to localhost:60863
2018-07-19 22:30:29.290  INFO 16961 --- [cluster-ClusterId{value='5b5102f4c9ad3742411193ac', description='null'}-localhost:60863] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:60863, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 2, 2]}, minWireVersion=0, maxWireVersion=4, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=null, roundTripTimeNanos=979337}
2018-07-19 22:30:29.309  INFO 16961 --- [cluster-ClusterId{value='5b5102f4c9ad3742411193ac', description='null'}-localhost:60863] org.mongodb.driver.cluster               : Discovered cluster type of STANDALONE
2018-07-19 22:30:30.377  INFO 16961 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:30:30.377+0100 I NETWORK  [initandlisten] connection accepted from 127.0.0.1:53899 #2 (2 connections now open)
2018-07-19 22:30:30.400  INFO 16961 --- [main] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:2, serverValue:2}] to localhost:60863
2018-07-19 22:30:30.450  INFO 16961 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:30:30.450+0100 I INDEX    [conn2] build index on: test.creditCard properties: { v: 1, unique: true, key: { creditCardNumber: 1 }, name: "creditCardNumber", ns: "test.creditCard" }
2018-07-19 22:30:30.451  INFO 16961 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:30:30.451+0100 I INDEX    [conn2] 	 building index using bulk method
2018-07-19 22:30:30.452  INFO 16961 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:30:30.452+0100 I INDEX    [conn2] build index done.  scanned 0 total records. 0 secs
2018-07-19 22:30:32.278  INFO 16961 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4bd31064: startup date [Thu Jul 19 22:30:18 BST 2018]; root of context hierarchy
2018-07-19 22:30:32.697  INFO 16961 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/store/creditcard/{id}/charge],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.store.creditcard.controller.CreditCardController.charge(java.lang.String,java.lang.String,java.lang.String)
2018-07-19 22:30:32.706  INFO 16961 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/store/creditcard/add],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.store.creditcard.controller.CreditCardController.add(com.store.creditcard.request.CreditCardRequestParam)
2018-07-19 22:30:32.732  INFO 16961 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-19 22:30:32.736  INFO 16961 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-19 22:30:32.928  INFO 16961 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-19 22:30:32.929  INFO 16961 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-19 22:30:33.055  INFO 16961 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in globalExceptionHandler
2018-07-19 22:30:33.238  INFO 16961 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-19 22:30:34.339  INFO 16961 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-19 22:30:34.619  INFO 16961 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2018-07-19 22:30:34.630  INFO 16961 --- [main] c.s.c.CreditCardStoreApplication         : Started CreditCardStoreApplication in 18.867 seconds (JVM running for 21.574)
2018-07-19 22:30:45.283  INFO 16961 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-19 22:30:45.284  INFO 16961 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-19 22:30:45.421  INFO 16961 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 137 ms
2018-07-19 22:30:47.072  INFO 16961 --- [http-nio-8080-exec-1] c.s.c.r.v.CreditCardValidatorImpl        : validating card number
2018-07-19 22:30:47.265  INFO 16961 --- [http-nio-8080-exec-1] c.s.c.r.v.CreditCardValidatorImpl        : validating card number
2018-07-19 22:30:47.327  INFO 16961 --- [http-nio-8080-exec-1] c.s.c.controller.CreditCardController    : add new card
2018-07-19 22:30:53.311  INFO 16961 --- [http-nio-8080-exec-2] c.s.c.r.v.CreditCardValidatorImpl        : validating card number
2018-07-19 22:31:06.850  INFO 16961 --- [http-nio-8080-exec-3] c.s.c.r.v.CreditCardValidatorImpl        : validating card number
2018-07-19 22:31:11.962  INFO 16961 --- [Thread-5] ConfigServletWebServerApplicationContext : Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4bd31064: startup date [Thu Jul 19 22:30:18 BST 2018]; root of context hierarchy
2018-07-19 22:31:11.976  INFO 16961 --- [Thread-5] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2018-07-19 22:31:11.987  INFO 16961 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:31:11.986+0100 I NETWORK  [initandlisten] connection accepted from 127.0.0.1:53903 #3 (3 connections now open)
2018-07-19 22:31:11.992  INFO 16961 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:31:11.992+0100 I COMMAND  [conn3] terminating, shutdown command received
2018-07-19 22:31:11.993  INFO 16961 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:31:11.993+0100 I FTDC     [conn3] Shutting down full-time diagnostic data capture
2018-07-19 22:31:11.997  INFO 16961 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:31:11.997+0100 I CONTROL  [conn3] now exiting
2018-07-19 22:31:12.006  INFO 16961 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:31:12.006+0100 I NETWORK  [conn3] shutdown: going to close listening sockets...
2018-07-19 22:31:12.011  INFO 16961 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:31:12.006+0100 I NETWORK  [conn3] closing listening socket: 5
2018-07-19 22:31:12.011  INFO 16961 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:31:12.006+0100 I NETWORK  [conn3] closing listening socket: 6
2018-07-19 22:31:12.011  INFO 16961 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:31:12.006+0100 I NETWORK  [conn3] removing socket file: /tmp/mongodb-60863.sock
2018-07-19 22:31:12.011  INFO 16961 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:31:12.006+0100 I NETWORK  [conn3] shutdown: going to flush diaglog...
2018-07-19 22:31:12.011  INFO 16961 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:31:12.006+0100 I NETWORK  [conn3] shutdown: going to close sockets...
2018-07-19 22:31:12.011  INFO 16961 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:31:12.006+0100 I STORAGE  [conn3] WiredTigerKVEngine shutting down
2018-07-19 22:31:12.004  INFO 16961 --- [Thread-5] org.mongodb.driver.connection            : Closed connection [connectionId{localValue:2, serverValue:2}] to localhost:60863 because the pool has been closed.
2018-07-19 22:31:12.015  INFO 16961 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:31:12.015+0100 I NETWORK  [conn2] end connection 127.0.0.1:53899 (2 connections now open)
2018-07-19 22:31:12.016  INFO 16961 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:31:12.016+0100 I NETWORK  [conn1] end connection 127.0.0.1:53898 (2 connections now open)
2018-07-19 22:31:12.035  INFO 16961 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:31:12.034+0100 I STORAGE  [conn3] shutdown: removing fs lock...
2018-07-19 22:31:12.039  INFO 16961 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:31:12.039+0100 I CONTROL  [conn3] dbexit:  rc: 0
2018-07-19 22:31:12.126  WARN 16961 --- [Thread-1] d.f.e.process.runtime.AbstractProcess    : Could not delete pid file: /tmp/extract-2a7f00b8-f0ba-41f8-8c2a-751b9200e81fextractmongod.pid
2018-07-19 22:31:25.852  INFO 17033 --- [main] c.s.c.CreditCardStoreApplication         : Starting CreditCardStoreApplication on dev-VirtualBox with PID 17033 (/home/dev/git/creditcard-store-app/target/classes started by dev in /home/dev/git/creditcard-store-app)
2018-07-19 22:31:25.865  INFO 17033 --- [main] c.s.c.CreditCardStoreApplication         : The following profiles are active: local
2018-07-19 22:31:26.241  INFO 17033 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4bd31064: startup date [Thu Jul 19 22:31:26 BST 2018]; root of context hierarchy
2018-07-19 22:31:34.586  INFO 17033 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2018-07-19 22:31:34.805  INFO 17033 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-19 22:31:34.812  INFO 17033 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.28
2018-07-19 22:31:34.884  INFO 17033 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib:/usr/lib64:/lib64:/lib:/usr/lib]
2018-07-19 22:31:35.557  INFO 17033 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-19 22:31:35.563  INFO 17033 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 9322 ms
2018-07-19 22:31:36.193  INFO 17033 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-19 22:31:36.210  INFO 17033 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-19 22:31:36.214  INFO 17033 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-19 22:31:36.220  INFO 17033 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-19 22:31:36.223  INFO 17033 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-19 22:31:37.486  INFO 17033 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : note: noprealloc may hurt performance in many applications
2018-07-19 22:31:37.518  INFO 17033 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:31:37.518+0100 I CONTROL  [initandlisten] MongoDB starting : pid=17058 port=53962 dbpath=/tmp/embedmongo-db-37536fda-84dc-473e-bc1c-8a3a589cd06f 64-bit host=dev-VirtualBox
2018-07-19 22:31:37.520  INFO 17033 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:31:37.520+0100 I CONTROL  [initandlisten] db version v3.2.2
2018-07-19 22:31:37.520  INFO 17033 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:31:37.520+0100 I CONTROL  [initandlisten] git version: 6e71d0d568e134c029203593b00a0103e7cdf30b
2018-07-19 22:31:37.525  INFO 17033 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:31:37.524+0100 I CONTROL  [initandlisten] allocator: tcmalloc
2018-07-19 22:31:37.526  INFO 17033 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:31:37.526+0100 I CONTROL  [initandlisten] modules: none
2018-07-19 22:31:37.527  INFO 17033 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:31:37.527+0100 I CONTROL  [initandlisten] build environment:
2018-07-19 22:31:37.531  INFO 17033 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:31:37.528+0100 I CONTROL  [initandlisten]     distarch: x86_64
2018-07-19 22:31:37.531  INFO 17033 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:31:37.528+0100 I CONTROL  [initandlisten]     target_arch: x86_64
2018-07-19 22:31:37.531  INFO 17033 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:31:37.528+0100 I CONTROL  [initandlisten] options: { net: { bindIp: "127.0.0.1", http: { enabled: false }, port: 53962 }, security: { authorization: "disabled" }, storage: { dbPath: "/tmp/embedmongo-db-37536fda-84dc-473e-bc1c-8a3a589cd06f", journal: { enabled: false }, mmapv1: { preallocDataFiles: false, smallFiles: true }, syncPeriodSecs: 0.0 } }
2018-07-19 22:31:37.687  INFO 17033 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:31:37.687+0100 I STORAGE  [initandlisten] wiredtiger_open config: create,cache_size=1G,session_max=20000,eviction=(threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000),checkpoint=(wait=0,log_size=2GB),statistics_log=(wait=0),,log=(enabled=false),
2018-07-19 22:31:37.779  INFO 17033 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:31:37.779+0100 W STORAGE  [initandlisten] Detected configuration for non-active storage engine mmapv1 when current storage engine is wiredTiger
2018-07-19 22:31:37.783  INFO 17033 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:31:37.783+0100 I CONTROL  [initandlisten] 
2018-07-19 22:31:37.786  INFO 17033 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:31:37.786+0100 I CONTROL  [initandlisten] ** WARNING: /sys/kernel/mm/transparent_hugepage/enabled is 'always'.
2018-07-19 22:31:37.787  INFO 17033 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:31:37.787+0100 I CONTROL  [initandlisten] **        We suggest setting it to 'never'
2018-07-19 22:31:37.787  INFO 17033 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:31:37.787+0100 I CONTROL  [initandlisten] 
2018-07-19 22:31:37.788  INFO 17033 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:31:37.787+0100 I CONTROL  [initandlisten] ** WARNING: /sys/kernel/mm/transparent_hugepage/defrag is 'always'.
2018-07-19 22:31:37.788  INFO 17033 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:31:37.787+0100 I CONTROL  [initandlisten] **        We suggest setting it to 'never'
2018-07-19 22:31:37.788  INFO 17033 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:31:37.787+0100 I CONTROL  [initandlisten] 
2018-07-19 22:31:37.789  INFO 17033 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:31:37.788+0100 I FTDC     [initandlisten] Initializing full-time diagnostic data capture with directory '/tmp/embedmongo-db-37536fda-84dc-473e-bc1c-8a3a589cd06f/diagnostic.data'
2018-07-19 22:31:37.805  INFO 17033 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:31:37.805+0100 I NETWORK  [HostnameCanonicalizationWorker] Starting hostname canonicalization worker
2018-07-19 22:31:37.826  INFO 17033 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:31:37.826+0100 I NETWORK  [initandlisten] waiting for connections on port 53962
2018-07-19 22:31:37.826  INFO 17033 --- [main] d.f.embed.process.runtime.Executable     : start de.flapdoodle.embed.mongo.config.MongodConfigBuilder$ImmutableMongodConfig@2f1d0bbc
2018-07-19 22:31:39.206  INFO 17033 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:53962], mode=MULTIPLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-19 22:31:39.209  INFO 17033 --- [main] org.mongodb.driver.cluster               : Adding discovered server localhost:53962 to client view of cluster
2018-07-19 22:31:39.430  INFO 17033 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:31:39.430+0100 I NETWORK  [initandlisten] connection accepted from 127.0.0.1:54922 #1 (1 connection now open)
2018-07-19 22:31:39.642  INFO 17033 --- [cluster-ClusterId{value='5b51033bc9ad374289ce9ad0', description='null'}-localhost:53962] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:1, serverValue:1}] to localhost:53962
2018-07-19 22:31:39.669  INFO 17033 --- [cluster-ClusterId{value='5b51033bc9ad374289ce9ad0', description='null'}-localhost:53962] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:53962, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 2, 2]}, minWireVersion=0, maxWireVersion=4, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=null, roundTripTimeNanos=15225520}
2018-07-19 22:31:39.689  INFO 17033 --- [cluster-ClusterId{value='5b51033bc9ad374289ce9ad0', description='null'}-localhost:53962] org.mongodb.driver.cluster               : Discovered cluster type of STANDALONE
2018-07-19 22:31:41.178  INFO 17033 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:31:41.178+0100 I NETWORK  [initandlisten] connection accepted from 127.0.0.1:54923 #2 (2 connections now open)
2018-07-19 22:31:41.207  INFO 17033 --- [main] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:2, serverValue:2}] to localhost:53962
2018-07-19 22:31:41.261  INFO 17033 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:31:41.261+0100 I INDEX    [conn2] build index on: test.creditCard properties: { v: 1, unique: true, key: { creditCardNumber: 1 }, name: "creditCardNumber", ns: "test.creditCard" }
2018-07-19 22:31:41.263  INFO 17033 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:31:41.263+0100 I INDEX    [conn2] 	 building index using bulk method
2018-07-19 22:31:41.264  INFO 17033 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:31:41.264+0100 I INDEX    [conn2] build index done.  scanned 0 total records. 0 secs
2018-07-19 22:31:43.378  INFO 17033 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4bd31064: startup date [Thu Jul 19 22:31:26 BST 2018]; root of context hierarchy
2018-07-19 22:31:43.944  INFO 17033 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/store/creditcard/{id}/charge],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.store.creditcard.controller.CreditCardController.charge(java.lang.String,java.lang.String,java.lang.String)
2018-07-19 22:31:43.956  INFO 17033 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/store/creditcard/add],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.store.creditcard.controller.CreditCardController.add(com.store.creditcard.request.CreditCardRequestParam)
2018-07-19 22:31:43.987  INFO 17033 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-19 22:31:44.000  INFO 17033 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-19 22:31:44.242  INFO 17033 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-19 22:31:44.246  INFO 17033 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-19 22:31:44.324  INFO 17033 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in globalExceptionHandler
2018-07-19 22:31:44.498  INFO 17033 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-19 22:31:45.400  INFO 17033 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-19 22:31:45.698  INFO 17033 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2018-07-19 22:31:45.703  INFO 17033 --- [main] c.s.c.CreditCardStoreApplication         : Started CreditCardStoreApplication in 22.597 seconds (JVM running for 24.963)
2018-07-19 22:31:48.251  INFO 17033 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-19 22:31:48.254  INFO 17033 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-19 22:31:48.380  INFO 17033 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 126 ms
2018-07-19 22:31:49.930  INFO 17033 --- [http-nio-8080-exec-1] c.s.c.r.v.CreditCardValidatorImpl        : validating card number
2018-07-19 22:31:50.147  INFO 17033 --- [http-nio-8080-exec-1] c.s.c.r.v.CreditCardValidatorImpl        : validating card number
2018-07-19 22:31:50.205  INFO 17033 --- [http-nio-8080-exec-1] c.s.c.controller.CreditCardController    : add new card
2018-07-19 22:32:02.691  INFO 17033 --- [http-nio-8080-exec-2] c.s.c.controller.CreditCardController    : charge card
2018-07-19 22:32:35.741  INFO 17033 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:32:35.741+0100 I NETWORK  [initandlisten] connection accepted from 127.0.0.1:54926 #3 (3 connections now open)
2018-07-19 22:32:35.755  INFO 17033 --- [Thread-5] ConfigServletWebServerApplicationContext : Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4bd31064: startup date [Thu Jul 19 22:31:26 BST 2018]; root of context hierarchy
2018-07-19 22:32:35.758  INFO 17033 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:32:35.758+0100 I COMMAND  [conn3] terminating, shutdown command received
2018-07-19 22:32:35.765  INFO 17033 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:32:35.758+0100 I FTDC     [conn3] Shutting down full-time diagnostic data capture
2018-07-19 22:32:35.765  INFO 17033 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:32:35.759+0100 I CONTROL  [conn3] now exiting
2018-07-19 22:32:35.765  INFO 17033 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:32:35.759+0100 I NETWORK  [conn3] shutdown: going to close listening sockets...
2018-07-19 22:32:35.765  INFO 17033 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:32:35.759+0100 I NETWORK  [conn3] closing listening socket: 5
2018-07-19 22:32:35.765  INFO 17033 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:32:35.759+0100 I NETWORK  [conn3] closing listening socket: 6
2018-07-19 22:32:35.765  INFO 17033 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:32:35.759+0100 I NETWORK  [conn3] removing socket file: /tmp/mongodb-53962.sock
2018-07-19 22:32:35.765  INFO 17033 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:32:35.759+0100 I NETWORK  [conn3] shutdown: going to flush diaglog...
2018-07-19 22:32:35.766  INFO 17033 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:32:35.759+0100 I NETWORK  [conn3] shutdown: going to close sockets...
2018-07-19 22:32:35.766  INFO 17033 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:32:35.759+0100 I STORAGE  [conn3] WiredTigerKVEngine shutting down
2018-07-19 22:32:35.766  INFO 17033 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:32:35.764+0100 I NETWORK  [conn1] end connection 127.0.0.1:54922 (2 connections now open)
2018-07-19 22:32:35.769  INFO 17033 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:32:35.769+0100 I NETWORK  [conn2] end connection 127.0.0.1:54923 (2 connections now open)
2018-07-19 22:32:35.757  INFO 17033 --- [Thread-5] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2018-07-19 22:32:35.789  INFO 17033 --- [Thread-5] org.mongodb.driver.connection            : Closed connection [connectionId{localValue:2, serverValue:2}] to localhost:53962 because the pool has been closed.
2018-07-19 22:32:35.814  INFO 17033 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:32:35.814+0100 I STORAGE  [conn3] shutdown: removing fs lock...
2018-07-19 22:32:35.814  INFO 17033 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:32:35.814+0100 I CONTROL  [conn3] dbexit:  rc: 0
2018-07-19 22:32:35.884  WARN 17033 --- [Thread-1] d.f.e.process.runtime.AbstractProcess    : Could not delete pid file: /tmp/extract-e73b6a9b-cf3e-4c16-a381-347360b385aaextractmongod.pid
2018-07-19 22:35:43.026  INFO 17304 --- [main] c.s.c.CreditCardStoreApplication         : Starting CreditCardStoreApplication on dev-VirtualBox with PID 17304 (/home/dev/git/creditcard-store-app/target/classes started by dev in /home/dev/git/creditcard-store-app)
2018-07-19 22:35:43.046  INFO 17304 --- [main] c.s.c.CreditCardStoreApplication         : The following profiles are active: local
2018-07-19 22:35:43.458  INFO 17304 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4bd31064: startup date [Thu Jul 19 22:35:43 BST 2018]; root of context hierarchy
2018-07-19 22:35:52.489  INFO 17304 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2018-07-19 22:35:52.780  INFO 17304 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-19 22:35:52.785  INFO 17304 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.28
2018-07-19 22:35:52.855  INFO 17304 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib:/usr/lib64:/lib64:/lib:/usr/lib]
2018-07-19 22:35:54.126  INFO 17304 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-19 22:35:54.133  INFO 17304 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 10675 ms
2018-07-19 22:35:55.221  INFO 17304 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-19 22:35:55.254  INFO 17304 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-19 22:35:55.293  INFO 17304 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-19 22:35:55.296  INFO 17304 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-19 22:35:55.302  INFO 17304 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-19 22:35:57.114  INFO 17304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : note: noprealloc may hurt performance in many applications
2018-07-19 22:35:57.147  INFO 17304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:35:57.146+0100 I CONTROL  [initandlisten] MongoDB starting : pid=17331 port=57612 dbpath=/tmp/embedmongo-db-1ef8c453-4095-4307-a93b-3f8185c3b237 64-bit host=dev-VirtualBox
2018-07-19 22:35:57.161  INFO 17304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:35:57.161+0100 I CONTROL  [initandlisten] db version v3.2.2
2018-07-19 22:35:57.162  INFO 17304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:35:57.162+0100 I CONTROL  [initandlisten] git version: 6e71d0d568e134c029203593b00a0103e7cdf30b
2018-07-19 22:35:57.162  INFO 17304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:35:57.162+0100 I CONTROL  [initandlisten] allocator: tcmalloc
2018-07-19 22:35:57.163  INFO 17304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:35:57.163+0100 I CONTROL  [initandlisten] modules: none
2018-07-19 22:35:57.164  INFO 17304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:35:57.163+0100 I CONTROL  [initandlisten] build environment:
2018-07-19 22:35:57.164  INFO 17304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:35:57.164+0100 I CONTROL  [initandlisten]     distarch: x86_64
2018-07-19 22:35:57.165  INFO 17304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:35:57.164+0100 I CONTROL  [initandlisten]     target_arch: x86_64
2018-07-19 22:35:57.165  INFO 17304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:35:57.165+0100 I CONTROL  [initandlisten] options: { net: { bindIp: "127.0.0.1", http: { enabled: false }, port: 57612 }, security: { authorization: "disabled" }, storage: { dbPath: "/tmp/embedmongo-db-1ef8c453-4095-4307-a93b-3f8185c3b237", journal: { enabled: false }, mmapv1: { preallocDataFiles: false, smallFiles: true }, syncPeriodSecs: 0.0 } }
2018-07-19 22:35:57.335  INFO 17304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:35:57.334+0100 I STORAGE  [initandlisten] wiredtiger_open config: create,cache_size=1G,session_max=20000,eviction=(threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000),checkpoint=(wait=0,log_size=2GB),statistics_log=(wait=0),,log=(enabled=false),
2018-07-19 22:35:57.431  INFO 17304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:35:57.431+0100 W STORAGE  [initandlisten] Detected configuration for non-active storage engine mmapv1 when current storage engine is wiredTiger
2018-07-19 22:35:57.436  INFO 17304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:35:57.436+0100 I CONTROL  [initandlisten] 
2018-07-19 22:35:57.442  INFO 17304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:35:57.440+0100 I CONTROL  [initandlisten] ** WARNING: /sys/kernel/mm/transparent_hugepage/enabled is 'always'.
2018-07-19 22:35:57.443  INFO 17304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:35:57.440+0100 I CONTROL  [initandlisten] **        We suggest setting it to 'never'
2018-07-19 22:35:57.445  INFO 17304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:35:57.440+0100 I CONTROL  [initandlisten] 
2018-07-19 22:35:57.448  INFO 17304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:35:57.440+0100 I CONTROL  [initandlisten] ** WARNING: /sys/kernel/mm/transparent_hugepage/defrag is 'always'.
2018-07-19 22:35:57.448  INFO 17304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:35:57.440+0100 I CONTROL  [initandlisten] **        We suggest setting it to 'never'
2018-07-19 22:35:57.448  INFO 17304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:35:57.440+0100 I CONTROL  [initandlisten] 
2018-07-19 22:35:57.449  INFO 17304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:35:57.446+0100 I FTDC     [initandlisten] Initializing full-time diagnostic data capture with directory '/tmp/embedmongo-db-1ef8c453-4095-4307-a93b-3f8185c3b237/diagnostic.data'
2018-07-19 22:35:57.456  INFO 17304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:35:57.453+0100 I NETWORK  [HostnameCanonicalizationWorker] Starting hostname canonicalization worker
2018-07-19 22:35:57.490  INFO 17304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:35:57.490+0100 I NETWORK  [initandlisten] waiting for connections on port 57612
2018-07-19 22:35:57.491  INFO 17304 --- [main] d.f.embed.process.runtime.Executable     : start de.flapdoodle.embed.mongo.config.MongodConfigBuilder$ImmutableMongodConfig@a9f023e
2018-07-19 22:35:58.859  INFO 17304 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:57612], mode=MULTIPLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-19 22:35:58.864  INFO 17304 --- [main] org.mongodb.driver.cluster               : Adding discovered server localhost:57612 to client view of cluster
2018-07-19 22:35:59.113  INFO 17304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:35:59.112+0100 I NETWORK  [initandlisten] connection accepted from 127.0.0.1:33431 #1 (1 connection now open)
2018-07-19 22:35:59.332  INFO 17304 --- [cluster-ClusterId{value='5b51043ec9ad37439871b1f5', description='null'}-localhost:57612] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:1, serverValue:1}] to localhost:57612
2018-07-19 22:35:59.358  INFO 17304 --- [cluster-ClusterId{value='5b51043ec9ad37439871b1f5', description='null'}-localhost:57612] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:57612, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 2, 2]}, minWireVersion=0, maxWireVersion=4, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=null, roundTripTimeNanos=6365099}
2018-07-19 22:35:59.369  INFO 17304 --- [cluster-ClusterId{value='5b51043ec9ad37439871b1f5', description='null'}-localhost:57612] org.mongodb.driver.cluster               : Discovered cluster type of STANDALONE
2018-07-19 22:36:01.101  INFO 17304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:36:01.101+0100 I NETWORK  [initandlisten] connection accepted from 127.0.0.1:33432 #2 (2 connections now open)
2018-07-19 22:36:01.143  INFO 17304 --- [main] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:2, serverValue:2}] to localhost:57612
2018-07-19 22:36:01.246  INFO 17304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:36:01.245+0100 I INDEX    [conn2] build index on: test.creditCard properties: { v: 1, unique: true, key: { creditCardNumber: 1 }, name: "creditCardNumber", ns: "test.creditCard" }
2018-07-19 22:36:01.248  INFO 17304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:36:01.248+0100 I INDEX    [conn2] 	 building index using bulk method
2018-07-19 22:36:01.252  INFO 17304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:36:01.251+0100 I INDEX    [conn2] build index done.  scanned 0 total records. 0 secs
2018-07-19 22:36:03.991  INFO 17304 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4bd31064: startup date [Thu Jul 19 22:35:43 BST 2018]; root of context hierarchy
2018-07-19 22:36:04.458  INFO 17304 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/store/creditcard/{id}/charge],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.store.creditcard.controller.CreditCardController.charge(java.lang.String,java.lang.String,java.lang.String)
2018-07-19 22:36:04.460  INFO 17304 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/store/creditcard/add],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.store.creditcard.controller.CreditCardController.add(com.store.creditcard.request.CreditCardRequestParam)
2018-07-19 22:36:04.496  INFO 17304 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-19 22:36:04.498  INFO 17304 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-19 22:36:04.862  INFO 17304 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-19 22:36:04.875  INFO 17304 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-19 22:36:05.092  INFO 17304 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in globalExceptionHandler
2018-07-19 22:36:05.458  INFO 17304 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-19 22:36:06.483  INFO 17304 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-19 22:36:06.911  INFO 17304 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2018-07-19 22:36:06.939  INFO 17304 --- [main] c.s.c.CreditCardStoreApplication         : Started CreditCardStoreApplication in 26.864 seconds (JVM running for 30.064)
2018-07-19 22:36:13.361  INFO 17304 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-19 22:36:13.362  INFO 17304 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-19 22:36:13.641  INFO 17304 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 279 ms
2018-07-19 22:36:15.578  INFO 17304 --- [http-nio-8080-exec-1] c.s.c.r.v.CreditCardValidatorImpl        : validating card number
2018-07-19 22:36:15.677  INFO 17304 --- [http-nio-8080-exec-1] c.s.c.controller.CreditCardController    : add new card
2018-07-19 22:36:27.350  INFO 17304 --- [http-nio-8080-exec-3] c.s.c.controller.CreditCardController    : charge card
2018-07-19 22:36:32.636  INFO 17304 --- [http-nio-8080-exec-5] c.s.c.controller.CreditCardController    : charge card
2018-07-19 22:36:44.064  INFO 17304 --- [http-nio-8080-exec-7] c.s.c.controller.CreditCardController    : charge card
2018-07-19 22:37:09.000  INFO 17304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:37:09.000+0100 I NETWORK  [initandlisten] connection accepted from 127.0.0.1:33443 #3 (3 connections now open)
2018-07-19 22:37:09.015  INFO 17304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:37:09.015+0100 I COMMAND  [conn3] terminating, shutdown command received
2018-07-19 22:37:09.016  INFO 17304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:37:09.015+0100 I FTDC     [conn3] Shutting down full-time diagnostic data capture
2018-07-19 22:37:09.021  INFO 17304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:37:09.021+0100 I CONTROL  [conn3] now exiting
2018-07-19 22:37:09.022  INFO 17304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:37:09.022+0100 I NETWORK  [conn3] shutdown: going to close listening sockets...
2018-07-19 22:37:09.012  INFO 17304 --- [Thread-5] ConfigServletWebServerApplicationContext : Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4bd31064: startup date [Thu Jul 19 22:35:43 BST 2018]; root of context hierarchy
2018-07-19 22:37:09.029  INFO 17304 --- [Thread-5] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2018-07-19 22:37:09.039  INFO 17304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:37:09.039+0100 I NETWORK  [conn3] closing listening socket: 5
2018-07-19 22:37:09.058  INFO 17304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:37:09.040+0100 I NETWORK  [conn3] closing listening socket: 6
2018-07-19 22:37:09.058  INFO 17304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:37:09.040+0100 I NETWORK  [conn3] removing socket file: /tmp/mongodb-57612.sock
2018-07-19 22:37:09.059  INFO 17304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:37:09.040+0100 I NETWORK  [conn3] shutdown: going to flush diaglog...
2018-07-19 22:37:09.059  INFO 17304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:37:09.040+0100 I NETWORK  [conn3] shutdown: going to close sockets...
2018-07-19 22:37:09.059  INFO 17304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:37:09.040+0100 I STORAGE  [conn3] WiredTigerKVEngine shutting down
2018-07-19 22:37:09.059  INFO 17304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:37:09.045+0100 I NETWORK  [conn2] end connection 127.0.0.1:33432 (2 connections now open)
2018-07-19 22:37:09.059  INFO 17304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:37:09.045+0100 I NETWORK  [conn1] end connection 127.0.0.1:33431 (2 connections now open)
2018-07-19 22:37:09.031  INFO 17304 --- [Thread-5] org.mongodb.driver.connection            : Closed connection [connectionId{localValue:2, serverValue:2}] to localhost:57612 because the pool has been closed.
2018-07-19 22:37:09.077  INFO 17304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:37:09.077+0100 I STORAGE  [conn3] shutdown: removing fs lock...
2018-07-19 22:37:09.084  INFO 17304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:37:09.084+0100 I CONTROL  [conn3] dbexit:  rc: 0
2018-07-19 22:37:09.166  WARN 17304 --- [Thread-1] d.f.e.process.runtime.AbstractProcess    : Could not delete pid file: /tmp/extract-cf6d7c6a-47fe-4eef-9cc1-258c9da46a29extractmongod.pid
2018-07-19 22:38:01.737  INFO 17448 --- [main] c.s.c.CreditCardStoreApplication         : Starting CreditCardStoreApplication on dev-VirtualBox with PID 17448 (/home/dev/git/creditcard-store-app/target/classes started by dev in /home/dev/git/creditcard-store-app)
2018-07-19 22:38:01.747  INFO 17448 --- [main] c.s.c.CreditCardStoreApplication         : The following profiles are active: local
2018-07-19 22:38:02.170  INFO 17448 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4bd31064: startup date [Thu Jul 19 22:38:02 BST 2018]; root of context hierarchy
2018-07-19 22:38:10.239  INFO 17448 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2018-07-19 22:38:10.529  INFO 17448 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-19 22:38:10.551  INFO 17448 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.28
2018-07-19 22:38:10.672  INFO 17448 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib:/usr/lib64:/lib64:/lib:/usr/lib]
2018-07-19 22:38:11.472  INFO 17448 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-19 22:38:11.474  INFO 17448 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 9304 ms
2018-07-19 22:38:12.299  INFO 17448 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-19 22:38:12.343  INFO 17448 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-19 22:38:12.364  INFO 17448 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-19 22:38:12.365  INFO 17448 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-19 22:38:12.376  INFO 17448 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-19 22:38:13.771  INFO 17448 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : note: noprealloc may hurt performance in many applications
2018-07-19 22:38:13.842  INFO 17448 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:38:13.842+0100 I CONTROL  [initandlisten] MongoDB starting : pid=17475 port=57060 dbpath=/tmp/embedmongo-db-dcafdd09-ae0e-4930-98bf-82fc333ebc4c 64-bit host=dev-VirtualBox
2018-07-19 22:38:13.843  INFO 17448 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:38:13.843+0100 I CONTROL  [initandlisten] db version v3.2.2
2018-07-19 22:38:13.843  INFO 17448 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:38:13.843+0100 I CONTROL  [initandlisten] git version: 6e71d0d568e134c029203593b00a0103e7cdf30b
2018-07-19 22:38:13.843  INFO 17448 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:38:13.843+0100 I CONTROL  [initandlisten] allocator: tcmalloc
2018-07-19 22:38:13.855  INFO 17448 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:38:13.855+0100 I CONTROL  [initandlisten] modules: none
2018-07-19 22:38:13.856  INFO 17448 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:38:13.855+0100 I CONTROL  [initandlisten] build environment:
2018-07-19 22:38:13.857  INFO 17448 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:38:13.857+0100 I CONTROL  [initandlisten]     distarch: x86_64
2018-07-19 22:38:13.857  INFO 17448 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:38:13.857+0100 I CONTROL  [initandlisten]     target_arch: x86_64
2018-07-19 22:38:13.858  INFO 17448 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:38:13.858+0100 I CONTROL  [initandlisten] options: { net: { bindIp: "127.0.0.1", http: { enabled: false }, port: 57060 }, security: { authorization: "disabled" }, storage: { dbPath: "/tmp/embedmongo-db-dcafdd09-ae0e-4930-98bf-82fc333ebc4c", journal: { enabled: false }, mmapv1: { preallocDataFiles: false, smallFiles: true }, syncPeriodSecs: 0.0 } }
2018-07-19 22:38:14.013  INFO 17448 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:38:14.012+0100 I STORAGE  [initandlisten] wiredtiger_open config: create,cache_size=1G,session_max=20000,eviction=(threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000),checkpoint=(wait=0,log_size=2GB),statistics_log=(wait=0),,log=(enabled=false),
2018-07-19 22:38:14.113  INFO 17448 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:38:14.113+0100 W STORAGE  [initandlisten] Detected configuration for non-active storage engine mmapv1 when current storage engine is wiredTiger
2018-07-19 22:38:14.118  INFO 17448 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:38:14.118+0100 I CONTROL  [initandlisten] 
2018-07-19 22:38:14.119  INFO 17448 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:38:14.119+0100 I CONTROL  [initandlisten] ** WARNING: /sys/kernel/mm/transparent_hugepage/enabled is 'always'.
2018-07-19 22:38:14.120  INFO 17448 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:38:14.120+0100 I CONTROL  [initandlisten] **        We suggest setting it to 'never'
2018-07-19 22:38:14.125  INFO 17448 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:38:14.125+0100 I CONTROL  [initandlisten] 
2018-07-19 22:38:14.126  INFO 17448 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:38:14.126+0100 I CONTROL  [initandlisten] ** WARNING: /sys/kernel/mm/transparent_hugepage/defrag is 'always'.
2018-07-19 22:38:14.127  INFO 17448 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:38:14.126+0100 I CONTROL  [initandlisten] **        We suggest setting it to 'never'
2018-07-19 22:38:14.127  INFO 17448 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:38:14.126+0100 I CONTROL  [initandlisten] 
2018-07-19 22:38:14.127  INFO 17448 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:38:14.126+0100 I FTDC     [initandlisten] Initializing full-time diagnostic data capture with directory '/tmp/embedmongo-db-dcafdd09-ae0e-4930-98bf-82fc333ebc4c/diagnostic.data'
2018-07-19 22:38:14.134  INFO 17448 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:38:14.134+0100 I NETWORK  [HostnameCanonicalizationWorker] Starting hostname canonicalization worker
2018-07-19 22:38:14.152  INFO 17448 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:38:14.152+0100 I NETWORK  [initandlisten] waiting for connections on port 57060
2018-07-19 22:38:14.152  INFO 17448 --- [main] d.f.embed.process.runtime.Executable     : start de.flapdoodle.embed.mongo.config.MongodConfigBuilder$ImmutableMongodConfig@12fcc71f
2018-07-19 22:38:15.222  INFO 17448 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:57060], mode=MULTIPLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-19 22:38:15.232  INFO 17448 --- [main] org.mongodb.driver.cluster               : Adding discovered server localhost:57060 to client view of cluster
2018-07-19 22:38:15.469  INFO 17448 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:38:15.469+0100 I NETWORK  [initandlisten] connection accepted from 127.0.0.1:38427 #1 (1 connection now open)
2018-07-19 22:38:15.650  INFO 17448 --- [cluster-ClusterId{value='5b5104c7c9ad3744284853a6', description='null'}-localhost:57060] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:1, serverValue:1}] to localhost:57060
2018-07-19 22:38:15.674  INFO 17448 --- [cluster-ClusterId{value='5b5104c7c9ad3744284853a6', description='null'}-localhost:57060] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:57060, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 2, 2]}, minWireVersion=0, maxWireVersion=4, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=null, roundTripTimeNanos=9489728}
2018-07-19 22:38:15.684  INFO 17448 --- [cluster-ClusterId{value='5b5104c7c9ad3744284853a6', description='null'}-localhost:57060] org.mongodb.driver.cluster               : Discovered cluster type of STANDALONE
2018-07-19 22:38:16.981  INFO 17448 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:38:16.980+0100 I NETWORK  [initandlisten] connection accepted from 127.0.0.1:38428 #2 (2 connections now open)
2018-07-19 22:38:17.006  INFO 17448 --- [main] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:2, serverValue:2}] to localhost:57060
2018-07-19 22:38:17.057  INFO 17448 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:38:17.057+0100 I INDEX    [conn2] build index on: test.creditCard properties: { v: 1, unique: true, key: { creditCardNumber: 1 }, name: "creditCardNumber", ns: "test.creditCard" }
2018-07-19 22:38:17.058  INFO 17448 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:38:17.058+0100 I INDEX    [conn2] 	 building index using bulk method
2018-07-19 22:38:17.061  INFO 17448 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:38:17.061+0100 I INDEX    [conn2] build index done.  scanned 0 total records. 0 secs
2018-07-19 22:38:18.985  INFO 17448 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4bd31064: startup date [Thu Jul 19 22:38:02 BST 2018]; root of context hierarchy
2018-07-19 22:38:19.399  INFO 17448 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/store/creditcard/{id}/charge],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.store.creditcard.controller.CreditCardController.charge(java.lang.String,java.lang.String,java.lang.String)
2018-07-19 22:38:19.417  INFO 17448 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/store/creditcard/add],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.store.creditcard.controller.CreditCardController.add(com.store.creditcard.request.CreditCardRequestParam)
2018-07-19 22:38:19.446  INFO 17448 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-19 22:38:19.449  INFO 17448 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-19 22:38:19.621  INFO 17448 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-19 22:38:19.632  INFO 17448 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-19 22:38:19.721  INFO 17448 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in globalExceptionHandler
2018-07-19 22:38:19.902  INFO 17448 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-19 22:38:20.875  INFO 17448 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-19 22:38:21.164  INFO 17448 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2018-07-19 22:38:21.194  INFO 17448 --- [main] c.s.c.CreditCardStoreApplication         : Started CreditCardStoreApplication in 22.214 seconds (JVM running for 24.696)
2018-07-19 22:38:25.632  INFO 17448 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-19 22:38:25.639  INFO 17448 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-19 22:38:25.802  INFO 17448 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 162 ms
2018-07-19 22:38:27.398  INFO 17448 --- [http-nio-8080-exec-1] c.s.c.r.v.CreditCardValidatorImpl        : validating card number
2018-07-19 22:38:27.636  INFO 17448 --- [http-nio-8080-exec-1] c.s.c.r.v.CreditCardValidatorImpl        : validating card number
2018-07-19 22:38:27.711  INFO 17448 --- [http-nio-8080-exec-1] c.s.c.controller.CreditCardController    : add new card
2018-07-19 22:38:41.058 ERROR 17448 --- [http-nio-8080-exec-10] c.s.c.controller.GlobalExceptionHandler  : Validation error

javax.validation.ConstraintViolationException: charge.amount: must match "^([0-9]+)(.[0-9]{2})+$"
	at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:109) ~[spring-context-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689) ~[spring-aop-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at com.store.creditcard.controller.CreditCardController$$EnhancerBySpringCGLIB$$437f6650.charge(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:564) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:870) ~[spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:776) ~[spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:978) [spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:892) [spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:664) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:855) [spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) [spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) [spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) [spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1135) [na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) [na:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at java.base/java.lang.Thread.run(Thread.java:844) [na:na]

2018-07-19 22:38:52.125  INFO 17448 --- [http-nio-8080-exec-9] c.s.c.controller.CreditCardController    : charge card
2018-07-19 22:39:06.490 ERROR 17448 --- [http-nio-8080-exec-7] c.s.c.controller.GlobalExceptionHandler  : Validation error

javax.validation.ConstraintViolationException: charge.amount: must match "^([0-9]+)(.[0-9]{2})+$"
	at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:109) ~[spring-context-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689) ~[spring-aop-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at com.store.creditcard.controller.CreditCardController$$EnhancerBySpringCGLIB$$437f6650.charge(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:564) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:870) ~[spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:776) ~[spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:978) [spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:892) [spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:664) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:855) [spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) [spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) [spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) [spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1135) [na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) [na:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at java.base/java.lang.Thread.run(Thread.java:844) [na:na]

2018-07-19 22:39:12.967  INFO 17448 --- [http-nio-8080-exec-6] c.s.c.controller.CreditCardController    : charge card
2018-07-19 22:39:20.236 ERROR 17448 --- [http-nio-8080-exec-4] c.s.c.controller.GlobalExceptionHandler  : Validation error

javax.validation.ConstraintViolationException: charge.name: must match "^[A-Za-z]+$"
	at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:109) ~[spring-context-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689) ~[spring-aop-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at com.store.creditcard.controller.CreditCardController$$EnhancerBySpringCGLIB$$437f6650.charge(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:564) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:870) ~[spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:776) ~[spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:978) [spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:892) [spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:664) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:855) [spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) [spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) [spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) [spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1135) [na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) [na:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at java.base/java.lang.Thread.run(Thread.java:844) [na:na]

2018-07-19 22:39:25.548  INFO 17448 --- [http-nio-8080-exec-3] c.s.c.controller.CreditCardController    : charge card
2018-07-19 22:41:17.332  INFO 17448 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:41:17.332+0100 I NETWORK  [initandlisten] connection accepted from 127.0.0.1:38436 #3 (3 connections now open)
2018-07-19 22:41:17.340  INFO 17448 --- [Thread-5] ConfigServletWebServerApplicationContext : Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4bd31064: startup date [Thu Jul 19 22:38:02 BST 2018]; root of context hierarchy
2018-07-19 22:41:17.350  INFO 17448 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:41:17.350+0100 I COMMAND  [conn3] terminating, shutdown command received
2018-07-19 22:41:17.350  INFO 17448 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:41:17.350+0100 I FTDC     [conn3] Shutting down full-time diagnostic data capture
2018-07-19 22:41:17.363  INFO 17448 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:41:17.363+0100 I CONTROL  [conn3] now exiting
2018-07-19 22:41:17.364  INFO 17448 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:41:17.363+0100 I NETWORK  [conn3] shutdown: going to close listening sockets...
2018-07-19 22:41:17.364  INFO 17448 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:41:17.363+0100 I NETWORK  [conn3] closing listening socket: 5
2018-07-19 22:41:17.365  INFO 17448 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:41:17.363+0100 I NETWORK  [conn3] closing listening socket: 6
2018-07-19 22:41:17.365  INFO 17448 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:41:17.363+0100 I NETWORK  [conn3] removing socket file: /tmp/mongodb-57060.sock
2018-07-19 22:41:17.365  INFO 17448 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:41:17.363+0100 I NETWORK  [conn3] shutdown: going to flush diaglog...
2018-07-19 22:41:17.365  INFO 17448 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:41:17.363+0100 I NETWORK  [conn3] shutdown: going to close sockets...
2018-07-19 22:41:17.365  INFO 17448 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:41:17.363+0100 I STORAGE  [conn3] WiredTigerKVEngine shutting down
2018-07-19 22:41:17.358  INFO 17448 --- [Thread-5] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2018-07-19 22:41:17.370  INFO 17448 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:41:17.370+0100 I NETWORK  [conn2] end connection 127.0.0.1:38428 (2 connections now open)
2018-07-19 22:41:17.370  INFO 17448 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:41:17.370+0100 I NETWORK  [conn1] end connection 127.0.0.1:38427 (2 connections now open)
2018-07-19 22:41:17.386  INFO 17448 --- [Thread-5] org.mongodb.driver.connection            : Closed connection [connectionId{localValue:2, serverValue:2}] to localhost:57060 because the pool has been closed.
2018-07-19 22:41:17.404  INFO 17448 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:41:17.401+0100 I STORAGE  [conn3] shutdown: removing fs lock...
2018-07-19 22:41:17.404  INFO 17448 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-19T22:41:17.402+0100 I CONTROL  [conn3] dbexit:  rc: 0
2018-07-19 22:41:17.487  WARN 17448 --- [Thread-1] d.f.e.process.runtime.AbstractProcess    : Could not delete pid file: /tmp/extract-13a97f3d-81f4-45c2-96f5-7ddd48e64938extractmongod.pid
2018-07-20 02:50:22.069  INFO 23486 --- [main] c.s.c.CreditCardStoreApplication         : Starting CreditCardStoreApplication on dev-VirtualBox with PID 23486 (/home/dev/git/creditcard-store-app/target/classes started by dev in /home/dev/git/creditcard-store-app)
2018-07-20 02:50:22.088  INFO 23486 --- [main] c.s.c.CreditCardStoreApplication         : The following profiles are active: local
2018-07-20 02:50:22.466  INFO 23486 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4bd31064: startup date [Fri Jul 20 02:50:22 BST 2018]; root of context hierarchy
2018-07-20 02:50:29.426  INFO 23486 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2018-07-20 02:50:29.615  INFO 23486 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-20 02:50:29.628  INFO 23486 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.28
2018-07-20 02:50:29.720  INFO 23486 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib:/usr/lib64:/lib64:/lib:/usr/lib]
2018-07-20 02:50:30.334  INFO 23486 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-20 02:50:30.339  INFO 23486 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 7873 ms
2018-07-20 02:50:30.939  INFO 23486 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-20 02:50:30.966  INFO 23486 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-20 02:50:30.968  INFO 23486 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-20 02:50:30.970  INFO 23486 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-20 02:50:30.973  INFO 23486 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-20 02:50:32.477  INFO 23486 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : note: noprealloc may hurt performance in many applications
2018-07-20 02:50:32.518  INFO 23486 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-20T02:50:32.518+0100 I CONTROL  [initandlisten] MongoDB starting : pid=23512 port=38608 dbpath=/tmp/embedmongo-db-200ff827-9a50-43e3-99d9-b4f874b668ac 64-bit host=dev-VirtualBox
2018-07-20 02:50:32.527  INFO 23486 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-20T02:50:32.527+0100 I CONTROL  [initandlisten] db version v3.2.2
2018-07-20 02:50:32.528  INFO 23486 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-20T02:50:32.528+0100 I CONTROL  [initandlisten] git version: 6e71d0d568e134c029203593b00a0103e7cdf30b
2018-07-20 02:50:32.529  INFO 23486 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-20T02:50:32.529+0100 I CONTROL  [initandlisten] allocator: tcmalloc
2018-07-20 02:50:32.529  INFO 23486 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-20T02:50:32.529+0100 I CONTROL  [initandlisten] modules: none
2018-07-20 02:50:32.529  INFO 23486 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-20T02:50:32.529+0100 I CONTROL  [initandlisten] build environment:
2018-07-20 02:50:32.530  INFO 23486 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-20T02:50:32.530+0100 I CONTROL  [initandlisten]     distarch: x86_64
2018-07-20 02:50:32.531  INFO 23486 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-20T02:50:32.531+0100 I CONTROL  [initandlisten]     target_arch: x86_64
2018-07-20 02:50:32.531  INFO 23486 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-20T02:50:32.531+0100 I CONTROL  [initandlisten] options: { net: { bindIp: "127.0.0.1", http: { enabled: false }, port: 38608 }, security: { authorization: "disabled" }, storage: { dbPath: "/tmp/embedmongo-db-200ff827-9a50-43e3-99d9-b4f874b668ac", journal: { enabled: false }, mmapv1: { preallocDataFiles: false, smallFiles: true }, syncPeriodSecs: 0.0 } }
2018-07-20 02:50:32.714  INFO 23486 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-20T02:50:32.714+0100 I STORAGE  [initandlisten] wiredtiger_open config: create,cache_size=1G,session_max=20000,eviction=(threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000),checkpoint=(wait=0,log_size=2GB),statistics_log=(wait=0),,log=(enabled=false),
2018-07-20 02:50:32.904  INFO 23486 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-20T02:50:32.904+0100 W STORAGE  [initandlisten] Detected configuration for non-active storage engine mmapv1 when current storage engine is wiredTiger
2018-07-20 02:50:32.913  INFO 23486 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-20T02:50:32.913+0100 I CONTROL  [initandlisten] 
2018-07-20 02:50:32.913  INFO 23486 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-20T02:50:32.913+0100 I CONTROL  [initandlisten] ** WARNING: /sys/kernel/mm/transparent_hugepage/enabled is 'always'.
2018-07-20 02:50:32.913  INFO 23486 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-20T02:50:32.913+0100 I CONTROL  [initandlisten] **        We suggest setting it to 'never'
2018-07-20 02:50:32.914  INFO 23486 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-20T02:50:32.914+0100 I CONTROL  [initandlisten] 
2018-07-20 02:50:32.914  INFO 23486 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-20T02:50:32.914+0100 I CONTROL  [initandlisten] ** WARNING: /sys/kernel/mm/transparent_hugepage/defrag is 'always'.
2018-07-20 02:50:32.915  INFO 23486 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-20T02:50:32.915+0100 I CONTROL  [initandlisten] **        We suggest setting it to 'never'
2018-07-20 02:50:32.915  INFO 23486 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-20T02:50:32.915+0100 I CONTROL  [initandlisten] 
2018-07-20 02:50:32.917  INFO 23486 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-20T02:50:32.917+0100 I FTDC     [initandlisten] Initializing full-time diagnostic data capture with directory '/tmp/embedmongo-db-200ff827-9a50-43e3-99d9-b4f874b668ac/diagnostic.data'
2018-07-20 02:50:32.921  INFO 23486 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-20T02:50:32.921+0100 I NETWORK  [HostnameCanonicalizationWorker] Starting hostname canonicalization worker
2018-07-20 02:50:32.947  INFO 23486 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-20T02:50:32.947+0100 I NETWORK  [initandlisten] waiting for connections on port 38608
2018-07-20 02:50:32.947  INFO 23486 --- [main] d.f.embed.process.runtime.Executable     : start de.flapdoodle.embed.mongo.config.MongodConfigBuilder$ImmutableMongodConfig@561b61ed
2018-07-20 02:50:34.049  INFO 23486 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:38608], mode=MULTIPLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-20 02:50:34.054  INFO 23486 --- [main] org.mongodb.driver.cluster               : Adding discovered server localhost:38608 to client view of cluster
2018-07-20 02:50:34.249  INFO 23486 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-20T02:50:34.249+0100 I NETWORK  [initandlisten] connection accepted from 127.0.0.1:58536 #1 (1 connection now open)
2018-07-20 02:50:34.437  INFO 23486 --- [cluster-ClusterId{value='5b513feac9ad375bbe1583de', description='null'}-localhost:38608] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:1, serverValue:1}] to localhost:38608
2018-07-20 02:50:34.464  INFO 23486 --- [cluster-ClusterId{value='5b513feac9ad375bbe1583de', description='null'}-localhost:38608] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:38608, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 2, 2]}, minWireVersion=0, maxWireVersion=4, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=null, roundTripTimeNanos=9530250}
2018-07-20 02:50:34.475  INFO 23486 --- [cluster-ClusterId{value='5b513feac9ad375bbe1583de', description='null'}-localhost:38608] org.mongodb.driver.cluster               : Discovered cluster type of STANDALONE
2018-07-20 02:50:35.646  INFO 23486 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-20T02:50:35.646+0100 I NETWORK  [initandlisten] connection accepted from 127.0.0.1:58537 #2 (2 connections now open)
2018-07-20 02:50:35.666  INFO 23486 --- [main] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:2, serverValue:2}] to localhost:38608
2018-07-20 02:50:35.738  INFO 23486 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-20T02:50:35.737+0100 I INDEX    [conn2] build index on: test.creditCard properties: { v: 1, unique: true, key: { creditCardNumber: 1 }, name: "creditCardNumber", ns: "test.creditCard" }
2018-07-20 02:50:35.739  INFO 23486 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-20T02:50:35.739+0100 I INDEX    [conn2] 	 building index using bulk method
2018-07-20 02:50:35.747  INFO 23486 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-20T02:50:35.746+0100 I INDEX    [conn2] build index done.  scanned 0 total records. 0 secs
2018-07-20 02:50:37.640  INFO 23486 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4bd31064: startup date [Fri Jul 20 02:50:22 BST 2018]; root of context hierarchy
2018-07-20 02:50:38.082  INFO 23486 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/store/creditcard/{id}/charge],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.store.creditcard.controller.CreditCardController.charge(java.lang.String,java.lang.String,java.lang.String) throws java.text.ParseException
2018-07-20 02:50:38.085  INFO 23486 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/store/creditcard/add],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.store.creditcard.controller.CreditCardController.add(com.store.creditcard.request.CreditCardRequestParam)
2018-07-20 02:50:38.112  INFO 23486 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-20 02:50:38.120  INFO 23486 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-20 02:50:38.321  INFO 23486 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-20 02:50:38.328  INFO 23486 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-20 02:50:38.412  INFO 23486 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in globalExceptionHandler
2018-07-20 02:50:38.570  INFO 23486 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-20 02:50:39.310  INFO 23486 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-20 02:50:39.572  INFO 23486 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2018-07-20 02:50:39.588  INFO 23486 --- [main] c.s.c.CreditCardStoreApplication         : Started CreditCardStoreApplication in 20.517 seconds (JVM running for 23.737)
2018-07-20 02:50:59.987  INFO 23486 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-20 02:50:59.989  INFO 23486 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-20 02:51:00.075  INFO 23486 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 84 ms
2018-07-20 02:51:01.568  INFO 23486 --- [http-nio-8080-exec-1] c.s.c.r.v.CreditCardValidatorImpl        : validating card number
2018-07-20 02:51:01.787  INFO 23486 --- [http-nio-8080-exec-1] c.s.c.r.v.CreditCardValidatorImpl        : validating card number
2018-07-20 02:51:01.840  INFO 23486 --- [http-nio-8080-exec-1] c.s.c.controller.CreditCardController    : add new card
2018-07-20 02:51:10.486  INFO 23486 --- [http-nio-8080-exec-4] c.s.c.r.v.CreditCardValidatorImpl        : validating card number
2018-07-20 02:51:20.448  INFO 23486 --- [http-nio-8080-exec-5] c.s.c.r.v.CreditCardValidatorImpl        : validating card number
2018-07-20 02:51:48.766  INFO 23486 --- [http-nio-8080-exec-2] c.s.c.r.v.CreditCardValidatorImpl        : validating card number
2018-07-20 02:54:00.717  INFO 23486 --- [http-nio-8080-exec-7] c.s.c.r.v.CreditCardValidatorImpl        : validating card number
2018-07-20 02:54:16.163  INFO 23486 --- [http-nio-8080-exec-8] c.s.c.r.v.CreditCardValidatorImpl        : validating card number
2018-07-20 02:54:35.165  INFO 23486 --- [http-nio-8080-exec-9] c.s.c.r.v.CreditCardValidatorImpl        : validating card number
2018-07-20 02:54:35.172  INFO 23486 --- [http-nio-8080-exec-9] c.s.c.r.v.CreditCardValidatorImpl        : validating card number
2018-07-20 02:54:35.179  INFO 23486 --- [http-nio-8080-exec-9] c.s.c.controller.CreditCardController    : add new card
2018-07-20 02:54:51.959  INFO 23486 --- [http-nio-8080-exec-3] c.s.c.r.v.CreditCardValidatorImpl        : validating card number
2018-07-20 02:55:03.443  INFO 23486 --- [http-nio-8080-exec-4] c.s.c.r.v.CreditCardValidatorImpl        : validating card number
2018-07-20 02:55:17.753  INFO 23486 --- [http-nio-8080-exec-5] c.s.c.r.v.CreditCardValidatorImpl        : validating card number
2018-07-20 02:55:30.061  INFO 23486 --- [http-nio-8080-exec-2] c.s.c.r.v.CreditCardValidatorImpl        : validating card number
2018-07-20 02:55:46.289  INFO 23486 --- [Thread-5] ConfigServletWebServerApplicationContext : Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4bd31064: startup date [Fri Jul 20 02:50:22 BST 2018]; root of context hierarchy
2018-07-20 02:55:46.326  INFO 23486 --- [Thread-5] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2018-07-20 02:55:46.332  INFO 23486 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-20T02:55:46.330+0100 I NETWORK  [initandlisten] connection accepted from 127.0.0.1:58575 #3 (3 connections now open)
2018-07-20 02:55:46.345  INFO 23486 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-20T02:55:46.345+0100 I COMMAND  [conn3] terminating, shutdown command received
2018-07-20 02:55:46.345  INFO 23486 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-20T02:55:46.345+0100 I FTDC     [conn3] Shutting down full-time diagnostic data capture
2018-07-20 02:55:46.356  INFO 23486 --- [Thread-5] org.mongodb.driver.connection            : Closed connection [connectionId{localValue:2, serverValue:2}] to localhost:38608 because the pool has been closed.
2018-07-20 02:55:46.362  INFO 23486 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-20T02:55:46.362+0100 I CONTROL  [conn3] now exiting
2018-07-20 02:55:46.362  INFO 23486 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-20T02:55:46.362+0100 I NETWORK  [conn3] shutdown: going to close listening sockets...
2018-07-20 02:55:46.363  INFO 23486 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-20T02:55:46.363+0100 I NETWORK  [conn3] closing listening socket: 5
2018-07-20 02:55:46.364  INFO 23486 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-20T02:55:46.364+0100 I NETWORK  [conn3] closing listening socket: 6
2018-07-20 02:55:46.365  INFO 23486 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-20T02:55:46.365+0100 I NETWORK  [conn3] removing socket file: /tmp/mongodb-38608.sock
2018-07-20 02:55:46.367  INFO 23486 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-20T02:55:46.367+0100 I NETWORK  [conn2] end connection 127.0.0.1:58537 (2 connections now open)
2018-07-20 02:55:46.368  INFO 23486 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-20T02:55:46.367+0100 I NETWORK  [conn3] shutdown: going to flush diaglog...
2018-07-20 02:55:46.368  INFO 23486 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-20T02:55:46.367+0100 I NETWORK  [conn3] shutdown: going to close sockets...
2018-07-20 02:55:46.368  INFO 23486 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-20T02:55:46.367+0100 I STORAGE  [conn3] WiredTigerKVEngine shutting down
2018-07-20 02:55:46.372  INFO 23486 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-20T02:55:46.372+0100 I NETWORK  [conn1] end connection 127.0.0.1:58536 (1 connection now open)
2018-07-20 02:55:46.400  INFO 23486 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-20T02:55:46.400+0100 I STORAGE  [conn3] shutdown: removing fs lock...
2018-07-20 02:55:46.400  INFO 23486 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-20T02:55:46.400+0100 I CONTROL  [conn3] dbexit:  rc: 0
2018-07-20 02:55:46.503  WARN 23486 --- [Thread-1] d.f.e.process.runtime.AbstractProcess    : Could not delete pid file: /tmp/extract-e500e0b6-5f68-4d59-864a-76b2799e4701extractmongod.pid
2018-07-20 08:51:37.855  INFO 27304 --- [main] c.s.c.CreditCardStoreApplication         : Starting CreditCardStoreApplication on dev-VirtualBox with PID 27304 (/home/dev/git/creditcard-store-app/target/classes started by dev in /home/dev/git/creditcard-store-app)
2018-07-20 08:51:38.023  INFO 27304 --- [main] c.s.c.CreditCardStoreApplication         : The following profiles are active: local
2018-07-20 08:51:38.637  INFO 27304 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@20d7d6fb: startup date [Fri Jul 20 08:51:38 BST 2018]; root of context hierarchy
2018-07-20 08:51:46.489  INFO 27304 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2018-07-20 08:51:46.690  INFO 27304 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-20 08:51:46.697  INFO 27304 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.28
2018-07-20 08:51:46.786  INFO 27304 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib:/usr/lib64:/lib64:/lib:/usr/lib]
2018-07-20 08:51:47.371  INFO 27304 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-20 08:51:47.380  INFO 27304 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 8742 ms
2018-07-20 08:51:48.013  INFO 27304 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-20 08:51:48.033  INFO 27304 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-20 08:51:48.036  INFO 27304 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-20 08:51:48.037  INFO 27304 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-20 08:51:48.040  INFO 27304 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-20 08:51:49.185  INFO 27304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : note: noprealloc may hurt performance in many applications
2018-07-20 08:51:49.225  INFO 27304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-20T08:51:49.225+0100 I CONTROL  [initandlisten] MongoDB starting : pid=27330 port=42804 dbpath=/tmp/embedmongo-db-56bd40f0-27d7-4f6d-9135-b07486ab794f 64-bit host=dev-VirtualBox
2018-07-20 08:51:49.231  INFO 27304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-20T08:51:49.231+0100 I CONTROL  [initandlisten] db version v3.2.2
2018-07-20 08:51:49.233  INFO 27304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-20T08:51:49.233+0100 I CONTROL  [initandlisten] git version: 6e71d0d568e134c029203593b00a0103e7cdf30b
2018-07-20 08:51:49.235  INFO 27304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-20T08:51:49.235+0100 I CONTROL  [initandlisten] allocator: tcmalloc
2018-07-20 08:51:49.236  INFO 27304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-20T08:51:49.236+0100 I CONTROL  [initandlisten] modules: none
2018-07-20 08:51:49.236  INFO 27304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-20T08:51:49.236+0100 I CONTROL  [initandlisten] build environment:
2018-07-20 08:51:49.237  INFO 27304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-20T08:51:49.237+0100 I CONTROL  [initandlisten]     distarch: x86_64
2018-07-20 08:51:49.238  INFO 27304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-20T08:51:49.238+0100 I CONTROL  [initandlisten]     target_arch: x86_64
2018-07-20 08:51:49.242  INFO 27304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-20T08:51:49.241+0100 I CONTROL  [initandlisten] options: { net: { bindIp: "127.0.0.1", http: { enabled: false }, port: 42804 }, security: { authorization: "disabled" }, storage: { dbPath: "/tmp/embedmongo-db-56bd40f0-27d7-4f6d-9135-b07486ab794f", journal: { enabled: false }, mmapv1: { preallocDataFiles: false, smallFiles: true }, syncPeriodSecs: 0.0 } }
2018-07-20 08:51:49.401  INFO 27304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-20T08:51:49.401+0100 I STORAGE  [initandlisten] wiredtiger_open config: create,cache_size=1G,session_max=20000,eviction=(threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000),checkpoint=(wait=0,log_size=2GB),statistics_log=(wait=0),,log=(enabled=false),
2018-07-20 08:51:49.492  INFO 27304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-20T08:51:49.492+0100 W STORAGE  [initandlisten] Detected configuration for non-active storage engine mmapv1 when current storage engine is wiredTiger
2018-07-20 08:51:49.494  INFO 27304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-20T08:51:49.494+0100 I CONTROL  [initandlisten] 
2018-07-20 08:51:49.495  INFO 27304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-20T08:51:49.495+0100 I CONTROL  [initandlisten] ** WARNING: /sys/kernel/mm/transparent_hugepage/enabled is 'always'.
2018-07-20 08:51:49.496  INFO 27304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-20T08:51:49.496+0100 I CONTROL  [initandlisten] **        We suggest setting it to 'never'
2018-07-20 08:51:49.496  INFO 27304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-20T08:51:49.496+0100 I CONTROL  [initandlisten] 
2018-07-20 08:51:49.497  INFO 27304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-20T08:51:49.497+0100 I CONTROL  [initandlisten] ** WARNING: /sys/kernel/mm/transparent_hugepage/defrag is 'always'.
2018-07-20 08:51:49.497  INFO 27304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-20T08:51:49.497+0100 I CONTROL  [initandlisten] **        We suggest setting it to 'never'
2018-07-20 08:51:49.498  INFO 27304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-20T08:51:49.497+0100 I CONTROL  [initandlisten] 
2018-07-20 08:51:49.500  INFO 27304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-20T08:51:49.500+0100 I FTDC     [initandlisten] Initializing full-time diagnostic data capture with directory '/tmp/embedmongo-db-56bd40f0-27d7-4f6d-9135-b07486ab794f/diagnostic.data'
2018-07-20 08:51:49.507  INFO 27304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-20T08:51:49.507+0100 I NETWORK  [HostnameCanonicalizationWorker] Starting hostname canonicalization worker
2018-07-20 08:51:49.531  INFO 27304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-20T08:51:49.531+0100 I NETWORK  [initandlisten] waiting for connections on port 42804
2018-07-20 08:51:49.532  INFO 27304 --- [main] d.f.embed.process.runtime.Executable     : start de.flapdoodle.embed.mongo.config.MongodConfigBuilder$ImmutableMongodConfig@5460b754
2018-07-20 08:51:50.636  INFO 27304 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:42804], mode=MULTIPLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-20 08:51:50.637  INFO 27304 --- [main] org.mongodb.driver.cluster               : Adding discovered server localhost:42804 to client view of cluster
2018-07-20 08:51:50.899  INFO 27304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-20T08:51:50.898+0100 I NETWORK  [initandlisten] connection accepted from 127.0.0.1:44192 #1 (1 connection now open)
2018-07-20 08:51:51.087  INFO 27304 --- [cluster-ClusterId{value='5b519496c9ad376aa80b59a6', description='null'}-localhost:42804] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:1, serverValue:1}] to localhost:42804
2018-07-20 08:51:51.105  INFO 27304 --- [cluster-ClusterId{value='5b519496c9ad376aa80b59a6', description='null'}-localhost:42804] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:42804, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 2, 2]}, minWireVersion=0, maxWireVersion=4, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=null, roundTripTimeNanos=15961744}
2018-07-20 08:51:51.122  INFO 27304 --- [cluster-ClusterId{value='5b519496c9ad376aa80b59a6', description='null'}-localhost:42804] org.mongodb.driver.cluster               : Discovered cluster type of STANDALONE
2018-07-20 08:51:52.297  INFO 27304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-20T08:51:52.297+0100 I NETWORK  [initandlisten] connection accepted from 127.0.0.1:44193 #2 (2 connections now open)
2018-07-20 08:51:52.317  INFO 27304 --- [main] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:2, serverValue:2}] to localhost:42804
2018-07-20 08:51:52.376  INFO 27304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-20T08:51:52.376+0100 I INDEX    [conn2] build index on: test.creditCard properties: { v: 1, unique: true, key: { creditCardNumber: 1 }, name: "creditCardNumber", ns: "test.creditCard" }
2018-07-20 08:51:52.377  INFO 27304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-20T08:51:52.377+0100 I INDEX    [conn2] 	 building index using bulk method
2018-07-20 08:51:52.378  INFO 27304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-20T08:51:52.378+0100 I INDEX    [conn2] build index done.  scanned 0 total records. 0 secs
2018-07-20 08:51:54.307  INFO 27304 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@20d7d6fb: startup date [Fri Jul 20 08:51:38 BST 2018]; root of context hierarchy
2018-07-20 08:51:54.710  INFO 27304 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/store/creditcard/{id}/charge],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.store.creditcard.controller.CreditCardController.charge(java.lang.String,java.lang.String,java.lang.String) throws java.text.ParseException
2018-07-20 08:51:54.717  INFO 27304 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/store/creditcard/add],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.store.creditcard.controller.CreditCardController.add(com.store.creditcard.request.CreditCardRequestParam)
2018-07-20 08:51:54.752  INFO 27304 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-20 08:51:54.753  INFO 27304 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-20 08:51:54.961  INFO 27304 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-20 08:51:54.968  INFO 27304 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-20 08:51:55.102  INFO 27304 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in globalExceptionHandler
2018-07-20 08:51:55.270  INFO 27304 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-20 08:51:56.122  INFO 27304 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-20 08:51:56.381  INFO 27304 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2018-07-20 08:51:56.395  INFO 27304 --- [main] c.s.c.CreditCardStoreApplication         : Started CreditCardStoreApplication in 21.512 seconds (JVM running for 24.244)
2018-07-20 08:52:07.268  INFO 27304 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-20 08:52:07.269  INFO 27304 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-20 08:52:07.389  INFO 27304 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 118 ms
2018-07-20 08:52:09.039  INFO 27304 --- [http-nio-8080-exec-1] c.s.c.r.v.CreditCardValidatorImpl        : validating card number
2018-07-20 08:52:09.241  INFO 27304 --- [http-nio-8080-exec-1] c.s.c.r.v.CreditCardValidatorImpl        : validating card number
2018-07-20 08:52:09.299  INFO 27304 --- [http-nio-8080-exec-1] c.s.c.controller.CreditCardController    : add new card
2018-07-20 08:52:22.477  INFO 27304 --- [http-nio-8080-exec-2] c.s.c.r.v.CreditCardValidatorImpl        : validating card number
2018-07-20 08:52:31.232  INFO 27304 --- [http-nio-8080-exec-3] c.s.c.r.v.CreditCardValidatorImpl        : validating card number
2018-07-20 08:52:31.237  INFO 27304 --- [http-nio-8080-exec-3] c.s.c.r.v.CreditCardValidatorImpl        : validating card number
2018-07-20 08:52:31.241  INFO 27304 --- [http-nio-8080-exec-3] c.s.c.controller.CreditCardController    : add new card
2018-07-20 08:52:31.406 ERROR 27304 --- [http-nio-8080-exec-3] c.s.c.controller.GlobalExceptionHandler  : Resource already exists
2018-07-20 08:52:50.965 ERROR 27304 --- [http-nio-8080-exec-5] c.s.c.controller.GlobalExceptionHandler  : Validation error

javax.validation.ConstraintViolationException: charge.amount: must match "^([0-9]+)(.[0-9]{2})+$"
	at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:109) ~[spring-context-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689) ~[spring-aop-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at com.store.creditcard.controller.CreditCardController$$EnhancerBySpringCGLIB$$306a0555.charge(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:564) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:870) ~[spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:776) ~[spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:978) [spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:892) [spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:664) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:855) [spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) [spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) [spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) [spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1135) [na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) [na:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.28.jar:8.5.28]
	at java.base/java.lang.Thread.run(Thread.java:844) [na:na]

2018-07-20 08:53:03.141  INFO 27304 --- [http-nio-8080-exec-6] c.s.c.controller.CreditCardController    : charge card
2018-07-20 08:53:55.828  INFO 27304 --- [Thread-5] ConfigServletWebServerApplicationContext : Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@20d7d6fb: startup date [Fri Jul 20 08:51:38 BST 2018]; root of context hierarchy
2018-07-20 08:53:55.842  INFO 27304 --- [Thread-5] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2018-07-20 08:53:55.858  INFO 27304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-20T08:53:55.858+0100 I NETWORK  [initandlisten] connection accepted from 127.0.0.1:44202 #3 (3 connections now open)
2018-07-20 08:53:55.874  INFO 27304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-20T08:53:55.874+0100 I COMMAND  [conn3] terminating, shutdown command received
2018-07-20 08:53:55.874  INFO 27304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-20T08:53:55.874+0100 I FTDC     [conn3] Shutting down full-time diagnostic data capture
2018-07-20 08:53:55.886  INFO 27304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-20T08:53:55.886+0100 I CONTROL  [conn3] now exiting
2018-07-20 08:53:55.886  INFO 27304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-20T08:53:55.886+0100 I NETWORK  [conn3] shutdown: going to close listening sockets...
2018-07-20 08:53:55.887  INFO 27304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-20T08:53:55.886+0100 I NETWORK  [conn3] closing listening socket: 5
2018-07-20 08:53:55.887  INFO 27304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-20T08:53:55.887+0100 I NETWORK  [conn3] closing listening socket: 6
2018-07-20 08:53:55.887  INFO 27304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-20T08:53:55.887+0100 I NETWORK  [conn3] removing socket file: /tmp/mongodb-42804.sock
2018-07-20 08:53:55.887  INFO 27304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-20T08:53:55.887+0100 I NETWORK  [conn3] shutdown: going to flush diaglog...
2018-07-20 08:53:55.887  INFO 27304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-20T08:53:55.887+0100 I NETWORK  [conn3] shutdown: going to close sockets...
2018-07-20 08:53:55.888  INFO 27304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-20T08:53:55.888+0100 I STORAGE  [conn3] WiredTigerKVEngine shutting down
2018-07-20 08:53:55.892  INFO 27304 --- [Thread-5] org.mongodb.driver.connection            : Closed connection [connectionId{localValue:2, serverValue:2}] to localhost:42804 because the pool has been closed.
2018-07-20 08:53:55.895  INFO 27304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-20T08:53:55.894+0100 I NETWORK  [conn2] end connection 127.0.0.1:44193 (2 connections now open)
2018-07-20 08:53:55.895  INFO 27304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-20T08:53:55.895+0100 I NETWORK  [conn1] end connection 127.0.0.1:44192 (2 connections now open)
2018-07-20 08:53:55.933  INFO 27304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-20T08:53:55.933+0100 I STORAGE  [conn3] shutdown: removing fs lock...
2018-07-20 08:53:55.934  INFO 27304 --- [Thread-2] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2018-07-20T08:53:55.934+0100 I CONTROL  [conn3] dbexit:  rc: 0
2018-07-20 08:53:56.026  WARN 27304 --- [Thread-1] d.f.e.process.runtime.AbstractProcess    : Could not delete pid file: /tmp/extract-9f9f1a81-eec9-4577-beba-21717ca5b666extractmongod.pid
